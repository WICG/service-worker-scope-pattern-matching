<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>URLPattern API</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
  <link href="https://wicg.github.io/urlpattern/" rel="canonical">
<style>
.selected-text-file-an-issue {
  position: fixed;
  bottom: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.8);
  font-size: smaller;
  padding: 4px 10px;
  z-index: 4;
}

dfn var {
  font-style: italic;
}

table {
  margin: 1em 0;
}

/* WHATWG-style <hr>s, instead of WICG-style. Specific selector is necessary to override WICG styles. */
:not(.head) > :not(.head) + hr {
  display: block;
  background: none;
  border: none;
  padding: 0;
  margin: 3em 0;
  height: auto;
}
:not(.head) > :not(.head) + hr::before {
  content: none;
}

/* domintro from https://resources.whatwg.org/standard.css */
.domintro {
  position: relative;
  color: green;
  background: #DDFFDD;
  margin: 2.5em 0 2em 0;
  padding: 1.5em 1em 0.5em 2em;
}

.domintro dt, .domintro dt * {
  color: black;
  font-size: inherit;
}
.domintro dd {
  margin: 0.5em 0 1em 2em; padding: 0;
}
.domintro dd p {
  margin: 0.5em 0;
}
.domintro::before {
  content: 'For web developers (non-normative)';
  background: green;
  color: white;
  padding: 0.15em 0.25em;
  font-style: normal;
  position: absolute;
  top: -0.8em;
  left: -0.8em;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: red;
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: green;
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: red;
}
.mdn-anno > .feature > .all-engines-text {
	color: green;
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">URLPattern API</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2023-09-12">12 September 2023</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/urlpattern/">https://wicg.github.io/urlpattern/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:wanderview@chromium.org">Ben Kelly</a> (<a class="p-org org" href="https://www.google.com/">Google</a>)
     <dt>Participate:
     <dd><a href="https://github.com/WICG/urlpattern">GitHub WICG/urlpattern</a> (<a href="https://github.com/WICG/urlpattern/issues/new">new issue</a>, <a href="https://github.com/WICG/urlpattern/issues?state=open">open issues</a>)
     <dt>Commits:
     <dd><a href="https://github.com/WICG/urlpattern/commits/main/spec.bs">GitHub spec.bs commits</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 the Contributors to the URLPattern API Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>The URLPattern API provides a web platform primitive for matching URLs based on a convenient pattern syntax.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
   <p>This proposal will hopefully move into the WHATWG URL workstream in the future.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#urlpattern-class"><span class="secno">1</span> <span class="content">The <code class="idl"><span>URLPattern</span></code> class </span></a>
     <ol class="toc">
      <li><a href="#urlpattern-internals"><span class="secno">1.1</span> <span class="content">Internals</span></a>
      <li><a href="#constructor-string-parsing"><span class="secno">1.2</span> <span class="content">Constructor String Parsing</span></a>
     </ol>
    <li>
     <a href="#patterns"><span class="secno">2</span> <span class="content">Patterns</span></a>
     <ol class="toc">
      <li>
       <a href="#parsing-patterns"><span class="secno">2.1</span> <span class="content">Parsing Patterns</span></a>
       <ol class="toc">
        <li><a href="#tokens"><span class="secno">2.1.1</span> <span class="content">Tokens</span></a>
        <li><a href="#tokenizing"><span class="secno">2.1.2</span> <span class="content">Tokenizing</span></a>
        <li><a href="#parts"><span class="secno">2.1.3</span> <span class="content">Parts</span></a>
        <li><a href="#options-header"><span class="secno">2.1.4</span> <span class="content">Options</span></a>
        <li><a href="#parsing"><span class="secno">2.1.5</span> <span class="content">Parsing</span></a>
       </ol>
      <li><a href="#converting-part-lists-to-regular-expressions"><span class="secno">2.2</span> <span class="content">Converting Part Lists to Regular Expressions</span></a>
      <li><a href="#converting-part-lists-to-pattern-strings"><span class="secno">2.3</span> <span class="content">Converting Part Lists to Pattern Strings</span></a>
     </ol>
    <li>
     <a href="#canon"><span class="secno">3</span> <span class="content">Canonicalization</span></a>
     <ol class="toc">
      <li><a href="#canon-encoding-callbacks"><span class="secno">3.1</span> <span class="content">Encoding Callbacks</span></a>
      <li><a href="#canon-processing-for-init"><span class="secno">3.2</span> <span class="content"><code class="idl"><span>URLPatternInit</span></code> Processing</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
<script async src="https://resources.whatwg.org/file-issue.js"></script>
   <h2 class="heading settled" data-level="1" id="urlpattern-class"><span class="secno">1. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern">URLPattern</a></code> class </span><a class="self-link" href="#urlpattern-class"></a></h2>
<pre class="idl highlight def"><c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit"><c- n>URLPatternInit</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-urlpatterninput"><code><c- g>URLPatternInput</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="urlpattern"><code><c- g>URLPattern</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-urlpattern-urlpattern" id="ref-for-dom-urlpattern-urlpattern"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput"><c- n>URLPatternInput</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/URLPattern(input, baseURL, options), URLPattern/constructor(input, baseURL, options), URLPattern/URLPattern(input, baseURL), URLPattern/constructor(input, baseURL)" data-dfn-type="argument" data-export id="dom-urlpattern-urlpattern-input-baseurl-options-input"><code><c- g>input</c-></code><a class="self-link" href="#dom-urlpattern-urlpattern-input-baseurl-options-input"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/URLPattern(input, baseURL, options), URLPattern/constructor(input, baseURL, options), URLPattern/URLPattern(input, baseURL), URLPattern/constructor(input, baseURL)" data-dfn-type="argument" data-export id="dom-urlpattern-urlpattern-input-baseurl-options-baseurl"><code><c- g>baseURL</c-></code><a class="self-link" href="#dom-urlpattern-urlpattern-input-baseurl-options-baseurl"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-urlpatternoptions" id="ref-for-dictdef-urlpatternoptions"><c- n>URLPatternOptions</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/URLPattern(input, baseURL, options), URLPattern/constructor(input, baseURL, options), URLPattern/URLPattern(input, baseURL), URLPattern/constructor(input, baseURL)" data-dfn-type="argument" data-export id="dom-urlpattern-urlpattern-input-baseurl-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-urlpattern-urlpattern-input-baseurl-options-options"></a></dfn> = {});
  <a class="idl-code" data-link-type="constructor" href="#dom-urlpattern-urlpattern-input-options" id="ref-for-dom-urlpattern-urlpattern-input-options"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput①"><c- n>URLPatternInput</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/URLPattern(input, options), URLPattern/constructor(input, options), URLPattern/URLPattern(input), URLPattern/constructor(input), URLPattern/URLPattern(), URLPattern/constructor()" data-dfn-type="argument" data-export id="dom-urlpattern-urlpattern-input-options-input"><code><c- g>input</c-></code><a class="self-link" href="#dom-urlpattern-urlpattern-input-options-input"></a></dfn> = {}, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-urlpatternoptions" id="ref-for-dictdef-urlpatternoptions①"><c- n>URLPatternOptions</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/URLPattern(input, options), URLPattern/constructor(input, options), URLPattern/URLPattern(input), URLPattern/constructor(input), URLPattern/URLPattern(), URLPattern/constructor()" data-dfn-type="argument" data-export id="dom-urlpattern-urlpattern-input-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-urlpattern-urlpattern-input-options-options"></a></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-urlpattern-test" id="ref-for-dom-urlpattern-test"><c- g>test</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput②"><c- n>URLPatternInput</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/test(input, baseURL), URLPattern/test(input), URLPattern/test()" data-dfn-type="argument" data-export id="dom-urlpattern-test-input-baseurl-input"><code><c- g>input</c-></code><a class="self-link" href="#dom-urlpattern-test-input-baseurl-input"></a></dfn> = {}, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/test(input, baseURL), URLPattern/test(input), URLPattern/test()" data-dfn-type="argument" data-export id="dom-urlpattern-test-input-baseurl-baseurl"><code><c- g>baseURL</c-></code><a class="self-link" href="#dom-urlpattern-test-input-baseurl-baseurl"></a></dfn>);

  <a data-link-type="idl-name" href="#dictdef-urlpatternresult" id="ref-for-dictdef-urlpatternresult"><c- n>URLPatternResult</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-urlpattern-exec" id="ref-for-dom-urlpattern-exec"><c- g>exec</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput③"><c- n>URLPatternInput</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/exec(input, baseURL), URLPattern/exec(input), URLPattern/exec()" data-dfn-type="argument" data-export id="dom-urlpattern-exec-input-baseurl-input"><code><c- g>input</c-></code><a class="self-link" href="#dom-urlpattern-exec-input-baseurl-input"></a></dfn> = {}, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="URLPattern/exec(input, baseURL), URLPattern/exec(input), URLPattern/exec()" data-dfn-type="argument" data-export id="dom-urlpattern-exec-input-baseurl-baseurl"><code><c- g>baseURL</c-></code><a class="self-link" href="#dom-urlpattern-exec-input-baseurl-baseurl"></a></dfn>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-protocol" id="ref-for-dom-urlpattern-protocol"><c- g>protocol</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-username" id="ref-for-dom-urlpattern-username"><c- g>username</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-password" id="ref-for-dom-urlpattern-password"><c- g>password</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-hostname" id="ref-for-dom-urlpattern-hostname"><c- g>hostname</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-port" id="ref-for-dom-urlpattern-port"><c- g>port</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-pathname" id="ref-for-dom-urlpattern-pathname"><c- g>pathname</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-search" id="ref-for-dom-urlpattern-search"><c- g>search</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①①"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-hash" id="ref-for-dom-urlpattern-hash"><c- g>hash</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-urlpatterninit"><code><c- g>URLPatternInit</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-protocol"><code><c- g>protocol</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-username"><code><c- g>username</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-password"><code><c- g>password</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-hostname"><code><c- g>hostname</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-port"><code><c- g>port</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-pathname"><code><c- g>pathname</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-search"><code><c- g>search</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑨"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-hash"><code><c- g>hash</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternInit" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterninit-baseurl"><code><c- g>baseURL</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-urlpatternoptions"><code><c- g>URLPatternOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="URLPatternOptions" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-urlpatternoptions-ignorecase"><code><c- g>ignoreCase</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-urlpatternresult"><code><c- g>URLPatternResult</c-></code></dfn> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput④"><c- n>URLPatternInput</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="sequence<URLPatternInput> " id="dom-urlpatternresult-inputs"><code><c- g>inputs</c-></code></dfn>;

  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-protocol"><code><c- g>protocol</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult①"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-username"><code><c- g>username</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult②"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-password"><code><c- g>password</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult③"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-hostname"><code><c- g>hostname</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult④"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-port"><code><c- g>port</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult⑤"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-pathname"><code><c- g>pathname</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult⑥"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-search"><code><c- g>search</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult⑦"><c- n>URLPatternComponentResult</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternResult" data-dfn-type="dict-member" data-export data-type="URLPatternComponentResult " id="dom-urlpatternresult-hash"><code><c- g>hash</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-urlpatterncomponentresult"><code><c- g>URLPatternComponentResult</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternComponentResult" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-urlpatterncomponentresult-input"><code><c- g>input</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②②"><c- b>USVString</c-></a>, (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②③"><c- b>USVString</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>)> <dfn class="dfn-paneled idl-code" data-dfn-for="URLPatternComponentResult" data-dfn-type="dict-member" data-export data-type="record<USVString, (USVString or undefined)> " id="dom-urlpatterncomponentresult-groups"><code><c- g>groups</c-></code></dfn>;
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-protocol-component">protocol component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern②">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-username-component">username component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component①">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern③">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-password-component">password component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component②">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern④">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-hostname-component">hostname component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component③">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern⑤">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-port-component">port component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component④">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern⑥">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-pathname-component">pathname component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component⑤">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern⑦">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-search-component">search component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component⑥">component</a>, which must be set upon creation.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern⑧">URLPattern</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-hash-component">hash component</dfn>, a <a data-link-type="dfn" href="#component" id="ref-for-component⑦">component</a>, which must be set upon creation.</p>
   <dl class="domintro non-normative">
    <dt><code><var>urlPattern</var> = new <code class="idl"><a data-link-type="idl" href="#dom-urlpattern-urlpattern" id="ref-for-dom-urlpattern-urlpattern①">URLPattern</a></code>(<var>input</var>)</code>
    <dd> Constructs a new <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern⑨">URLPattern</a></code> object.  The <var>input</var> is an object containing separate patterns for each URL component; e.g. hostname, pathname, etc.  Missing components will default to a wildcard pattern.  In addition, <var>input</var> can contain a <code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-baseurl" id="ref-for-dom-urlpatterninit-baseurl">baseURL</a></code> property that provides static text patterns for any missing components. 
    <dt><code><var>urlPattern</var> = new <code class="idl"><a data-link-type="idl" href="#dom-urlpattern-urlpattern" id="ref-for-dom-urlpattern-urlpattern②">URLPattern</a></code>(<var>patternString</var>, <var>baseURL</var>)</code>
    <dd> Constructs a new <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①⓪">URLPattern</a></code> object. <var>patternString</var> is a URL string containing pattern syntax for one or more components.  If <var>baseURL</var> is provided, then <var>patternString</var> can be relative.  This constructor will always set at least an empty string value and does not default any components to wildcard patterns. 
    <dt><code><var>urlPattern</var> = new <code class="idl"><a data-link-type="idl" href="#dom-urlpattern-urlpattern" id="ref-for-dom-urlpattern-urlpattern③">URLPattern</a></code>(<var>input</var>, <var>options</var>)</code>
    <dd>
      Constructs a new <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①①">URLPattern</a></code> object.  The <var>options</var> is an object containing the additional configuration options that can affect how the components are matched.  Currently it has only one property <code class="idl"><a data-link-type="idl" href="#dom-urlpatternoptions-ignorecase" id="ref-for-dom-urlpatternoptions-ignorecase">ignoreCase</a></code> which can be set to true to enable case-insensitive matching. 
     <p>Note that by default, that is in the absence of the <var>options</var> argument, matching is always case-sensitive.</p>
    <dt><code><var>urlPattern</var> = new <code class="idl"><a data-link-type="idl" href="#dom-urlpattern-urlpattern" id="ref-for-dom-urlpattern-urlpattern④">URLPattern</a></code>(<var>patternString</var>, <var>baseURL</var>, <var>options</var>)</code>
    <dd> Constructs a new <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①②">URLPattern</a></code> object.  This overrides supports a <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatternoptions" id="ref-for-dictdef-urlpatternoptions②">URLPatternOptions</a></code> object when constructing a pattern from a <var>patternString</var> object, describing the patterns for individual components, and base URL. 
    <dt><code><var>matches</var> = <var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-test" id="ref-for-dom-urlpattern-test①">test</a></code>(<var>input</var>)</code>
    <dd> Tests if <var>urlPattern</var> matches the given arguments.  The <var>input</var> is an object containing strings representing each URL component; e.g. hostname, pathname, etc.  Missing components are treated as empty strings.  In addition, <var>input</var> can contain a <code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-baseurl" id="ref-for-dom-urlpatterninit-baseurl①">baseURL</a></code> property that provides values for any missing components.  If <var>urlPattern</var> matches the <var>input</var> on a component-by-component basis then true is returned.  Otherwise, false is returned. 
    <dt><code><var>matches</var> = <var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-test" id="ref-for-dom-urlpattern-test②">test</a></code>(<var>url</var>, <var>baseURL</var>)</code>
    <dd>
      Tests if <var>urlPattern</var> matches the given arguments. <var>url</var> is a URL string.  If <var>baseURL</var> is provided, then <var>url</var> can be relative. 
     <p>If <var>urlPattern</var> matches the <var>input</var> on a component-by-component basis then true is returned.  Otherwise, false is returned.</p>
    <dt><code><var>result</var> = <var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-exec" id="ref-for-dom-urlpattern-exec①">exec</a></code>(<var>input</var>)</code>
    <dd>
      Executes the <var>urlPattern</var> against the given arguments.  The <var>input</var> is an object containing strings representing each URL component; e.g. hostname, pathname, etc.  Missing components are treated as empty strings.  In addition, <var>input</var> can contain a baseURL property that provides values for any missing components. 
     <p>If <var>urlPattern</var> matches the <var>input</var> on a component-by-component basis then an object is returned containing the results.  Matched group values are contained in per-component group objects within the <var>result</var> object; e.g. <code>matches.pathname.groups.id</code>.  If <var>urlPattern</var> does not match the <var>input</var>, then <var>result</var> is null.</p>
    <dt><code><var>result</var> = <var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-exec" id="ref-for-dom-urlpattern-exec②">exec</a></code>(<var>url</var>, <var>baseURL</var>)</code>
    <dd>
      Executes the <var>urlPattern</var> against the given arguments. <var>url</var> is a URL string.  If <var>baseURL</var> is provided, then <var>input</var> can be relative. 
     <p>If <var>urlPattern</var> matches the <var>input</var> on a component-by-component basis then an object is returned containing the results.  Matched group values are contained in per-component group objects within the <var>result</var> object; e.g. <code>matches.pathname.groups.id</code>.  If <var>urlPattern</var> does not match the <var>input</var>, then <var>result</var> is null.</p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-protocol" id="ref-for-dom-urlpattern-protocol①">protocol</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized protocol pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-username" id="ref-for-dom-urlpattern-username①">username</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized username pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-password" id="ref-for-dom-urlpattern-password①">password</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized password pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-hostname" id="ref-for-dom-urlpattern-hostname①">hostname</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized hostname pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-port" id="ref-for-dom-urlpattern-port①">port</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized port pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-pathname" id="ref-for-dom-urlpattern-pathname①">pathname</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized pathname pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-search" id="ref-for-dom-urlpattern-search①">search</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized search pattern string. </p>
    <dt><code><var>urlPattern</var>.<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-hash" id="ref-for-dom-urlpattern-hash①">hash</a></code></code>
    <dd>
     <p>Returns <var>urlPattern</var>’s normalized hash pattern string. </p>
   </dl>
   <div class="algorithm" data-algorithm="URLPattern(input, baseURL, options)" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="constructor" data-export data-lt="URLPattern(input, baseURL, options)|constructor(input, baseURL, options)|URLPattern(input, baseURL)|constructor(input, baseURL)" id="dom-urlpattern-urlpattern"><code>new URLPattern(<var>input</var>, <var>baseURL</var>, <var>options</var>)</code></dfn> constructor steps are: 
    <ol>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#urlpattern-initialize" id="ref-for-urlpattern-initialize">initialize</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>, <var>input</var>, <var>baseURL</var>, and <var>options</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="URLPattern(input, options)" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="constructor" data-export data-lt="URLPattern(input, options)|constructor(input, options)|URLPattern(input)|constructor(input)|URLPattern()|constructor()" id="dom-urlpattern-urlpattern-input-options"><code>new URLPattern(<var>input</var>, <var>options</var>)</code></dfn> constructor steps are: 
    <ol>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#urlpattern-initialize" id="ref-for-urlpattern-initialize①">initialize</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>, <var>input</var>, null, and <var>options</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="initialize" data-algorithm-for="URLPattern">
     To <dfn class="dfn-paneled" data-dfn-for="URLPattern" data-dfn-type="dfn" data-noexport id="urlpattern-initialize">initialize</dfn> a <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①③">URLPattern</a></code> given a <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①④">URLPattern</a></code> <var>this</var>, <code class="idl"><a data-link-type="idl" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput⑤">URLPatternInput</a></code> <var>input</var>, string or null <var>baseURL</var>, and <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatternoptions" id="ref-for-dictdef-urlpatternoptions③">URLPatternOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p>Let <var>init</var> be null.</p>
     <li data-md>
      <p>If <var>input</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value-string" id="ref-for-scalar-value-string">scalar value string</a> then:</p>
      <ol>
       <li data-md>
        <p>Set <var>init</var> to the result of running <a data-link-type="dfn" href="#parse-a-constructor-string" id="ref-for-parse-a-constructor-string">parse a constructor string</a> given <var>input</var>.</p>
       <li data-md>
        <p>If <var>baseURL</var> is null and <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol">protocol</a></code>"] is null, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
       <li data-md>
        <p>Set <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-baseurl" id="ref-for-dom-urlpatterninit-baseurl②">baseURL</a></code>"] to <var>baseURL</var>.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>input</var> is a <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit①">URLPatternInit</a></code>.</p>
       <li data-md>
        <p>If <var>baseURL</var> is not null, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
       <li data-md>
        <p>Set <var>init</var> to <var>input</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>processedInit</var> be the result of <a data-link-type="dfn" href="#process-a-urlpatterninit" id="ref-for-process-a-urlpatterninit">process a URLPatternInit</a> given <var>init</var>, "<code>pattern</code>", null, null, null, null, null, null, null, and null.</p>
     <li data-md>
      <p>If <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol①">protocol</a></code>"] is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#special-scheme" id="ref-for-special-scheme">special scheme</a> and <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port">port</a></code>"] is its corresponding <a data-link-type="dfn" href="https://url.spec.whatwg.org/#default-port" id="ref-for-default-port">default port</a>, then set <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port①">port</a></code>"] to the empty string.</p>
     <li data-md>
      <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-protocol-component" id="ref-for-urlpattern-protocol-component">protocol component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol②">protocol</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-protocol" id="ref-for-canonicalize-a-protocol">canonicalize a protocol</a>, and <a data-link-type="dfn" href="#default-options" id="ref-for-default-options">default options</a>.</p>
     <li data-md>
      <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-username-component" id="ref-for-urlpattern-username-component">username component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component①">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username">username</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-username" id="ref-for-canonicalize-a-username">canonicalize a username</a>, and <a data-link-type="dfn" href="#default-options" id="ref-for-default-options①">default options</a>.</p>
     <li data-md>
      <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-password-component" id="ref-for-urlpattern-password-component">password component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component②">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password">password</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-password" id="ref-for-canonicalize-a-password">canonicalize a password</a>, and <a data-link-type="dfn" href="#default-options" id="ref-for-default-options②">default options</a>.</p>
     <li data-md>
      <p>If the result running <a data-link-type="dfn" href="#hostname-pattern-is-an-ipv6-address" id="ref-for-hostname-pattern-is-an-ipv6-address">hostname pattern is an IPv6 address</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname">hostname</a></code>"] is true, then set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-hostname-component" id="ref-for-urlpattern-hostname-component">hostname component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component③">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname①">hostname</a></code>"], <a data-link-type="dfn" href="#canonicalize-an-ipv6-hostname" id="ref-for-canonicalize-an-ipv6-hostname">canonicalize an IPv6 hostname</a>, and <a data-link-type="dfn" href="#hostname-options" id="ref-for-hostname-options">hostname options</a>.</p>
     <li data-md>
      <p>Otherwise, set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-hostname-component" id="ref-for-urlpattern-hostname-component①">hostname component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component④">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname②">hostname</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-hostname" id="ref-for-canonicalize-a-hostname">canonicalize a hostname</a>, and <a data-link-type="dfn" href="#hostname-options" id="ref-for-hostname-options①">hostname options</a>.</p>
     <li data-md>
      <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-port-component" id="ref-for-urlpattern-port-component">port component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component⑤">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port②">port</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-port" id="ref-for-canonicalize-a-port">canonicalize a port</a>, and <a data-link-type="dfn" href="#default-options" id="ref-for-default-options③">default options</a>.</p>
     <li data-md>
      <p>Let <var>compileOptions</var> be a copy of the <a data-link-type="dfn" href="#default-options" id="ref-for-default-options④">default options</a> with the <a data-link-type="dfn" href="#options-ignore-case" id="ref-for-options-ignore-case">ignore case</a> property set to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternoptions-ignorecase" id="ref-for-dom-urlpatternoptions-ignorecase①">ignoreCase</a></code>"].</p>
     <li data-md>
      <p>If the result of running <a data-link-type="dfn" href="#protocol-component-matches-a-special-scheme" id="ref-for-protocol-component-matches-a-special-scheme">protocol component matches a special scheme</a> given <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-protocol-component" id="ref-for-urlpattern-protocol-component①">protocol component</a> is true, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>pathCompileOptions</var> be copy of the <a data-link-type="dfn" href="#pathname-options" id="ref-for-pathname-options">pathname options</a> with the the <a data-link-type="dfn" href="#options-ignore-case" id="ref-for-options-ignore-case①">ignore case</a> property set to <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternoptions-ignorecase" id="ref-for-dom-urlpatternoptions-ignorecase②">ignoreCase</a></code>"].</p>
       <li data-md>
        <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-pathname-component" id="ref-for-urlpattern-pathname-component">pathname component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component⑥">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname">pathname</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-pathname" id="ref-for-canonicalize-a-pathname">canonicalize a pathname</a>, and <var>pathCompileOptions</var>.</p>
      </ol>
     <li data-md>
      <p>Otherwise set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-pathname-component" id="ref-for-urlpattern-pathname-component①">pathname component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component⑦">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname①">pathname</a></code>"], <a data-link-type="dfn" href="#canonicalize-an-opaque-pathname" id="ref-for-canonicalize-an-opaque-pathname">canonicalize an opaque pathname</a>, and <var>compileOptions</var>.</p>
     <li data-md>
      <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-search-component" id="ref-for-urlpattern-search-component">search component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component⑧">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search">search</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-search" id="ref-for-canonicalize-a-search">canonicalize a search</a>, and <var>compileOptions</var>.</p>
     <li data-md>
      <p>Set <var>this</var>’s <a data-link-type="dfn" href="#urlpattern-hash-component" id="ref-for-urlpattern-hash-component">hash component</a> to the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component⑨">compiling a component</a> given <var>processedInit</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash">hash</a></code>"], <a data-link-type="dfn" href="#canonicalize-a-hash" id="ref-for-canonicalize-a-hash">canonicalize a hash</a>, and <var>compileOptions</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="protocol" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-protocol"><code>protocol</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="#urlpattern-protocol-component" id="ref-for-urlpattern-protocol-component②">protocol component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="username" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-username"><code>username</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="#urlpattern-username-component" id="ref-for-urlpattern-username-component①">username component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string①">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="password" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-password"><code>password</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="#urlpattern-password-component" id="ref-for-urlpattern-password-component①">password component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string②">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="hostname" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-hostname"><code>hostname</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>'s <a data-link-type="dfn" href="#urlpattern-hostname-component" id="ref-for-urlpattern-hostname-component②">hostname component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string③">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="port" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-port"><code>port</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>'s <a data-link-type="dfn" href="#urlpattern-port-component" id="ref-for-urlpattern-port-component①">port component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string④">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="pathname" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-pathname"><code>pathname</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>'s <a data-link-type="dfn" href="#urlpattern-pathname-component" id="ref-for-urlpattern-pathname-component②">pathname component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string⑤">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="search" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-search"><code>search</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>'s <a data-link-type="dfn" href="#urlpattern-search-component" id="ref-for-urlpattern-search-component①">search component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string⑥">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="hash" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="attribute" data-export id="dom-urlpattern-hash"><code>hash</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>'s <a data-link-type="dfn" href="#urlpattern-hash-component" id="ref-for-urlpattern-hash-component①">hash component</a>'s <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string⑦">pattern string</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="test(input, baseURL)" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="method" data-export data-lt="test(input, baseURL)|test(input)|test()" id="dom-urlpattern-test"><code>test(<var>input</var>, <var>baseURL</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be the result of <a data-link-type="dfn" href="#match" id="ref-for-match">match</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>, <var>input</var>, and <var>baseURL</var> if given.</p>
     <li data-md>
      <p>If <var>result</var> is null, return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="exec(input, baseURL)" data-algorithm-for="URLPattern">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="URLPattern" data-dfn-type="method" data-export data-lt="exec(input, baseURL)|exec(input)|exec()" id="dom-urlpattern-exec"><code>exec(<var>input</var>, <var>baseURL</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#match" id="ref-for-match①">match</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>, <var>input</var>, and <var>baseURL</var> if given.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.1" id="urlpattern-internals"><span class="secno">1.1. </span><span class="content">Internals</span><a class="self-link" href="#urlpattern-internals"></a></h3>
   <p>A <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①⑤">URLPattern</a></code> is associated with multiple <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="component">component</dfn> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">structs</a>.</p>
   <p>A <a data-link-type="dfn" href="#component" id="ref-for-component⑧">component</a> has an associated <dfn class="dfn-paneled" data-dfn-for="component" data-dfn-type="dfn" data-noexport id="component-pattern-string">pattern string</dfn>, a <a data-link-type="dfn" href="#pattern-string-well-formed" id="ref-for-pattern-string-well-formed">well formed</a> <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string">pattern string</a>, which must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#component" id="ref-for-component⑨">component</a> has an associated <dfn class="dfn-paneled" data-dfn-for="component" data-dfn-type="dfn" data-noexport id="component-regular-expression">regular expression</dfn>, a <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-regexp-regular-expression-objects" id="ref-for-sec-regexp-regular-expression-objects">RegExp</a></code>, which must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#component" id="ref-for-component①⓪">component</a> has an associated <dfn class="dfn-paneled" data-dfn-for="component" data-dfn-type="dfn" data-noexport id="component-group-name-list">group name list</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of strings, which must be set upon creation.</p>
   <div class="algorithm" data-algorithm="compile a component">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compile-a-component">compile a component</dfn> given a string <var>input</var>, <a data-link-type="dfn" href="#encoding-callback" id="ref-for-encoding-callback">encoding callback</a> <var>encoding callback</var>, and <a data-link-type="dfn" href="#options" id="ref-for-options">options</a> <var>options</var>: 
    <ol>
     <li data-md>
      <p>If <var>input</var> is null, then set <var>input</var> to "<code>*</code>".</p>
     <li data-md>
      <p>Let <var>part list</var> be the result of running <a data-link-type="dfn" href="#parse-a-pattern-string" id="ref-for-parse-a-pattern-string">parse a pattern string</a> given <var>input</var>, <var>options</var>, and <var>encoding callback</var>.</p>
     <li data-md>
      <p>Let (<var>regular expression string</var>, <var>name list</var>) be the result of running <a data-link-type="dfn" href="#generate-a-regular-expression-and-name-list" id="ref-for-generate-a-regular-expression-and-name-list">generate a regular expression and name list</a> given <var>part list</var> and <var>options</var>.</p>
     <li data-md>
      <p>Let <var>flags</var> be an empty string.</p>
     <li data-md>
      <p>If <var>options</var>’s <a data-link-type="dfn" href="#options-ignore-case" id="ref-for-options-ignore-case②">ignore case</a> is true then set <var>flags</var> to "<code>ui</code>".</p>
     <li data-md>
      <p>Otherwise set <var>flags</var> to "<code>u</code>"</p>
     <li data-md>
      <p>Let <var>regular expression</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpcreate" id="ref-for-sec-regexpcreate">RegExpCreate</a>(<var>regular expression string</var>, <var>flags</var>).  If this throws an exception, catch it, and throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
      <p class="note allow-2119" role="note">The specification uses regular expressions to perform all matching, but this is not required.  Implementations are free to perform matching directly against the <a data-link-type="dfn" href="#part-list" id="ref-for-part-list">part list</a> when possible; e.g. when there are no custom regexp matching groups.  If there are custom regular expressions, however, its important that they should be immediately evaluated in the <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component①⓪">compile a component</a> algorithm so an error can be thrown if they are invalid. </p>
     <li data-md>
      <p>Let <var>pattern string</var> be the result of running <a data-link-type="dfn" href="#generate-a-pattern-string" id="ref-for-generate-a-pattern-string">generate a pattern string</a> given <var>part list</var> and <var>options</var>.</p>
     <li data-md>
      <p>Return a new <a data-link-type="dfn" href="#component" id="ref-for-component①①">component</a> whose <a data-link-type="dfn" href="#component-pattern-string" id="ref-for-component-pattern-string⑧">pattern string</a> is <var>pattern string</var>, <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression">regular expression</a> is <var>regular expression</var>, and <a data-link-type="dfn" href="#component-group-name-list" id="ref-for-component-group-name-list">group name list</a> is <var>name list</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="match">
     To perform a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match">match</dfn> given a <code class="idl"><a data-link-type="idl" href="#urlpattern" id="ref-for-urlpattern①⑥">URLPattern</a></code> <var>urlpattern</var>, a <code class="idl"><a data-link-type="idl" href="#typedefdef-urlpatterninput" id="ref-for-typedefdef-urlpatterninput⑥">URLPatternInput</a></code> <var>input</var>, and an optional string <var>baseURLString</var>: 
    <ol>
     <li data-md>
      <p>Let <var>protocol</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>username</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>password</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>hostname</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>port</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>pathname</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>search</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>hash</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>inputs</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>input</var> to <var>inputs</var>.</p>
     <li data-md>
      <p>If <var>input</var> is a <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit②">URLPatternInit</a></code> then:</p>
      <ol>
       <li data-md>
        <p>If <var>baseURLString</var> was given, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
       <li data-md>
        <p>Let <var>applyResult</var> be the result of <a data-link-type="dfn" href="#process-a-urlpatterninit" id="ref-for-process-a-urlpatterninit①">process a URLPatternInit</a> given <var>input</var>, "url", <var>protocol</var>, <var>username</var>, <var>password</var>, <var>hostname</var>, <var>port</var>, <var>pathname</var>, <var>search</var>, and <var>hash</var>. If this throws an exception, catch it, and return null.</p>
       <li data-md>
        <p>Set <var>protocol</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol③">protocol</a></code>"].</p>
       <li data-md>
        <p>Set <var>username</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username①">username</a></code>"].</p>
       <li data-md>
        <p>Set <var>password</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password①">password</a></code>"].</p>
       <li data-md>
        <p>Set <var>hostname</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname③">hostname</a></code>"].</p>
       <li data-md>
        <p>Set <var>port</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port③">port</a></code>"].</p>
       <li data-md>
        <p>Set <var>pathname</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname②">pathname</a></code>"].</p>
       <li data-md>
        <p>Set <var>search</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search①">search</a></code>"].</p>
       <li data-md>
        <p>Set <var>hash</var> to <var>applyResult</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash①">hash</a></code>"].</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>Let <var>baseURL</var> be null.</p>
       <li data-md>
        <p>If <var>baseURLString</var> was given, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>baseURL</var> to the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">parsing</a> <var>baseURLString</var>.</p>
         <li data-md>
          <p>If <var>baseURL</var> is failure, return null.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>baseURLString</var> to <var>inputs</var>.</p>
        </ol>
       <li data-md>
        <p>Let <var>url</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">parsing</a> <var>input</var> given <var>baseURL</var>.</p>
       <li data-md>
        <p>If <var>url</var> is failure, return null.</p>
       <li data-md>
        <p>Set <var>protocol</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a>.</p>
       <li data-md>
        <p>Set <var>username</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-username" id="ref-for-concept-url-username">username</a>.</p>
       <li data-md>
        <p>Set <var>password</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-password" id="ref-for-concept-url-password">password</a>.</p>
       <li data-md>
        <p>Set <var>hostname</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">host</a> or the empty string if the value is null.</p>
       <li data-md>
        <p>Set <var>port</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port">port</a> or the empty string if the value is null.</p>
       <li data-md>
        <p>Set <var>pathname</var> to the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-path-serializer" id="ref-for-url-path-serializer">URL path serializing</a> <var>url</var>.</p>
       <li data-md>
        <p>Set <var>search</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query">query</a> or the empty string if the value is null.</p>
       <li data-md>
        <p>Set <var>hash</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> or the empty string if the value is null.</p>
      </ol>
     <li data-md>
      <p>Let <var>protocolExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-protocol-component" id="ref-for-urlpattern-protocol-component③">protocol component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression①">regular expression</a>, <var>protocol</var>).</p>
     <li data-md>
      <p>Let <var>usernameExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec①">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-username-component" id="ref-for-urlpattern-username-component②">username component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression②">regular expression</a>, <var>username</var>).</p>
     <li data-md>
      <p>Let <var>passwordExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec②">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-password-component" id="ref-for-urlpattern-password-component②">password component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression③">regular expression</a>, <var>password</var>).</p>
     <li data-md>
      <p>Let <var>hostnameExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec③">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-hostname-component" id="ref-for-urlpattern-hostname-component③">hostname component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression④">regular expression</a>, <var>hostname</var>).</p>
     <li data-md>
      <p>Let <var>portExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec④">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-port-component" id="ref-for-urlpattern-port-component②">port component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression⑤">regular expression</a>, <var>port</var>).</p>
     <li data-md>
      <p>Let <var>pathnameExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec⑤">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-pathname-component" id="ref-for-urlpattern-pathname-component③">pathname component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression⑥">regular expression</a>, <var>pathname</var>).</p>
     <li data-md>
      <p>Let <var>searchExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec⑥">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-search-component" id="ref-for-urlpattern-search-component②">search component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression⑦">regular expression</a>, <var>search</var>).</p>
     <li data-md>
      <p>Let <var>hashExecResult</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec⑦">RegExpBuiltinExec</a>(<var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-hash-component" id="ref-for-urlpattern-hash-component②">hash component</a>'s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression⑧">regular expression</a>, <var>hash</var>).</p>
     <li data-md>
      <p>If <var>protocolExecResult</var>, <var>usernameExecResult</var>, <var>passwordExecResult</var>, <var>hostnameExecResult</var>, <var>portExecResult</var>, <var>pathnameExecResult</var>, <var>searchExecResult</var>, or <var>hashExecResult</var> are null then return null.</p>
     <li data-md>
      <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatternresult" id="ref-for-dictdef-urlpatternresult①">URLPatternResult</a></code>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-inputs" id="ref-for-dom-urlpatternresult-inputs">inputs</a></code>"] to <var>inputs</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-protocol" id="ref-for-dom-urlpatternresult-protocol">protocol</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-protocol-component" id="ref-for-urlpattern-protocol-component④">protocol component</a>, <var>protocol</var>, and <var>protocolExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-username" id="ref-for-dom-urlpatternresult-username">username</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result①">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-username-component" id="ref-for-urlpattern-username-component③">username component</a>, <var>username</var>, and <var>usernameExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-password" id="ref-for-dom-urlpatternresult-password">password</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result②">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-password-component" id="ref-for-urlpattern-password-component③">password component</a>, <var>password</var>, and <var>passwordExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-hostname" id="ref-for-dom-urlpatternresult-hostname">hostname</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result③">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-hostname-component" id="ref-for-urlpattern-hostname-component④">hostname component</a>, <var>hostname</var>, and <var>hostnameExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-port" id="ref-for-dom-urlpatternresult-port">port</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result④">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-port-component" id="ref-for-urlpattern-port-component③">port component</a>, <var>port</var>, and <var>portExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-pathname" id="ref-for-dom-urlpatternresult-pathname">pathname</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result⑤">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-pathname-component" id="ref-for-urlpattern-pathname-component④">pathname component</a>, <var>pathname</var>, and <var>pathnameExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-search" id="ref-for-dom-urlpatternresult-search">search</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result⑥">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-search-component" id="ref-for-urlpattern-search-component③">search component</a>, <var>search</var>, and <var>searchExecResult</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatternresult-hash" id="ref-for-dom-urlpatternresult-hash">hash</a></code>"] to the result of <a data-link-type="dfn" href="#create-a-component-match-result" id="ref-for-create-a-component-match-result⑦">creating a component match result</a> given <var>urlpattern</var>’s <a data-link-type="dfn" href="#urlpattern-hash-component" id="ref-for-urlpattern-hash-component③">hash component</a>, <var>hash</var>, and <var>hashExecResult</var>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create a component match result">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-component-match-result">create a component match result</dfn> given a <a data-link-type="dfn" href="#component" id="ref-for-component①②">component</a> <var>component</var>, a string <var>input</var>, and an array representing the output of <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec⑧">RegExpBuiltinExec</a> <var>execResult</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterncomponentresult" id="ref-for-dictdef-urlpatterncomponentresult⑧">URLPatternComponentResult</a></code>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterncomponentresult-input" id="ref-for-dom-urlpatterncomponentresult-input">input</a></code>"] to <var>input</var>.</p>
     <li data-md>
      <p>Let <var>groups</var> be a <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record①">record</a>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②④">USVString</a></code>, (<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⑤">USVString</a></code> or <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①">undefined</a></code>)></code>.</p>
     <li data-md>
      <p>Let <var>index</var> be 1.</p>
     <li data-md>
      <p>While <var>index</var> is less than <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-get-o-p" id="ref-for-sec-get-o-p">Get</a>(<var>execResult</var>, "<code>length</code>"):</p>
      <ol>
       <li data-md>
        <p>Let <var>name</var> be <var>component</var>’s <a data-link-type="dfn" href="#component-group-name-list" id="ref-for-component-group-name-list①">group name list</a>[<var>index</var> − 1].</p>
       <li data-md>
        <p>Let <var>value</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-get-o-p" id="ref-for-sec-get-o-p①">Get</a>(<var>execResult</var>, <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-tostring" id="ref-for-sec-tostring">ToString</a>(<var>index</var>)).</p>
       <li data-md>
        <p>Set <var>groups</var>[<var>name</var>] to <var>value</var>.</p>
       <li data-md>
        <p>Increment <var>index</var> by 1.</p>
      </ol>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterncomponentresult-groups" id="ref-for-dom-urlpatterncomponentresult-groups">groups</a></code>"] to <var>groups</var>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-options">default options</dfn> is an <a data-link-type="dfn" href="#options" id="ref-for-options①">options</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with <a data-link-type="dfn" href="#options-delimiter-code-point" id="ref-for-options-delimiter-code-point">delimiter code point</a> set to the empty string and <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point">prefix code point</a> set to the empty string.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="hostname-options">hostname options</dfn> is an <a data-link-type="dfn" href="#options" id="ref-for-options②">options</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with <a data-link-type="dfn" href="#options-delimiter-code-point" id="ref-for-options-delimiter-code-point①">delimiter code point</a> set "<code>.</code>" and <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point①">prefix code point</a> set to the empty string.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pathname-options">pathname options</dfn> is an <a data-link-type="dfn" href="#options" id="ref-for-options③">options</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">struct</a> with <a data-link-type="dfn" href="#options-delimiter-code-point" id="ref-for-options-delimiter-code-point②">delimiter code point</a> set "<code>/</code>" and <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point②">prefix code point</a> set to "<code>/</code>".</p>
   <div class="algorithm" data-algorithm="protocol component matches a special scheme">
     To determine if a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="protocol-component-matches-a-special-scheme">protocol component matches a special scheme</dfn> given a <a data-link-type="dfn" href="#component" id="ref-for-component①③">component</a> <var>protocol component</var>: 
    <ol>
     <li data-md>
      <p>Let <var>special scheme list</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> populated with all of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#special-scheme" id="ref-for-special-scheme①">special schemes</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>scheme</var> of <var>special scheme list</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>test result</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-regexpbuiltinexec" id="ref-for-sec-regexpbuiltinexec⑨">RegExpBuiltinExec</a>(<var>protocol component</var>’s <a data-link-type="dfn" href="#component-regular-expression" id="ref-for-component-regular-expression⑨">regular expression</a>, <var>scheme</var>).</p>
       <li data-md>
        <p>If <var>test result</var> is not null, then return true.</p>
      </ol>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="hostname pattern is an IPv6 address">
     To determine if a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="hostname-pattern-is-an-ipv6-address">hostname pattern is an IPv6 address</dfn> given a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string①">pattern string</a> <var>input</var>: 
    <ol>
     <li data-md>
      <p>If <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length">code point length</a> is less than 2, then return false.</p>
     <li data-md>
      <p>Let <var>input code points</var> be <var>input</var> interpreted as a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point">code points</a>.</p>
     <li data-md>
      <p>If <var>input code points</var>[0] is U+005B (<code>[</code>), then return true.</p>
     <li data-md>
      <p>If <var>input code points</var>[0] is U+007B (<code>{</code>) and <var>input code points</var>[1] is U+005B (<code>[</code>), then return true.</p>
     <li data-md>
      <p>If <var>input code points</var>[0] is U+005C (<code>\</code>) and <var>input code points</var>[1] is U+005B (<code>[</code>), then return true.</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="1.2" id="constructor-string-parsing"><span class="secno">1.2. </span><span class="content">Constructor String Parsing</span><a class="self-link" href="#constructor-string-parsing"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="constructor-string-parser">constructor string parser</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct④">struct</a>.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-input">input</dfn>, a string, which must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-token-list">token list</dfn>, a <a data-link-type="dfn" href="#token-list" id="ref-for-token-list">token list</a>, which must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-result">result</dfn>, a <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit③">URLPatternInit</a></code>, initially set to a new <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit④">URLPatternInit</a></code>.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser③">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-component-start">component start</dfn>, a number, initially set to 0.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser④">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-token-index">token index</dfn>, a number, initially set to 0.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser⑤">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-token-increment">token increment</dfn>, a number, initially set to 1.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser⑥">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-group-depth">group depth</dfn>, a number, initially set to 0.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser⑦">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-hostname-ipv6-bracket-depth">hostname IPv6 bracket depth</dfn>, a number, initially set to 0.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser⑧">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-protocol-matches-a-special-scheme-flag">protocol matches a special scheme flag</dfn>, a boolean, initially set to false.</p>
   <p>A <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser⑨">constructor string parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="constructor string parser" data-dfn-type="dfn" data-export id="constructor-string-parser-state">state</dfn>, a string, initially set to "<a data-link-type="dfn" href="#constructor-string-parser-state-init" id="ref-for-constructor-string-parser-state-init"><code>init</code></a>".  It must be one of the following:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-noexport id="constructor-string-parser-state-init"><code>init</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-protocol"><code>protocol</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-authority"><code>authority</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-username"><code>username</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-password"><code>password</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-hostname"><code>hostname</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-port"><code>port</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-pathname"><code>pathname</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-search"><code>search</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-hash"><code>hash</code></dfn>"
    <li>"<dfn class="dfn-paneled" data-dfn-for="constructor string parser/state" data-dfn-type="dfn" data-export id="constructor-string-parser-state-done"><code>done</code></dfn>"
   </ul>
   <div class="note" role="note">
    <p>The URLPattern constructor string algorithm is very similar to the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser">basic URL parser</a> algorithm, but some differences prevent us from using that algorithm directly. </p>
    <p>First, the URLPattern constructor string parser operates on <a data-link-type="dfn" href="#token" id="ref-for-token">tokens</a> generated using the "<code>lenient</code>" <a data-link-type="dfn" href="#tokenize-policy" id="ref-for-tokenize-policy">tokenize policy</a>.  In constrast, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser①">basic URL parser</a> operates on code points.  Operating on <a data-link-type="dfn" href="#token" id="ref-for-token①">tokens</a> allows the URLPattern constructor string parser to more easily distinguish between code points that are significant pattern syntax and code points that might be a URL component separator.  For example, it makes it trivial to handle named groups like "<code>:hmm</code>" in "<code>https://a.c:hmm.example.com:8080</code>" without getting confused with the port number. </p>
    <p>Second, the URLPattern constructor string parser needs to avoid applying URL canonicalization to all code points like <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser②">basic URL parser</a> does.  Instead we perform canonicalization on only parts of the pattern string we know are safe later when compiling each component pattern string. </p>
    <p class="allow-2119">Finally, the URLPattern constructor string parser does not handle some parts of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser③">basic URL parser</a> state machine.  For example, it does not treat backslashes specially as they would all be treated as pattern characters and would require excessive escaping.  In addition, this parser may not handle some more esoteric parts of the URL parsing algorithm like file URLs with a hostname.  The goal with this parser was to handle the most common URLs while allowing any niche case to be handled instead via the <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit⑤">URLPatternInit</a></code> constructor. </p>
   </div>
   <div class="algorithm" data-algorithm="parse a constructor string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-constructor-string">parse a constructor string</dfn> given a string <var>input</var>: 
    <ol>
     <li data-md>
      <p>Let <var>parser</var> be a new <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①⓪">constructor string parser</a> whose <a data-link-type="dfn" href="#constructor-string-parser-input" id="ref-for-constructor-string-parser-input">input</a> is <var>input</var> and <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list">token list</a> is the result of running <a data-link-type="dfn" href="#tokenize" id="ref-for-tokenize">tokenize</a> given <var>input</var> and "<a data-link-type="dfn" href="#tokenize-policy-lenient" id="ref-for-tokenize-policy-lenient"><code>lenient</code></a>".</p>
      <div class="note" role="note">
       <p>When constructing a pattern using a <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit⑥">URLPatternInit</a></code> like <code>new URLPattern({ pathname: 'foo' })</code> any missing components will be defaulted to wildcards.  In the constructor string case, however, all components are precisely defined as either empty string or a longer value.  This is due to there being no way to simply "leave out" a component when writing a URL. </p>
       <p>To implement this we initialize components in <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result">result</a> with empty string in advance. </p>
       <p>We can’t, however, do this immediately.  We want to allow the <code>baseURL</code> to provide information for relative URLs, so we only want to set the default empty string values for components following the first component in the relative URL.  We therefore wait to set the default component values until after we exit the "<a data-link-type="dfn" href="#constructor-string-parser-state-init" id="ref-for-constructor-string-parser-state-init①"><code>init</code></a>" <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state">state</a>. </p>
      </div>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while" id="ref-for-iteration-while">While</a> <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index">token index</a> is less than <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list①">token list</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment">token increment</a> to 1.</p>
        <p class="note allow-2119" role="note">On every iteration of the parse loop the <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①">token index</a> will be incremented by its <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment①">token increment</a> value.  Typically this means incrementing by 1, but at certain times it is set to zero.  The <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment②">token increment</a> is then always reset back to 1 at the top of the loop. </p>
       <li data-md>
        <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list②">token list</a>[<var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②">token index</a>]'s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type">type</a> is "<a data-link-type="dfn" href="#token-type-end" id="ref-for-token-type-end"><code>end</code></a>" then:</p>
        <ol>
         <li data-md>
          <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state①">state</a> is "<a data-link-type="dfn" href="#constructor-string-parser-state-init" id="ref-for-constructor-string-parser-state-init②"><code>init</code></a>":</p>
          <div class="note" role="note">
           <p class="allow-2119">If we reached the end of the string in the "<a data-link-type="dfn" href="#constructor-string-parser-state-init" id="ref-for-constructor-string-parser-state-init③"><code>init</code></a>" <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state②">state</a>, then we failed to find a protocol terminator and this must be a relative URLPattern constructor string. </p>
          </div>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#rewind" id="ref-for-rewind">rewind</a> given <var>parser</var>.</p>
            <p class="note" role="note">We next determine at which component the relative pattern begins.  Relative pathnames are most common, but URLs and URLPattern constructor strings can begin with the search or hash components as well. </p>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-hash-prefix" id="ref-for-is-a-hash-prefix">is a hash prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hash" id="ref-for-constructor-string-parser-state-hash"><code>hash</code></a>" and 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-search-prefix" id="ref-for-is-a-search-prefix">is a search prefix</a> given <var>parser</var> is true:</p>
            <ol>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-search" id="ref-for-constructor-string-parser-state-search"><code>search</code></a>" and 1.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result①">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-hash" id="ref-for-dom-urlpattern-hash②">hash</a></code>"] to the empty string.</p>
            </ol>
           <li data-md>
            <p>Otherwise:</p>
            <ol>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state②">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-pathname" id="ref-for-constructor-string-parser-state-pathname"><code>pathname</code></a>" and 0.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result②">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-search" id="ref-for-dom-urlpattern-search②">search</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result③">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpattern-hash" id="ref-for-dom-urlpattern-hash③">hash</a></code>"] to the empty string.</p>
            </ol>
           <li data-md>
            <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index③">token index</a> by <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment③">token increment</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state③">state</a> is "<a data-link-type="dfn" href="#constructor-string-parser-state-authority" id="ref-for-constructor-string-parser-state-authority"><code>authority</code></a>":</p>
          <p class="note" role="note">If we reached the end of the string in the "<a data-link-type="dfn" href="#constructor-string-parser-state-authority" id="ref-for-constructor-string-parser-state-authority①"><code>authority</code></a>" <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state④">state</a>, then we failed to find an "<code>@</code>".  Therefore there is no username or password. </p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#rewind-and-set-state" id="ref-for-rewind-and-set-state">rewind and set state</a> given <var>parser</var>, and "<a data-link-type="dfn" href="#constructor-string-parser-state-hostname" id="ref-for-constructor-string-parser-state-hostname"><code>hostname</code></a>".</p>
           <li data-md>
            <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index④">token index</a> by <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment④">token increment</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state③">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-done" id="ref-for-constructor-string-parser-state-done"><code>done</code></a>" and 0.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">Break</a>.</p>
        </ol>
       <li data-md>
        <p>If the result of running <a data-link-type="dfn" href="#is-a-group-open" id="ref-for-is-a-group-open">is a group open</a> given <var>parser</var> is true:</p>
        <div class="note" role="note">
         <p>We ignore all code points within "<code>{ ... }</code>" pattern groupings.  It would not make sense to allow a URL component boundary to lie within a grouping; e.g. "<code>https://example.c{om/fo}o</code>".  While not supported within <a data-link-type="dfn" href="#pattern-string-well-formed" id="ref-for-pattern-string-well-formed①">well formed</a> <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string②">pattern strings</a>, we handle nested groupings here to avoid parser confusion. </p>
         <p>It is not necessary to perform this logic for regexp or named groups since those values are collapsed into individual <a data-link-type="dfn" href="#token" id="ref-for-token②">tokens</a> by the <a data-link-type="dfn" href="#tokenize" id="ref-for-tokenize①">tokenize</a> algorithm. </p>
        </div>
        <ol>
         <li data-md>
          <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-group-depth" id="ref-for-constructor-string-parser-group-depth">group depth</a> by 1.</p>
         <li data-md>
          <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index⑤">token index</a> by <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment⑤">token increment</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-group-depth" id="ref-for-constructor-string-parser-group-depth①">group depth</a> is greater than 0:</p>
        <ol>
         <li data-md>
          <p>If the result of running <a data-link-type="dfn" href="#is-a-group-close" id="ref-for-is-a-group-close">is a group close</a> given <var>parser</var> is true, then decrement <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-group-depth" id="ref-for-constructor-string-parser-group-depth②">group depth</a> by 1.</p>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index⑥">token index</a> by <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment⑥">token increment</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">Continue</a>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Switch on <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state⑤">state</a> and run the associated steps:</p>
        <dl class="switch">
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-init" id="ref-for-constructor-string-parser-state-init④"><code>init</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-protocol-suffix" id="ref-for-is-a-protocol-suffix">is a protocol suffix</a> given <var>parser</var> is true:</p>
            <p class="note allow-2119" role="note">We found a protocol suffix, so this must be an absolute URLPattern constructor string.  Therefore initialize all component to the empty string. </p>
            <ol>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result④">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username②">username</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result⑤">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password②">password</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result⑥">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname④">hostname</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result⑦">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port④">port</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result⑧">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname③">pathname</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result⑨">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search②">search</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result①⓪">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash②">hash</a></code>"] to the empty string.</p>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#rewind-and-set-state" id="ref-for-rewind-and-set-state①">rewind and set state</a> given <var>parser</var> and "<a data-link-type="dfn" href="#constructor-string-parser-state-protocol" id="ref-for-constructor-string-parser-state-protocol"><code>protocol</code></a>".</p>
            </ol>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-protocol" id="ref-for-constructor-string-parser-state-protocol①"><code>protocol</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-protocol-suffix" id="ref-for-is-a-protocol-suffix①">is a protocol suffix</a> given <var>parser</var> is true:</p>
            <ol>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#compute-protocol-matches-a-special-scheme-flag" id="ref-for-compute-protocol-matches-a-special-scheme-flag">compute protocol matches a special scheme flag</a> given <var>parser</var>.</p>
              <p class="note" role="note">We need to eagerly compile the protocol component to determine if it matches any <a data-link-type="dfn" href="https://url.spec.whatwg.org/#special-scheme" id="ref-for-special-scheme②">special schemes</a>.  If it does then certain special rules apply.  It determines if the pathname defaults to a "<code>/</code>" and also whether we will look for the username, password, hostname, and port components.  Authority slashes can also cause us to look for these components as well.  Otherwise we treat this as an "opaque path URL" and go straight to the pathname component. </p>
             <li data-md>
              <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-protocol-matches-a-special-scheme-flag" id="ref-for-constructor-string-parser-protocol-matches-a-special-scheme-flag">protocol matches a special scheme flag</a> is true, then set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result①①">result</a>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname④">pathname</a></code>"] to "<code>/</code>".</p>
             <li data-md>
              <p>Let <var>next state</var> be "<a data-link-type="dfn" href="#constructor-string-parser-state-pathname" id="ref-for-constructor-string-parser-state-pathname①"><code>pathname</code></a>".</p>
             <li data-md>
              <p>Let <var>skip</var> be 1.</p>
             <li data-md>
              <p>If the result of running <a data-link-type="dfn" href="#next-is-authority-slashes" id="ref-for-next-is-authority-slashes">next is authority slashes</a> given <var>parser</var> is true:</p>
              <ol>
               <li data-md>
                <p>Set <var>next state</var> to "<a data-link-type="dfn" href="#constructor-string-parser-state-authority" id="ref-for-constructor-string-parser-state-authority②"><code>authority</code></a>".</p>
               <li data-md>
                <p>Set <var>skip</var> to 3.</p>
              </ol>
             <li data-md>
              <p>Otherwise if <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-protocol-matches-a-special-scheme-flag" id="ref-for-constructor-string-parser-protocol-matches-a-special-scheme-flag①">protocol matches a special scheme flag</a> is true, then set <var>next state</var> to "<a data-link-type="dfn" href="#constructor-string-parser-state-authority" id="ref-for-constructor-string-parser-state-authority③"><code>authority</code></a>".</p>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state④">change state</a> given <var>parser</var>, <var>next state</var>, and <var>skip</var>.</p>
            </ol>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-authority" id="ref-for-constructor-string-parser-state-authority④"><code>authority</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-an-identity-terminator" id="ref-for-is-an-identity-terminator">is an identity terminator</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#rewind-and-set-state" id="ref-for-rewind-and-set-state②">rewind and set state</a> given <var>parser</var> and "<a data-link-type="dfn" href="#constructor-string-parser-state-username" id="ref-for-constructor-string-parser-state-username"><code>username</code></a>".</p>
           <li data-md>
            <p>Otherwise if any of the following are true:</p>
            <ul>
             <li>the result of running <a data-link-type="dfn" href="#is-a-pathname-start" id="ref-for-is-a-pathname-start">is a pathname start</a> given <var>parser</var>;
             <li>the result of running <a data-link-type="dfn" href="#is-a-search-prefix" id="ref-for-is-a-search-prefix①">is a search prefix</a> given <var>parser</var>; or
             <li>the result of running <a data-link-type="dfn" href="#is-a-hash-prefix" id="ref-for-is-a-hash-prefix①">is a hash prefix</a> given <var>parser</var>,
            </ul>
            <p>then run <a data-link-type="dfn" href="#rewind-and-set-state" id="ref-for-rewind-and-set-state③">rewind and set state</a> given <var>parser</var> and "<a data-link-type="dfn" href="#constructor-string-parser-state-hostname" id="ref-for-constructor-string-parser-state-hostname①"><code>hostname</code></a>". </p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-username" id="ref-for-constructor-string-parser-state-username①"><code>username</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-password-prefix" id="ref-for-is-a-password-prefix">is a password prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state⑤">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-password" id="ref-for-constructor-string-parser-state-password"><code>password</code></a>", and 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-an-identity-terminator" id="ref-for-is-an-identity-terminator①">is an identity terminator</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state⑥">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hostname" id="ref-for-constructor-string-parser-state-hostname②"><code>hostname</code></a>", and 1.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-password" id="ref-for-constructor-string-parser-state-password①"><code>password</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-an-identity-terminator" id="ref-for-is-an-identity-terminator②">is an identity terminator</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state⑦">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hostname" id="ref-for-constructor-string-parser-state-hostname③"><code>hostname</code></a>", and 1.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-hostname" id="ref-for-constructor-string-parser-state-hostname④"><code>hostname</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the the result of running <a data-link-type="dfn" href="#is-an-ipv6-open" id="ref-for-is-an-ipv6-open">is an IPv6 open</a> given <var>parser</var> is true, then increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-hostname-ipv6-bracket-depth" id="ref-for-constructor-string-parser-hostname-ipv6-bracket-depth">hostname IPv6 bracket depth</a> by 1.</p>
           <li data-md>
            <p>Otherwise if the the result of running <a data-link-type="dfn" href="#is-an-ipv6-close" id="ref-for-is-an-ipv6-close">is an IPv6 close</a> given <var>parser</var> is true, then decrement <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-hostname-ipv6-bracket-depth" id="ref-for-constructor-string-parser-hostname-ipv6-bracket-depth①">hostname IPv6 bracket depth</a> by 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-port-prefix" id="ref-for-is-a-port-prefix">is a port prefix</a> given <var>parser</var> is true and <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-hostname-ipv6-bracket-depth" id="ref-for-constructor-string-parser-hostname-ipv6-bracket-depth②">hostname IPv6 bracket depth</a> is zero, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state⑧">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-port" id="ref-for-constructor-string-parser-state-port"><code>port</code></a>", and 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-pathname-start" id="ref-for-is-a-pathname-start①">is a pathname start</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state⑨">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-pathname" id="ref-for-constructor-string-parser-state-pathname②"><code>pathname</code></a>", and 0.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-search-prefix" id="ref-for-is-a-search-prefix②">is a search prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①⓪">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-search" id="ref-for-constructor-string-parser-state-search①"><code>search</code></a>", and 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-hash-prefix" id="ref-for-is-a-hash-prefix②">is a hash prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①①">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hash" id="ref-for-constructor-string-parser-state-hash①"><code>hash</code></a>", and 1.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-port" id="ref-for-constructor-string-parser-state-port①"><code>port</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-pathname-start" id="ref-for-is-a-pathname-start②">is a pathname start</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①②">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-pathname" id="ref-for-constructor-string-parser-state-pathname③"><code>pathname</code></a>", and 0.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-search-prefix" id="ref-for-is-a-search-prefix③">is a search prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①③">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-search" id="ref-for-constructor-string-parser-state-search②"><code>search</code></a>", and 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-hash-prefix" id="ref-for-is-a-hash-prefix③">is a hash prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①④">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hash" id="ref-for-constructor-string-parser-state-hash②"><code>hash</code></a>", and 1.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-pathname" id="ref-for-constructor-string-parser-state-pathname④"><code>pathname</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-search-prefix" id="ref-for-is-a-search-prefix④">is a search prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①⑤">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-search" id="ref-for-constructor-string-parser-state-search③"><code>search</code></a>", and 1.</p>
           <li data-md>
            <p>Otherwise if the result of running <a data-link-type="dfn" href="#is-a-hash-prefix" id="ref-for-is-a-hash-prefix④">is a hash prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①⑥">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hash" id="ref-for-constructor-string-parser-state-hash③"><code>hash</code></a>", and 1.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-search" id="ref-for-constructor-string-parser-state-search④"><code>search</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-a-hash-prefix" id="ref-for-is-a-hash-prefix⑤">is a hash prefix</a> given <var>parser</var> is true, then run <a data-link-type="dfn" href="#change-state" id="ref-for-change-state①⑦">change state</a> given <var>parser</var>, "<a data-link-type="dfn" href="#constructor-string-parser-state-hash" id="ref-for-constructor-string-parser-state-hash④"><code>hash</code></a>", and 1.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-hash" id="ref-for-constructor-string-parser-state-hash⑤"><code>hash</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p>Do nothing.</p>
          </ol>
         <dt>"<a data-link-type="dfn" href="#constructor-string-parser-state-done" id="ref-for-constructor-string-parser-state-done①"><code>done</code></a>"
         <dd>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: This step is never reached.</p>
          </ol>
        </dl>
       <li data-md>
        <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index⑦">token index</a> by <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment⑦">token increment</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result①②">result</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="change state">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="change-state">change state</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①①">constructor string parser</a> <var>parser</var>, a <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state⑥">state</a> <var>new state</var>, and a number <var>skip</var>: 
    <ol>
     <li data-md>
      <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state⑦">state</a> is not "<a data-link-type="dfn" href="#constructor-string-parser-state-init" id="ref-for-constructor-string-parser-state-init⑤"><code>init</code></a>", not "<a data-link-type="dfn" href="#constructor-string-parser-state-authority" id="ref-for-constructor-string-parser-state-authority⑤"><code>authority</code></a>", and not "<a data-link-type="dfn" href="#constructor-string-parser-state-done" id="ref-for-constructor-string-parser-state-done②"><code>done</code></a>", then set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-result" id="ref-for-constructor-string-parser-result①③">result</a>[<var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state⑧">state</a>] to the result of running <a data-link-type="dfn" href="#make-a-component-string" id="ref-for-make-a-component-string">make a component string</a> given <var>parser</var>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state⑨">state</a> to <var>new state</var>.</p>
     <li data-md>
      <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index⑧">token index</a> by <var>skip</var>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-component-start" id="ref-for-constructor-string-parser-component-start">component start</a> to <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index⑨">token index</a>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment⑧">token increment</a> to 0.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="rewind">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="rewind">rewind</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①②">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①⓪">token index</a> to <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-component-start" id="ref-for-constructor-string-parser-component-start①">component start</a>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-increment" id="ref-for-constructor-string-parser-token-increment⑨">token increment</a> to 0.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="rewind and set state">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="rewind-and-set-state">rewind and set state</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①③">constructor string parser</a> <var>parser</var> and a <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state①⓪">state</a> <var>state</var>: 
    <ol>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#rewind" id="ref-for-rewind①">rewind</a> given <var>parser</var>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-state" id="ref-for-constructor-string-parser-state①①">state</a> to <var>state</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get a safe token">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-a-safe-token">get a safe token</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①④">constructor string parser</a> <var>parser</var> and a number <var>index</var>: 
    <ol>
     <li data-md>
      <p>If <var>index</var> is less than <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list③">token list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a>, then return <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list④">token list</a>[<var>index</var>].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list⑤">token list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②">size</a> is greater than or equal to 1.</p>
     <li data-md>
      <p>Let <var>last index</var> be <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list⑥">token list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size③">size</a> − 1.</p>
     <li data-md>
      <p>Let <var>token</var> be <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list⑦">token list</a>[<var>last index</var>].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①">type</a> is "<a data-link-type="dfn" href="#token-type-end" id="ref-for-token-type-end①"><code>end</code></a>".</p>
     <li data-md>
      <p>Return <var>token</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a non-special pattern char">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-non-special-pattern-char">is a non-special pattern char</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①⑤">constructor string parser</a> <var>parser</var>, a number <var>index</var>, and a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>Let <var>token</var> be the result of running <a data-link-type="dfn" href="#get-a-safe-token" id="ref-for-get-a-safe-token">get a safe token</a> given <var>parser</var> and <var>index</var>.</p>
     <li data-md>
      <p>If <var>token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value">value</a> is not <var>value</var>, then return false.</p>
     <li data-md>
      <p>If any of the following are true:</p>
      <ul>
       <li><var>token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type②">type</a> is "<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char"><code>char</code></a>"; 
       <li><var>token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type③">type</a> is "<a data-link-type="dfn" href="#token-type-escaped-char" id="ref-for-token-type-escaped-char"><code>escaped-char</code></a>"; or 
       <li><var>token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type④">type</a> is "<a data-link-type="dfn" href="#token-type-invalid-char" id="ref-for-token-type-invalid-char"><code>invalid-char</code></a>", 
      </ul>
      <p>then return true. </p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a protocol suffix">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-protocol-suffix">is a protocol suffix</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①⑥">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①①">token index</a>, and "<code>:</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="next is authority slashes">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="next-is-authority-slashes">next is authority slashes</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①⑦">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>If the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char①">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①②">token index</a> + 1, and "<code>/</code>" is false, then return false.</p>
     <li data-md>
      <p>If the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char②">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①③">token index</a> + 2, and "<code>/</code>" is false, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is an identity terminator">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-an-identity-terminator">is an identity terminator</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①⑧">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char③">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①④">token index</a>, and "<code>@</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a password prefix">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-password-prefix">is a password prefix</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser①⑨">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char④">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①⑤">token index</a>, and "<code>:</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a port prefix">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-port-prefix">is a port prefix</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②⓪">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char⑤">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①⑥">token index</a>, and "<code>:</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a pathname start">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-pathname-start">is a pathname start</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②①">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char⑥">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①⑦">token index</a>, and "<code>/</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a search prefix">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-search-prefix">is a search prefix</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②②">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>If result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char⑦">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①⑧">token index</a> and "<code>?</code>" is true, then return true.</p>
     <li data-md>
      <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list⑧">token list</a>[<var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index①⑨">token index</a>]'s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value①">value</a> is not "<code>?</code>", then return false.</p>
     <li data-md>
      <p>Let <var>previous index</var> be <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②⓪">token index</a> − 1.</p>
     <li data-md>
      <p>If <var>previous index</var> is less than 0, then return true.</p>
     <li data-md>
      <p>Let <var>previous token</var> be the result of running <a data-link-type="dfn" href="#get-a-safe-token" id="ref-for-get-a-safe-token①">get a safe token</a> given <var>parser</var> and <var>previous index</var>.</p>
     <li data-md>
      <p>If any of the following are true, then return false:</p>
      <ul>
       <li><var>previous token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type⑤">type</a> is "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name"><code>name</code></a>".
       <li><var>previous token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type⑥">type</a> is "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp"><code>regexp</code></a>".
       <li><var>previous token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type⑦">type</a> is "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close"><code>close</code></a>".
       <li><var>previous token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type⑧">type</a> is "<a data-link-type="dfn" href="#token-type-asterisk" id="ref-for-token-type-asterisk"><code>asterisk</code></a>".
      </ul>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a hash prefix">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-hash-prefix">is a hash prefix</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②③">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char⑧">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②①">token index</a> and "<code>#</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a group open">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-group-open">is a group open</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②④">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list⑨">token list</a>[<var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②②">token index</a>]'s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type⑨">type</a> is "<a data-link-type="dfn" href="#token-type-open" id="ref-for-token-type-open"><code>open</code></a>", then return true.</p>
     <li data-md>
      <p>Otherwise return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a group close">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-group-close">is a group close</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②⑤">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>If <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list①⓪">token list</a>[<var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②③">token index</a>]'s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①⓪">type</a> is "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close①"><code>close</code></a>", then return true.</p>
     <li data-md>
      <p>Otherwise return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is an IPv6 open">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-an-ipv6-open">is an IPv6 open</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②⑥">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char⑨">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②④">token index</a>, and "<code>[</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is an IPv6 close">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-an-ipv6-close">is an IPv6 close</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②⑦">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#is-a-non-special-pattern-char" id="ref-for-is-a-non-special-pattern-char①⓪">is a non-special pattern char</a> given <var>parser</var>, <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②⑤">token index</a>, and "<code>]</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="make a component string">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="make-a-component-string">make a component string</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②⑧">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②⑥">token index</a> is less than <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list①①">token list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size④">size</a>.</p>
     <li data-md>
      <p>Let <var>token</var> be <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-list" id="ref-for-constructor-string-parser-token-list①②">token list</a>[<var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-token-index" id="ref-for-constructor-string-parser-token-index②⑦">token index</a>].</p>
     <li data-md>
      <p>Let <var>component start token</var> be the result of running <a data-link-type="dfn" href="#get-a-safe-token" id="ref-for-get-a-safe-token②">get a safe token</a> given <var>parser</var> and <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-component-start" id="ref-for-constructor-string-parser-component-start②">component start</a>.</p>
     <li data-md>
      <p>Let <var>component start input index</var> be <var>component start token</var>’s <a data-link-type="dfn" href="#token-index" id="ref-for-token-index">index</a>.</p>
     <li data-md>
      <p>Let <var>end index</var> be <var>token</var>’s <a data-link-type="dfn" href="#token-index" id="ref-for-token-index①">index</a>.</p>
     <li data-md>
      <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-substring-by-positions" id="ref-for-code-point-substring-by-positions">code point substring</a> from <var>component start input index</var> to <var>end index</var> within <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-input" id="ref-for-constructor-string-parser-input①">input</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute protocol matches a special scheme flag">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-protocol-matches-a-special-scheme-flag">compute protocol matches a special scheme flag</dfn> given a <a data-link-type="dfn" href="#constructor-string-parser" id="ref-for-constructor-string-parser②⑨">constructor string parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Let <var>protocol string</var> be the result of running <a data-link-type="dfn" href="#make-a-component-string" id="ref-for-make-a-component-string①">make a component string</a> given <var>parser</var>.</p>
     <li data-md>
      <p>Let <var>protocol component</var> be the result of <a data-link-type="dfn" href="#compile-a-component" id="ref-for-compile-a-component①①">compiling a component</a> given <var>protocol string</var>, <a data-link-type="dfn" href="#canonicalize-a-protocol" id="ref-for-canonicalize-a-protocol①">canonicalize a protocol</a>, and <a data-link-type="dfn" href="#default-options" id="ref-for-default-options⑤">default options</a>.</p>
     <li data-md>
      <p>If the result of running <a data-link-type="dfn" href="#protocol-component-matches-a-special-scheme" id="ref-for-protocol-component-matches-a-special-scheme①">protocol component matches a special scheme</a> given <var>protocol component</var> is true, then set <var>parser</var>’s <a data-link-type="dfn" href="#constructor-string-parser-protocol-matches-a-special-scheme-flag" id="ref-for-constructor-string-parser-protocol-matches-a-special-scheme-flag②">protocol matches a special scheme flag</a> to true.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="2" id="patterns"><span class="secno">2. </span><span class="content">Patterns</span><a class="self-link" href="#patterns"></a></h2>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pattern-string">pattern string</dfn> is a string that is written to match a set of target strings.  A <dfn class="dfn-paneled" data-dfn-for="pattern string" data-dfn-type="dfn" data-noexport id="pattern-string-well-formed">well formed</dfn> pattern string conforms to a particular pattern syntax.  This pattern syntax is directly based on the syntax used by the popular <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a> JavaScript library.</p>
   <h3 class="heading settled" data-level="2.1" id="parsing-patterns"><span class="secno">2.1. </span><span class="content">Parsing Patterns</span><a class="self-link" href="#parsing-patterns"></a></h3>
   <h4 class="heading settled" data-level="2.1.1" id="tokens"><span class="secno">2.1.1. </span><span class="content">Tokens</span><a class="self-link" href="#tokens"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="token-list">token list</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> containing zero or more <a data-link-type="dfn" href="#token" id="ref-for-token③">token</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑤">structs</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="token">token</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑥">struct</a> representing a single lexical token within a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string③">pattern string</a>.</p>
   <p>A <a data-link-type="dfn" href="#token" id="ref-for-token④">token</a> has an associated <dfn class="dfn-paneled" data-dfn-for="token" data-dfn-type="dfn" data-noexport id="token-type">type</dfn>, a string, initially "<a data-link-type="dfn" href="#token-type-invalid-char" id="ref-for-token-type-invalid-char①"><code>invalid-char</code></a>".  It must be one of the following:</p>
   <dl>
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-open"><code>open</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token⑤">token</a> represents a U+007B (<code>{</code>) code point. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-close"><code>close</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token⑥">token</a> represents a U+007D (<code>}</code>) code point. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-regexp"><code>regexp</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token⑦">token</a> represents a string of the form "<code>(&lt;regular expression>)</code>".  The regular expression is required to consist of only ASCII code points. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-name"><code>name</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token⑧">token</a> represents a string of the form "<code>:&lt;name></code>".  The name value is restricted to code points that are consistent with JavaScript identifiers. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-char"><code>char</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token⑨">token</a> represents a valid pattern code point without any special syntactical meaning. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-escaped-char"><code>escaped-char</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token①⓪">token</a> represents a code point escaped using a backslash like "<code>\&lt;char></code>". 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-other-modifier"><code>other-modifier</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token①①">token</a> represents a matching group modifier that is either the U+003F (<code>?</code>) or U+002B (<code>+</code>) code points. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-asterisk"><code>asterisk</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token①②">token</a> represents a U+002A (<code>*</code>) code point that can be either a wildcard matching group or a matching group modifier. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-end"><code>end</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token①③">token</a> represents the end of the <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string④">pattern string</a>. 
    <dt>"<dfn class="dfn-paneled" data-dfn-for="token/type" data-dfn-type="dfn" data-noexport id="token-type-invalid-char"><code>invalid-char</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#token" id="ref-for-token①④">token</a> represents a code point that is invalid in the pattern.  This could be because of the code point value itself or due to its location within the pattern relative to other syntactic elements. 
   </dl>
   <p>A <a data-link-type="dfn" href="#token" id="ref-for-token①⑤">token</a> has an associated <dfn class="dfn-paneled" data-dfn-for="token" data-dfn-type="dfn" data-noexport id="token-index">index</dfn>, a number, initially 0.  It is the position of the first code point in the <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string⑤">pattern string</a> represented by the <a data-link-type="dfn" href="#token" id="ref-for-token①⑥">token</a>.</p>
   <p>A <a data-link-type="dfn" href="#token" id="ref-for-token①⑦">token</a> has an associated <dfn class="dfn-paneled" data-dfn-for="token" data-dfn-type="dfn" data-noexport id="token-value">value</dfn>, a string, initially the empty string.  It contains the code points from the <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string⑥">pattern string</a> represented by the <a data-link-type="dfn" href="#token" id="ref-for-token①⑧">token</a>.</p>
   <h4 class="heading settled" data-level="2.1.2" id="tokenizing"><span class="secno">2.1.2. </span><span class="content">Tokenizing</span><a class="self-link" href="#tokenizing"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tokenize-policy">tokenize policy</dfn> is a string that must be either "<dfn class="dfn-paneled" data-dfn-for="tokenize policy" data-dfn-type="dfn" data-noexport id="tokenize-policy-strict"><code>strict</code></dfn>" or "<dfn class="dfn-paneled" data-dfn-for="tokenize policy" data-dfn-type="dfn" data-noexport id="tokenize-policy-lenient"><code>lenient</code></dfn>".</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tokenizer">tokenizer</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑦">struct</a>.</p>
   <p>A <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer">tokenizer</a> has an associated <dfn class="dfn-paneled" data-dfn-for="tokenizer" data-dfn-type="dfn" data-noexport id="tokenizer-input">input</dfn>, a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string⑦">pattern string</a>, initially the empty string.</p>
   <p>A <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer①">tokenizer</a> has an associated <dfn class="dfn-paneled" data-dfn-for="tokenizer" data-dfn-type="dfn" data-noexport id="tokenizer-policy">policy</dfn>, a <a data-link-type="dfn" href="#tokenize-policy" id="ref-for-tokenize-policy①">tokenize policy</a>, initially "<a data-link-type="dfn" href="#tokenize-policy-strict" id="ref-for-tokenize-policy-strict"><code>strict</code></a>".</p>
   <p>A <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer②">tokenizer</a> has an associated <dfn class="dfn-paneled" data-dfn-for="tokenizer" data-dfn-type="dfn" data-noexport id="tokenizer-token-list">token list</dfn>, a <a data-link-type="dfn" href="#token-list" id="ref-for-token-list①">token list</a>, initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
   <p>A <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer③">tokenizer</a> has an associated <dfn class="dfn-paneled" data-dfn-for="tokenizer" data-dfn-type="dfn" data-noexport id="tokenizer-index">index</dfn>, a number, initially 0.</p>
   <p>A <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer④">tokenizer</a> has an associated <dfn class="dfn-paneled" data-dfn-for="tokenizer" data-dfn-type="dfn" data-noexport id="tokenizer-next-index">next index</dfn>, a number, initially 0.</p>
   <p>A <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer⑤">tokenizer</a> has an associated <dfn class="dfn-paneled" data-dfn-for="tokenizer" data-dfn-type="dfn" data-noexport id="tokenizer-code-point">code point</dfn>, a Unicode code point, initially null.</p>
   <div class="algorithm" data-algorithm="tokenize">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tokenize">tokenize</dfn> a given string <var>input</var> and <a data-link-type="dfn" href="#tokenize-policy" id="ref-for-tokenize-policy②">tokenize policy</a> <var>policy</var>: 
    <ol>
     <li data-md>
      <p>Let <var>tokenizer</var> be a new <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer⑥">tokenizer</a>.</p>
     <li data-md>
      <p>Set <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input">input</a> to <var>input</var>.</p>
     <li data-md>
      <p>Set <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-policy" id="ref-for-tokenizer-policy">policy</a> to <var>policy</var>.</p>
     <li data-md>
      <p>While <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index">index</a> is less than <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input①">input</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length①">code point length</a>:</p>
      <ol>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#seek-and-get-the-next-code-point" id="ref-for-seek-and-get-the-next-code-point">seek and get the next code point</a> given <var>tokenizer</var> and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①">index</a>.</p>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point">code point</a> is U+002A (<code>*</code>):</p>
        <ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-position-and-length" id="ref-for-add-a-token-with-default-position-and-length">add a token with default position and length</a> given <var>tokenizer</var> and "<a data-link-type="dfn" href="#token-type-asterisk" id="ref-for-token-type-asterisk①"><code>asterisk</code></a>".</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①">code point</a> is U+002B (<code>+</code>) or U+003F (<code>?</code>):</p>
        <ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-position-and-length" id="ref-for-add-a-token-with-default-position-and-length①">add a token with default position and length</a> given <var>tokenizer</var> and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier"><code>other-modifier</code></a>".</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point②">code point</a> is U+005C (<code>\</code>):</p>
        <ol>
         <li data-md>
          <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index②">index</a> is equal to <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input②">input</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length②">code point length</a> − 1:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error">process a tokenizing error</a> given <var>tokenizer</var>, <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index">next index</a>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index③">index</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>Let <var>escaped index</var> be <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index①">next index</a>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#get-the-next-code-point" id="ref-for-get-the-next-code-point">get the next code point</a> given <var>tokenizer</var>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-length" id="ref-for-add-a-token-with-default-length">add a token with default length</a> given <var>tokenizer</var>, "<a data-link-type="dfn" href="#token-type-escaped-char" id="ref-for-token-type-escaped-char①"><code>escaped-char</code></a>", <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index②">next index</a>, and <var>escaped index</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point③">code point</a> is U+007B (<code>{</code>):</p>
        <ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-position-and-length" id="ref-for-add-a-token-with-default-position-and-length②">add a token with default position and length</a> given <var>tokenizer</var> and "<a data-link-type="dfn" href="#token-type-open" id="ref-for-token-type-open①"><code>open</code></a>".</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point④">code point</a> is U+007D (<code>}</code>):</p>
        <ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-position-and-length" id="ref-for-add-a-token-with-default-position-and-length③">add a token with default position and length</a> given <var>tokenizer</var> and "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close②"><code>close</code></a>".</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point⑤">code point</a> is U+003A (<code>:</code>):</p>
        <ol>
         <li data-md>
          <p>Let <var>name position</var> be <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index③">next index</a>.</p>
         <li data-md>
          <p>Let <var>name start</var> be <var>name position</var>.</p>
         <li data-md>
          <p>While <var>name position</var> is less than <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input③">input</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length③">code point length</a>:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#seek-and-get-the-next-code-point" id="ref-for-seek-and-get-the-next-code-point①">seek and get the next code point</a> given <var>tokenizer</var> and <var>name position</var>.</p>
           <li data-md>
            <p>Let <var>first code point</var> be true if <var>name position</var> equals <var>name start</var> and false otherwise.</p>
           <li data-md>
            <p>Let <var>valid code point</var> be the result of running <a data-link-type="dfn" href="#is-a-valid-name-code-point" id="ref-for-is-a-valid-name-code-point">is a valid name code point</a> given <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point⑥">code point</a> and <var>first code point</var>.</p>
           <li data-md>
            <p>If <var>valid code point</var> is false <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">break</a>.</p>
           <li data-md>
            <p>Set <var>name position</var> to <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index④">next index</a>.</p>
          </ol>
         <li data-md>
          <p>If <var>name position</var> is less than or equal to <var>name start</var>:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error①">process a tokenizing error</a> given <var>tokenizer</var>, <var>name start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index④">index</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⓪">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-length" id="ref-for-add-a-token-with-default-length①">add a token with default length</a> given <var>tokenizer</var>, "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name①"><code>name</code></a>", <var>name position</var>, and <var>name start</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①①">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point⑦">code point</a> is U+0028 (<code>(</code>):</p>
        <ol>
         <li data-md>
          <p>Let <var>depth</var> be 1.</p>
         <li data-md>
          <p>Let <var>regexp position</var> be <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index⑤">next index</a>.</p>
         <li data-md>
          <p>Let <var>regexp start</var> be <var>regexp position</var>.</p>
         <li data-md>
          <p>Let <var>error</var> be false.</p>
         <li data-md>
          <p>While <var>regexp position</var> is less than <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input④">input</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length④">code point length</a>:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#seek-and-get-the-next-code-point" id="ref-for-seek-and-get-the-next-code-point②">seek and get the next code point</a> given <var>tokenizer</var> and <var>regexp position</var>.</p>
           <li data-md>
            <p>If the result of running <a data-link-type="dfn" href="#is-ascii" id="ref-for-is-ascii">is ASCII</a> given <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point⑧">code point</a> is false:</p>
            <ol>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error②">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index⑤">index</a>.</p>
             <li data-md>
              <p>Set <var>error</var> to true.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break②">Break</a>.</p>
            </ol>
           <li data-md>
            <p>If <var>regexp position</var> equals <var>regexp start</var> and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point⑨">code point</a> is U+003F (<code>?</code>):</p>
            <ol>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error③">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index⑥">index</a>.</p>
             <li data-md>
              <p>Set <var>error</var> to true.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break③">Break</a>.</p>
            </ol>
           <li data-md>
            <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①⓪">code point</a> is U+005C (<code>\</code>):</p>
            <ol>
             <li data-md>
              <p>If <var>regexp position</var> equals <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input⑤">input</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length⑤">code point length</a> − 1:</p>
              <ol>
               <li data-md>
                <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error④">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index⑦">index</a>.</p>
               <li data-md>
                <p>Set <var>error</var> to true.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break④">Break</a></p>
              </ol>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#get-the-next-code-point" id="ref-for-get-the-next-code-point①">get the next code point</a> given <var>tokenizer</var>.</p>
             <li data-md>
              <p>If the result of running <a data-link-type="dfn" href="#is-ascii" id="ref-for-is-ascii①">is ASCII</a> given <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①①">code point</a> is false:</p>
              <ol>
               <li data-md>
                <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error⑤">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index⑧">index</a>.</p>
               <li data-md>
                <p>Set <var>error</var> to true.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑤">Break</a>.</p>
              </ol>
             <li data-md>
              <p>Set <var>regexp position</var> to <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index⑥">next index</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①②">Continue</a>.</p>
            </ol>
           <li data-md>
            <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①②">code point</a> is U+0029 (<code>)</code>):</p>
            <ol>
             <li data-md>
              <p>Decrement <var>depth</var> by 1.</p>
             <li data-md>
              <p>If <var>depth</var> is 0:</p>
              <ol>
               <li data-md>
                <p>Set <var>regexp position</var> to <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index⑦">next index</a>.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑥">Break</a>.</p>
              </ol>
            </ol>
           <li data-md>
            <p>Otherwise if <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①③">code point</a> is U+0028 (<code>(</code>):</p>
            <ol>
             <li data-md>
              <p>Increment <var>depth</var> by 1.</p>
             <li data-md>
              <p>If <var>regexp position</var> equals <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input⑥">input</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length⑥">code point length</a> − 1:</p>
              <ol>
               <li data-md>
                <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error⑥">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index⑨">index</a>.</p>
               <li data-md>
                <p>Set <var>error</var> to true.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑦">Break</a></p>
              </ol>
             <li data-md>
              <p>Let <var>temporary position</var> be <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index⑧">next index</a>.</p>
             <li data-md>
              <p>Run <a data-link-type="dfn" href="#get-the-next-code-point" id="ref-for-get-the-next-code-point②">get the next code point</a> given <var>tokenizer</var>.</p>
             <li data-md>
              <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①④">code point</a> is not U+003F (<code>?</code>):</p>
              <ol>
               <li data-md>
                <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error⑦">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①⓪">index</a>.</p>
               <li data-md>
                <p>Set <var>error</var> to true.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑧">Break</a>.</p>
              </ol>
             <li data-md>
              <p>Set <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index⑨">next index</a> to <var>temporary position</var>.</p>
            </ol>
           <li data-md>
            <p>Set <var>regexp position</var> to <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index①⓪">next index</a>.</p>
          </ol>
         <li data-md>
          <p>If <var>error</var> is true <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①③">continue</a>.</p>
         <li data-md>
          <p>If <var>depth</var> is not zero:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error⑧">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①①">index</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①④">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>Let <var>regexp length</var> be <var>regexp position</var> − <var>regexp start</var> − 1.</p>
         <li data-md>
          <p>If <var>regexp length</var> is zero:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#process-a-tokenizing-error" id="ref-for-process-a-tokenizing-error⑨">process a tokenizing error</a> given <var>tokenizer</var>, <var>regexp start</var>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①②">index</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑤">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-token" id="ref-for-add-a-token">add a token</a> given <var>tokenizer</var>, "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp①"><code>regexp</code></a>", <var>regexp position</var>, <var>regexp start</var>, and <var>regexp length</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑥">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-position-and-length" id="ref-for-add-a-token-with-default-position-and-length④">add a token with default position and length</a> given <var>tokenizer</var> and "<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char①"><code>char</code></a>".</p>
      </ol>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-length" id="ref-for-add-a-token-with-default-length②">add a token with default length</a> given <var>tokenizer</var>, "<a data-link-type="dfn" href="#token-type-end" id="ref-for-token-type-end②"><code>end</code></a>", <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①③">index</a>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①④">index</a>.</p>
     <li data-md>
      <p>Return <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-token-list" id="ref-for-tokenizer-token-list">token list</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get the next code point">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-the-next-code-point">get the next code point</dfn> for a given <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer⑦">tokenizer</a> <var>tokenizer</var>: 
    <ol>
     <li data-md>
      <p>Set <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-code-point" id="ref-for-tokenizer-code-point①⑤">code point</a> to the Unicode code point in <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input⑦">input</a> at the position indicated by <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index①①">next index</a>.</p>
     <li data-md>
      <p>Increment <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index①②">next index</a> by 1.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="seek and get the next code point">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="seek-and-get-the-next-code-point">seek and get the next code point</dfn> for a given <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer⑧">tokenizer</a> <var>tokenizer</var> and number <var>index</var>: 
    <ol>
     <li data-md>
      <p>Set <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index①③">next index</a> to <var>index</var>.</p>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#get-the-next-code-point" id="ref-for-get-the-next-code-point③">get the next code point</a> given <var>tokenizer</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="add a token">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="add-a-token">add a token</dfn> for a given <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer⑨">tokenizer</a> <var>tokenizer</var>, <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①①">type</a> <var>type</var>, number <var>next position</var>, number <var>value position</var>, and number <var>value length</var>: 
    <ol>
     <li data-md>
      <p>Let <var>token</var> be a new <a data-link-type="dfn" href="#token" id="ref-for-token①⑨">token</a>.</p>
     <li data-md>
      <p>Set <var>token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①②">type</a> to <var>type</var>.</p>
     <li data-md>
      <p>Set <var>token</var>’s <a data-link-type="dfn" href="#token-index" id="ref-for-token-index②">index</a> to <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①⑤">index</a>.</p>
     <li data-md>
      <p>Set <var>token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value②">value</a> to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-substring" id="ref-for-code-point-substring">code point substring</a> from <var>value position</var> with length <var>value length</var> within <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-input" id="ref-for-tokenizer-input⑧">input</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>token</var> to the back of <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-token-list" id="ref-for-tokenizer-token-list①">token list</a>.</p>
     <li data-md>
      <p>Set <var>tokenizer</var>’s <a data-link-type="dfn" href="#token-index" id="ref-for-token-index③">index</a> to <var>next position</var>.</p>
    </ol>
   </div>
   <div algorthm>
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="add-a-token-with-default-length">add a token with default length</dfn> for a given <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer①⓪">tokenizer</a> <var>tokenizer</var>, <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①③">type</a> <var>type</var>, number <var>next position</var>, and number <var>value position</var>: 
    <ol>
     <li data-md>
      <p>Let <var>computed length</var> be <var>next position</var> − <var>value position</var>.</p>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#add-a-token" id="ref-for-add-a-token①">add a token</a> given <var>tokenizer</var>, <var>type</var>, <var>next position</var>, <var>value position</var>, and <var>computed length</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="add a token with default position and length">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="add-a-token-with-default-position-and-length">add a token with default position and length</dfn> for a given <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer①①">tokenizer</a> <var>tokenizer</var> and <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①④">type</a> <var>type</var>: 
    <ol>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-length" id="ref-for-add-a-token-with-default-length③">add a token with default length</a> given <var>tokenizer</var>, <var>type</var>, <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-next-index" id="ref-for-tokenizer-next-index①④">next index</a>, and <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-index" id="ref-for-tokenizer-index①⑥">index</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process a tokenizing error">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-a-tokenizing-error">process a tokenizing error</dfn> for a given <a data-link-type="dfn" href="#tokenizer" id="ref-for-tokenizer①②">tokenizer</a> <var>tokenizer</var>, a number <var>next position</var>, and a number <var>value position</var>: 
    <ol>
     <li data-md>
      <p>If <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-policy" id="ref-for-tokenizer-policy①">policy</a> is "<a data-link-type="dfn" href="#tokenize-policy-strict" id="ref-for-tokenize-policy-strict①"><code>strict</code></a>", then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: <var>tokenizer</var>’s <a data-link-type="dfn" href="#tokenizer-policy" id="ref-for-tokenizer-policy②">policy</a> is "<a data-link-type="dfn" href="#tokenize-policy-lenient" id="ref-for-tokenize-policy-lenient①"><code>lenient</code></a>".</p>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#add-a-token-with-default-length" id="ref-for-add-a-token-with-default-length④">add a token with default length</a> given <var>tokenizer</var>, "<a data-link-type="dfn" href="#token-type-invalid-char" id="ref-for-token-type-invalid-char②"><code>invalid-char</code></a>", <var>next position</var>, and <var>value position</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a valid name code point">
     To perform <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-valid-name-code-point">is a valid name code point</dfn> given a Unicode <var>code point</var> and a boolean <var>first</var>: 
    <ol>
     <li data-md>
      <p>If <var>first</var> is true return the result of checking if <var>code point</var> is contained in the <a data-link-type="dfn" href="https://tc39.es/ecma262/#prod-IdentifierStart" id="ref-for-prod-IdentifierStart">IdentifierStart</a> set of code points.</p>
     <li data-md>
      <p>Otherwise return the result of checking if <var>code point</var> is contained in the <a data-link-type="dfn" href="https://tc39.es/ecma262/#prod-IdentifierPart" id="ref-for-prod-IdentifierPart">IdentifierPart</a> set of code points.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is ASCII">
     To determine if a Unicode <var>code point</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-ascii">is ASCII</dfn>: 
    <ol>
     <li data-md>
      <p>If <var>code point</var> is between U+0000 and U+007F inclusive, then return true.</p>
     <li data-md>
      <p>Otherwise return false.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="2.1.3" id="parts"><span class="secno">2.1.3. </span><span class="content">Parts</span><a class="self-link" href="#parts"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="part-list">part list</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of zero or more <a data-link-type="dfn" href="#part" id="ref-for-part">parts</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="part">part</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑧">struct</a> representing one piece of a parser <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string⑧">pattern string</a>.  It can contain at most one matching group, a fixed text prefix, a fixed text suffix, and a modifier.  It can contain as little as a single fixed text string or a single matching group.</p>
   <p>A <a data-link-type="dfn" href="#part" id="ref-for-part①">part</a> has an associated <dfn class="dfn-paneled" data-dfn-for="part" data-dfn-type="dfn" data-export id="part-type">type</dfn>, a string, which must be set upon creation.  It must be one of the following:</p>
   <dl>
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/type" data-dfn-type="dfn" data-noexport id="part-type-fixed-text"><code>fixed-text</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part②">part</a> represents a simple fixed text string.
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/type" data-dfn-type="dfn" data-noexport id="part-type-regexp"><code>regexp</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part③">part</a> represents a matching group with a custom regular expression.
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/type" data-dfn-type="dfn" data-noexport id="part-type-segment-wildcard"><code>segment-wildcard</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part④">part</a> represents a matching group that matches code points up to the next separator code point. This is typically used for a named group like "<code>:foo</code>" that does not have a custom regular expression.
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/type" data-dfn-type="dfn" data-noexport id="part-type-full-wildcard"><code>full-wildcard</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part⑤">part</a> represents a matching group that greedily matches all code points.  This is typically used for the "<code>*</code>" wildcard matching group.
   </dl>
   <p>A <a data-link-type="dfn" href="#part" id="ref-for-part⑥">part</a> has an associated <dfn class="dfn-paneled" data-dfn-for="part" data-dfn-type="dfn" data-noexport id="part-value">value</dfn>, a string, which must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#part" id="ref-for-part⑦">part</a> has an associated <dfn class="dfn-paneled" data-dfn-for="part" data-dfn-type="dfn" data-noexport id="part-modifier">modifier</dfn> a string, which must be set upon creation.  It must be one of the following:</p>
   <dl>
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/modifier" data-dfn-type="dfn" data-noexport id="part-modifier-none"><code>none</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part⑧">part</a> does not have a <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier">modifier</a>.
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/modifier" data-dfn-type="dfn" data-noexport id="part-modifier-optional"><code>optional</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part⑨">part</a> has an optional <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①">modifier</a> indicated by the U+003F (<code>?</code>) code point.
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/modifier" data-dfn-type="dfn" data-noexport id="part-modifier-zero-or-more"><code>zero-or-more</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part①⓪">part</a> has a "zero or more" <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier②">modifier</a> indicated by the U+002A (<code>*</code>) code point.
    <dt>"<dfn class="dfn-paneled" data-dfn-for="part/modifier" data-dfn-type="dfn" data-noexport id="part-modifier-one-or-more"><code>one-or-more</code></dfn>"
    <dd>The <a data-link-type="dfn" href="#part" id="ref-for-part①①">part</a> has a "one or more" <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier③">modifier</a> indicated by the U+002B (<code>+</code>) code point.
   </dl>
   <p>A <a data-link-type="dfn" href="#part" id="ref-for-part①②">part</a> has an associated <dfn class="dfn-paneled" data-dfn-for="part" data-dfn-type="dfn" data-noexport id="part-name">name</dfn>, a string, initially the empty string.</p>
   <p>A <a data-link-type="dfn" href="#part" id="ref-for-part①③">part</a> has an associated <dfn class="dfn-paneled" data-dfn-for="part" data-dfn-type="dfn" data-noexport id="part-prefix">prefix</dfn>, a string, initially the empty string.</p>
   <p>A <a data-link-type="dfn" href="#part" id="ref-for-part①④">part</a> has an associated <dfn class="dfn-paneled" data-dfn-for="part" data-dfn-type="dfn" data-noexport id="part-suffix">suffix</dfn>, a string, initially the empty string.</p>
   <h4 class="heading settled" data-level="2.1.4" id="options-header"><span class="secno">2.1.4. </span><span class="content">Options</span><a class="self-link" href="#options-header"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="options">options</dfn> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑨">struct</a> contains different settings that control how <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string⑨">pattern string</a> behaves.  These options originally come from <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a>.  We only include the options that are modified within the URLPattern specification and exclude the other options.  For the purposes of comparison, this specification acts like <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a> where <code>strict</code>, <code>start</code>, and <code>end</code> are always set to false.</p>
   <p>An <a data-link-type="dfn" href="#options" id="ref-for-options④">options</a> has an associated <dfn class="dfn-paneled" data-dfn-for="options" data-dfn-type="dfn" data-noexport id="options-delimiter-code-point">delimiter code point</dfn>, a string, which must be set upon creation.  It must contain one <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point">ASCII code point</a> or the empty string.  This code point is treated as a segment separator and is used for determining how far a <code>:foo</code> named group should match by default.  For example, if the <a data-link-type="dfn" href="#options-delimiter-code-point" id="ref-for-options-delimiter-code-point③">delimiter code point</a> is "<code>/</code>" then "<code>/:foo</code>" will match "<code>/bar</code>", but not "<code>/bar/baz</code>".  If the <a data-link-type="dfn" href="#options-delimiter-code-point" id="ref-for-options-delimiter-code-point④">delimiter code point</a> is the empty string then the example pattern would match both strings.</p>
   <p>An <a data-link-type="dfn" href="#options" id="ref-for-options⑤">options</a> has an associated <dfn class="dfn-paneled" data-dfn-for="options" data-dfn-type="dfn" data-noexport id="options-prefix-code-point">prefix code point</dfn>, a string, which must be set upon creation.  It must contain one <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point①">ASCII code point</a> or the empty string.  The code point is treated as an automatic prefix if found immediately preceding a match group.  This matters when a match group is modified to be optional or repeating.  For example, if <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point③">prefix code point</a> is "<code>/</code>" then "<code>/foo/:bar?/baz</code>" will treat the "<code>/</code>" before "<code>:bar</code>" as a prefix that becomes optional along with the named group.  So in this example the pattern would match "<code>/foo/baz</code>".</p>
   <p>An <a data-link-type="dfn" href="#options" id="ref-for-options⑥">options</a> has an associated <dfn class="dfn-paneled" data-dfn-for="options" data-dfn-type="dfn" data-noexport id="options-ignore-case">ignore case</dfn>, a boolean, which must be set up upon creation.  It defaults to false.  Depending on the set value, true or false, this flag enables case-sensitive or case-insensitive matches, respectively.  For the purpose of comparison, this case be thought of as the negated <code>sensitive</code> option in <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a>.</p>
   <h4 class="heading settled" data-level="2.1.5" id="parsing"><span class="secno">2.1.5. </span><span class="content">Parsing</span><a class="self-link" href="#parsing"></a></h4>
   <div class="algorithm" data-algorithm="encoding callback"> An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="encoding-callback">encoding callback</dfn> is an abstract algorithm that takes a given string <var>input</var>.  The <var>input</var> will be a simple text piece of a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string①⓪">pattern string</a>.  An implementing algorithm will validate and encode the <var>input</var>.  It must return the encoded string or throw an exception. </div>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pattern-parser">pattern parser</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⓪">struct</a>.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-token-list">token list</dfn>, a <a data-link-type="dfn" href="#token-list" id="ref-for-token-list②">token list</a>, initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a>.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-encoding-callback">encoding callback</dfn>, a <a data-link-type="dfn" href="#encoding-callback" id="ref-for-encoding-callback①">encoding callback</a>, that must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser②">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-segment-wildcard-regexp">segment wildcard regexp</dfn>, a string, that must be set upon creation.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser③">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-part-list">part list</dfn>, a <a data-link-type="dfn" href="#part-list" id="ref-for-part-list①">part list</a>, initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a>.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser④">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-pending-fixed-value">pending fixed value</dfn>, a string, initially the empty string.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser⑤">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-index">index</dfn>, a number, initially 0.</p>
   <p>A <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser⑥">pattern parser</a> has an associated <dfn class="dfn-paneled" data-dfn-for="pattern parser" data-dfn-type="dfn" data-noexport id="pattern-parser-next-numeric-name">next numeric name</dfn>, a number, initially 0.</p>
   <div class="algorithm" data-algorithm="parse a pattern string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-pattern-string">parse a pattern string</dfn> given a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string①①">pattern string</a> <var>input</var>, <a data-link-type="dfn" href="#options" id="ref-for-options⑦">options</a> <var>options</var>, and <a data-link-type="dfn" href="#encoding-callback" id="ref-for-encoding-callback②">encoding callback</a> <var>encoding callback</var>: 
    <ol>
     <li data-md>
      <p>Let <var>parser</var> be a new <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser⑦">pattern parser</a> whose <a data-link-type="dfn" href="#pattern-parser-encoding-callback" id="ref-for-pattern-parser-encoding-callback">encoding callback</a> is <var>encoding callback</var> and <a data-link-type="dfn" href="#pattern-parser-segment-wildcard-regexp" id="ref-for-pattern-parser-segment-wildcard-regexp">segment wildcard regexp</a> is the result of running <a data-link-type="dfn" href="#generate-a-segment-wildcard-regexp" id="ref-for-generate-a-segment-wildcard-regexp">generate a segment wildcard regexp</a> given <var>options</var>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-token-list" id="ref-for-pattern-parser-token-list">token list</a> to the result of running <a data-link-type="dfn" href="#tokenize" id="ref-for-tokenize②">tokenize</a> given <var>input</var> and "<a data-link-type="dfn" href="#tokenize-policy-strict" id="ref-for-tokenize-policy-strict②"><code>strict</code></a>".</p>
     <li data-md>
      <p>While <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-index" id="ref-for-pattern-parser-index">index</a> is less than <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-token-list" id="ref-for-pattern-parser-token-list①">token list</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑤">size</a>:</p>
      <div class="note" role="note">
       <p>This first section is looking for the sequence: <code>&lt;prefix char>&lt;name>&lt;regexp>&lt;modifier></code>.  There could be zero to all of these tokens. </p>
       <dl class="example" id="parse-example-1">
        <a class="self-link" href="#parse-example-1"></a> 
        <dt>"<code>/:foo(bar)?</code>"
        <dd>All four <a data-link-type="dfn" href="#token" id="ref-for-token②⓪">tokens</a>.
        <dt>"<code>/</code>"
        <dd>One "<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char②"><code>char</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②①">token</a>. 
        <dt>"<code>:foo</code>"
        <dd>One "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name②"><code>name</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②②">token</a>. 
        <dt>"<code>(bar)</code>"
        <dd>One "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp②"><code>regexp</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②③">token</a>. 
        <dt>"<code>/:foo</code>"
        <dd>"<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char③"><code>char</code></a>" and "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name③"><code>name</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②④">tokens</a>. 
        <dt>"<code>/(bar)</code>"
        <dd>"<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char④"><code>char</code></a>" and "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp③"><code>regexp</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②⑤">tokens</a>. 
        <dt>"<code>/:foo?</code>"
        <dd>"<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char⑤"><code>char</code></a>", "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name④"><code>name</code></a>", and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier①"><code>other-modifier</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②⑥">tokens</a>. 
        <dt>"<code>/(bar)?</code>"
        <dd>"<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char⑥"><code>char</code></a>", "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp④"><code>regexp</code></a>", and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier②"><code>other-modifier</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②⑦">tokens</a>. 
       </dl>
      </div>
      <ol>
       <li data-md>
        <p>Let <var>char token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char⑦"><code>char</code></a>".</p>
       <li data-md>
        <p>Let <var>name token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token①">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name⑤"><code>name</code></a>".</p>
       <li data-md>
        <p>Let <var>regexp or wildcard token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-regexp-or-wildcard-token" id="ref-for-try-to-consume-a-regexp-or-wildcard-token">try to consume a regexp or wildcard token</a> given <var>parser</var> and <var>name token</var>.</p>
       <li data-md>
        <p>If <var>name token</var> is not null or <var>regexp or wildcard token</var> is not null:</p>
        <p class="note" role="note">If there is a matching group, we need to add the <a data-link-type="dfn" href="#part" id="ref-for-part①⑤">part</a> immediately. </p>
        <ol>
         <li data-md>
          <p>Let <var>prefix</var> be the empty string.</p>
         <li data-md>
          <p>If <var>char token</var> is not null then set <var>prefix</var> to <var>char token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value③">value</a>.</p>
         <li data-md>
          <p>If <var>prefix</var> is not the empty string and not <var>options</var>’s <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point④">prefix code point</a>:</p>
          <ol>
           <li data-md>
            <p>Append <var>prefix</var> to the end of <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value">pending fixed value</a>.</p>
           <li data-md>
            <p>Set <var>prefix</var> to the empty string.</p>
          </ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#maybe-add-a-part-from-the-pending-fixed-value" id="ref-for-maybe-add-a-part-from-the-pending-fixed-value">maybe add a part from the pending fixed value</a> given <var>parser</var>.</p>
         <li data-md>
          <p>Let <var>modifier token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-modifier-token" id="ref-for-try-to-consume-a-modifier-token">try to consume a modifier token</a> given <var>parser</var>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-part" id="ref-for-add-a-part">add a part</a> given <var>parser</var>, <var>prefix</var>, <var>name token</var>, <var>regexp or wildcard token</var>, the empty string, and <var>modifier token</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑦">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>Let <var>fixed token</var> be <var>char token</var>.</p>
        <p class="note" role="note">If there was no matching group, then we need to buffer any fixed text.  We want to collect as much text as possible before adding it as a "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text"><code>fixed-text</code></a>" <a data-link-type="dfn" href="#part" id="ref-for-part①⑥">part</a>. </p>
       <li data-md>
        <p>If <var>fixed token</var> is null, then set <var>fixed token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token②">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-escaped-char" id="ref-for-token-type-escaped-char②"><code>escaped-char</code></a>".</p>
       <li data-md>
        <p>If <var>fixed token</var> is not null:</p>
        <ol>
         <li data-md>
          <p>Append <var>fixed token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value④">value</a> to <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value①">pending fixed value</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑧">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>Let <var>open token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token③">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-open" id="ref-for-token-type-open②"><code>open</code></a>".</p>
        <div class="note" role="note">
         <p class="allow-2119">Next we look for the sequence <code>&lt;open>&lt;char prefix>&lt;name>&lt;regexp>&lt;char suffix>&lt;close>&lt;modifier></code>.  The open and close are required, but the other tokens are optional. </p>
         <dl class="example" id="parsing-example-2">
          <a class="self-link" href="#parsing-example-2"></a> 
          <dt>"<code>{a:foo(bar)b}?</code>"
          <dd>All <a data-link-type="dfn" href="#token" id="ref-for-token②⑧">tokens</a> are present. 
          <dt>"<code>{:foo}?</code>"
          <dd>"<a data-link-type="dfn" href="#token-type-open" id="ref-for-token-type-open③"><code>open</code></a>", "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name⑥"><code>name</code></a>", "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close③"><code>close</code></a>", and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier③"><code>other-modifier</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token②⑨">tokens</a>.
          <dt>"<code>{(bar)}?</code>"
          <dd>"<a data-link-type="dfn" href="#token-type-open" id="ref-for-token-type-open④"><code>open</code></a>", "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp⑤"><code>regexp</code></a>", "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close④"><code>close</code></a>", and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier④"><code>other-modifier</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token③⓪">tokens</a>.
          <dt>"<code>{ab}?</code>"
          <dd>"<a data-link-type="dfn" href="#token-type-open" id="ref-for-token-type-open⑤"><code>open</code></a>", "<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char⑧"><code>char</code></a>", "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close⑤"><code>close</code></a>", and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier⑤"><code>other-modifier</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token③①">tokens</a>.
         </dl>
        </div>
       <li data-md>
        <p>If <var>open token</var> is not null:</p>
        <ol>
         <li data-md>
          <p>Set <var>prefix</var> be the result of running <a data-link-type="dfn" href="#consume-text" id="ref-for-consume-text">consume text</a> given <var>parser</var>.</p>
         <li data-md>
          <p>Set <var>name token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token④">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name⑦"><code>name</code></a>".</p>
         <li data-md>
          <p>Set <var>regexp or wildcard token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-regexp-or-wildcard-token" id="ref-for-try-to-consume-a-regexp-or-wildcard-token①">try to consume a regexp or wildcard token</a> given <var>parser</var> and <var>name token</var>.</p>
         <li data-md>
          <p>Let <var>suffix</var> be the result of running <a data-link-type="dfn" href="#consume-text" id="ref-for-consume-text①">consume text</a> given <var>parser</var>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#consume-a-required-token" id="ref-for-consume-a-required-token">consume a required token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-close" id="ref-for-token-type-close⑥"><code>close</code></a>".</p>
         <li data-md>
          <p>Set <var>modifier token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-modifier-token" id="ref-for-try-to-consume-a-modifier-token①">try to consume a modifier token</a> given <var>parser</var>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#add-a-part" id="ref-for-add-a-part①">add a part</a> given <var>parser</var>, <var>prefix</var>, <var>name token</var>, <var>regexp or wildcard token</var>, <var>suffix</var>, and <var>modifier token</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑨">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#maybe-add-a-part-from-the-pending-fixed-value" id="ref-for-maybe-add-a-part-from-the-pending-fixed-value①">maybe add a part from the pending fixed value</a> given <var>parser</var>.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#consume-a-required-token" id="ref-for-consume-a-required-token①">consume a required token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-end" id="ref-for-token-type-end③"><code>end</code></a>".</p>
      </ol>
     <li data-md>
      <p>Return <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-part-list" id="ref-for-pattern-parser-part-list">part list</a>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="full-wildcard-regexp-value">full wildcard regexp value</dfn> is the string "<code>.*</code>".</p>
   <div class="algorithm" data-algorithm="generate a segment wildcard regexp">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-a-segment-wildcard-regexp">generate a segment wildcard regexp</dfn> given an <a data-link-type="dfn" href="#options" id="ref-for-options⑧">options</a> <var>options</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be "<code>[^</code>".</p>
     <li data-md>
      <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string">escape a regexp string</a> given <var>options</var>’s <a data-link-type="dfn" href="#options-delimiter-code-point" id="ref-for-options-delimiter-code-point⑤">delimiter code point</a> to the end of <var>result</var>.</p>
     <li data-md>
      <p>Append "<code>]+?</code>" to the end of <var>result</var>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="try to consume a token">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="try-to-consume-a-token">try to consume a token</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser⑧">pattern parser</a> <var>parser</var> and <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①⑤">type</a> <var>type</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-index" id="ref-for-pattern-parser-index①">index</a> is less than <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-token-list" id="ref-for-pattern-parser-token-list②">token list</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑥">size</a>.</p>
     <li data-md>
      <p>Let <var>next token</var> be <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-token-list" id="ref-for-pattern-parser-token-list③">token list</a>[<var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-index" id="ref-for-pattern-parser-index②">index</a>].</p>
     <li data-md>
      <p>If <var>next token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①⑥">type</a> is not <var>type</var> return null.</p>
     <li data-md>
      <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-index" id="ref-for-pattern-parser-index③">index</a> by 1.</p>
     <li data-md>
      <p>Return <var>next token</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="try to consume a modifier token">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="try-to-consume-a-modifier-token">try to consume a modifier token</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser⑨">pattern parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Let <var>token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token⑤">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-other-modifier" id="ref-for-token-type-other-modifier⑥"><code>other-modifier</code></a>".</p>
     <li data-md>
      <p>If <var>token</var> is not null, then return <var>token</var>.</p>
     <li data-md>
      <p>Set <var>token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token⑥">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-asterisk" id="ref-for-token-type-asterisk②"><code>asterisk</code></a>".</p>
     <li data-md>
      <p>Return <var>token</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="try to consume a regexp or wildcard token">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="try-to-consume-a-regexp-or-wildcard-token">try to consume a regexp or wildcard token</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①⓪">pattern parser</a> <var>parser</var> and <a data-link-type="dfn" href="#token" id="ref-for-token③②">token</a> <var>name token</var>: 
    <ol>
     <li data-md>
      <p>Let <var>token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token⑦">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp⑥"><code>regexp</code></a>".</p>
     <li data-md>
      <p>If <var>name token</var> is null and <var>token</var> is null, then set <var>token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token⑧">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-asterisk" id="ref-for-token-type-asterisk③"><code>asterisk</code></a>".</p>
     <li data-md>
      <p>Return <var>token</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="consume a required token">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="consume-a-required-token">consume a required token</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①①">pattern parser</a> <var>parser</var> and <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①⑦">type</a> <var>type</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token⑨">try to consume a token</a> given <var>parser</var> and <var>type</var>.</p>
     <li data-md>
      <p>If <var>result</var> is null, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="consume text">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="consume-text">consume text</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①②">pattern parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p>While true:</p>
      <ol>
       <li data-md>
        <p>Let <var>token</var> be the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token①⓪">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-char" id="ref-for-token-type-char⑨"><code>char</code></a>".</p>
       <li data-md>
        <p>If <var>token</var> is null, then set <var>token</var> to the result of running <a data-link-type="dfn" href="#try-to-consume-a-token" id="ref-for-try-to-consume-a-token①①">try to consume a token</a> given <var>parser</var> and "<a data-link-type="dfn" href="#token-type-escaped-char" id="ref-for-token-type-escaped-char③"><code>escaped-char</code></a>".</p>
       <li data-md>
        <p>If <var>token</var> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑨">break</a>.</p>
       <li data-md>
        <p>Append <var>token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value⑤">value</a> to the end of <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="maybe add a part from the pending fixed value">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="maybe-add-a-part-from-the-pending-fixed-value">maybe add a part from the pending fixed value</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①③">pattern parser</a> <var>parser</var>: 
    <ol>
     <li data-md>
      <p>If <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value②">pending fixed value</a> is the empty string, then return.</p>
     <li data-md>
      <p>Let <var>encoded value</var> be the result of running <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-encoding-callback" id="ref-for-pattern-parser-encoding-callback①">encoding callback</a> given <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value③">pending fixed value</a>.</p>
     <li data-md>
      <p>Set <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value④">pending fixed value</a> to the empty string.</p>
     <li data-md>
      <p>Let <var>part</var> be a new <a data-link-type="dfn" href="#part" id="ref-for-part①⑦">part</a> whose <a data-link-type="dfn" href="#part-type" id="ref-for-part-type">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text①"><code>fixed-text</code></a>", <a data-link-type="dfn" href="#part-value" id="ref-for-part-value">value</a> is <var>encoded value</var>, and <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier④">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none"><code>none</code></a>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>part</var> to <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-part-list" id="ref-for-pattern-parser-part-list①">part list</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="add a part">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="add-a-part">add a part</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①④">pattern parser</a> <var>parser</var>, a string <var>prefix</var>, a <a data-link-type="dfn" href="#token" id="ref-for-token③③">token</a> <var>name token</var>, a <a data-link-type="dfn" href="#token" id="ref-for-token③④">token</a> <var>regexp or wildcard token</var>, a string <var>suffix</var>, and a <a data-link-type="dfn" href="#token" id="ref-for-token③⑤">token</a> <var>modifier token</var>: 
    <ol>
     <li data-md>
      <p>Let <var>modifier</var> be "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none①"><code>none</code></a>".</p>
     <li data-md>
      <p>If <var>modifier token</var> is not null:</p>
      <ol>
       <li data-md>
        <p>If <var>modifier token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value⑥">value</a> is "<code>?</code>" then set <var>modifier</var> to "<a data-link-type="dfn" href="#part-modifier-optional" id="ref-for-part-modifier-optional"><code>optional</code></a>".</p>
       <li data-md>
        <p>Otherwise if <var>modifier token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value⑦">value</a> is "<code>*</code>" then set <var>modifier</var> to "<a data-link-type="dfn" href="#part-modifier-zero-or-more" id="ref-for-part-modifier-zero-or-more"><code>zero-or-more</code></a>".</p>
       <li data-md>
        <p>Otherwise if <var>modifier token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value⑧">value</a> is "<code>+</code>" then set <var>modifier</var> to "<a data-link-type="dfn" href="#part-modifier-one-or-more" id="ref-for-part-modifier-one-or-more"><code>one-or-more</code></a>".</p>
      </ol>
     <li data-md>
      <p>If <var>name token</var> is null and <var>regexp or wildcard token</var> is null and <var>modifier</var> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none②"><code>none</code></a>":</p>
      <p class="note" role="note">This was a "<code>{foo}</code>" grouping.  We add this to the <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value⑤">pending fixed value</a> so that it will be combined with any previous or subsequent text.</p>
      <ol>
       <li data-md>
        <p>Append <var>prefix</var> to the end of <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-pending-fixed-value" id="ref-for-pattern-parser-pending-fixed-value⑥">pending fixed value</a>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#maybe-add-a-part-from-the-pending-fixed-value" id="ref-for-maybe-add-a-part-from-the-pending-fixed-value②">maybe add a part from the pending fixed value</a> given <var>parser</var>.</p>
     <li data-md>
      <p>If <var>name token</var> is null and <var>regexp or wildcard token</var> is null:</p>
      <p class="note" role="note">This was a "<code>{foo}?</code>" grouping.  The modifier means we cannot combine it with other text.  Therefore we add it as a <a data-link-type="dfn" href="#part" id="ref-for-part①⑧">part</a> immediately.</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: <var>suffix</var> is the empty string.</p>
       <li data-md>
        <p>If <var>prefix</var> is the empty string, then return.</p>
       <li data-md>
        <p>Let <var>encoded value</var> be the result of running <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-encoding-callback" id="ref-for-pattern-parser-encoding-callback②">encoding callback</a> given <var>prefix</var>.</p>
       <li data-md>
        <p>Let <var>part</var> be a new <a data-link-type="dfn" href="#part" id="ref-for-part①⑨">part</a> whose <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text②"><code>fixed-text</code></a>", <a data-link-type="dfn" href="#part-value" id="ref-for-part-value①">value</a> is <var>encoded value</var>, and <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier⑤">modifier</a> is <var>modifier</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> <var>part</var> to <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-part-list" id="ref-for-pattern-parser-part-list②">part list</a>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>Let <var>regexp value</var> be the empty string.</p>
      <p class="note" role="note">Next, we convert the <var>regexp or wildcard token</var> into a regular expression. </p>
     <li data-md>
      <p>If <var>regexp or wildcard token</var> is null, then set <var>regexp value</var> to <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-segment-wildcard-regexp" id="ref-for-pattern-parser-segment-wildcard-regexp①">segment wildcard regexp</a>.</p>
     <li data-md>
      <p>Otherwise if <var>regexp or wildcard token</var>’s <a data-link-type="dfn" href="#token-type" id="ref-for-token-type①⑧">type</a> is "<a data-link-type="dfn" href="#token-type-asterisk" id="ref-for-token-type-asterisk④"><code>asterisk</code></a>", then set <var>regexp value</var> to the <a data-link-type="dfn" href="#full-wildcard-regexp-value" id="ref-for-full-wildcard-regexp-value">full wildcard regexp value</a>.</p>
     <li data-md>
      <p>Otherwise set <var>regexp value</var> to <var>regexp or wildcard token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value⑨">value</a>.</p>
     <li data-md>
      <p>Let <var>type</var> be "<a data-link-type="dfn" href="#part-type-regexp" id="ref-for-part-type-regexp"><code>regexp</code></a>".</p>
      <p class="note" role="note">Next, we convert <var>regexp value</var> into a <a data-link-type="dfn" href="#part" id="ref-for-part②⓪">part</a> <a data-link-type="dfn" href="#part-type" id="ref-for-part-type②">type</a>.  We make sure to go to a regular expression first so that an equivalent "<a data-link-type="dfn" href="#token-type-regexp" id="ref-for-token-type-regexp⑦"><code>regexp</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token③⑥">token</a> will be treated the same as a "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name⑧"><code>name</code></a>" or "<a data-link-type="dfn" href="#token-type-asterisk" id="ref-for-token-type-asterisk⑤"><code>asterisk</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token③⑦">token</a>.</p>
     <li data-md>
      <p>If <var>regexp value</var> is <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-segment-wildcard-regexp" id="ref-for-pattern-parser-segment-wildcard-regexp②">segment wildcard regexp</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>type</var> to "<a data-link-type="dfn" href="#part-type-segment-wildcard" id="ref-for-part-type-segment-wildcard"><code>segment-wildcard</code></a>".</p>
       <li data-md>
        <p>Set <var>regexp value</var> to the empty string.</p>
      </ol>
     <li data-md>
      <p>Otherwise if <var>regexp value</var> is the <a data-link-type="dfn" href="#full-wildcard-regexp-value" id="ref-for-full-wildcard-regexp-value①">full wildcard regexp value</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>type</var> to "<a data-link-type="dfn" href="#part-type-full-wildcard" id="ref-for-part-type-full-wildcard"><code>full-wildcard</code></a>".</p>
       <li data-md>
        <p>Set <var>regexp value</var> to the empty string.</p>
      </ol>
     <li data-md>
      <p>Let <var>name</var> be the empty string.</p>
      <p class="note" role="note">Next, we determine the <a data-link-type="dfn" href="#part" id="ref-for-part②①">part</a> <a data-link-type="dfn" href="#part-name" id="ref-for-part-name">name</a>.  This can be explicitly provided by a "<a data-link-type="dfn" href="#token-type-name" id="ref-for-token-type-name⑨"><code>name</code></a>" <a data-link-type="dfn" href="#token" id="ref-for-token③⑧">token</a> or be automatically assigned. </p>
     <li data-md>
      <p>If <var>name token</var> is not null, then set <var>name</var> to <var>name token</var>’s <a data-link-type="dfn" href="#token-value" id="ref-for-token-value①⓪">value</a>.</p>
     <li data-md>
      <p>Otherwise if <var>regexp or wildcard token</var> is not null:</p>
      <ol>
       <li data-md>
        <p>Set <var>name</var> to <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-next-numeric-name" id="ref-for-pattern-parser-next-numeric-name">next numeric name</a>.</p>
       <li data-md>
        <p>Increment <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-next-numeric-name" id="ref-for-pattern-parser-next-numeric-name①">next numeric name</a> by 1.</p>
      </ol>
     <li data-md>
      <p>If the result of running <a data-link-type="dfn" href="#is-a-duplicate-name" id="ref-for-is-a-duplicate-name">is a duplicate name</a> given <var>parser</var> and <var>name</var> is true, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>encoded prefix</var> be the result of running <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-encoding-callback" id="ref-for-pattern-parser-encoding-callback③">encoding callback</a> given <var>prefix</var>.</p>
      <p class="note" role="note">Finally, we encode the fixed text values and create the <a data-link-type="dfn" href="#part" id="ref-for-part②②">part</a>. </p>
     <li data-md>
      <p>Let <var>encoded suffix</var> be the result of running <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-encoding-callback" id="ref-for-pattern-parser-encoding-callback④">encoding callback</a> given <var>suffix</var>.</p>
     <li data-md>
      <p>Let <var>part</var> be a new <a data-link-type="dfn" href="#part" id="ref-for-part②③">part</a> whose <a data-link-type="dfn" href="#part-type" id="ref-for-part-type③">type</a> is <var>type</var>, <a data-link-type="dfn" href="#part-value" id="ref-for-part-value②">value</a> is <var>regexp value</var>, <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier⑥">modifier</a> is <var>modifier</var>, <a data-link-type="dfn" href="#part-name" id="ref-for-part-name①">name</a> is <var>name</var>, <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix">prefix</a> is <var>encoded prefix</var>, and <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix">suffix</a> is <var>encoded suffix</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> <var>part</var> to <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-part-list" id="ref-for-pattern-parser-part-list③">part list</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is a duplicate name">
     To determine if a value <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-a-duplicate-name">is a duplicate name</dfn> given a <a data-link-type="dfn" href="#pattern-parser" id="ref-for-pattern-parser①⑤">pattern parser</a> <var>parser</var> and a string <var>name</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>part</var> of <var>parser</var>’s <a data-link-type="dfn" href="#pattern-parser-part-list" id="ref-for-pattern-parser-part-list④">part list</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name②">name</a> is <var>name</var>, then return true.</p>
      </ol>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.2" id="converting-part-lists-to-regular-expressions"><span class="secno">2.2. </span><span class="content">Converting Part Lists to Regular Expressions</span><a class="self-link" href="#converting-part-lists-to-regular-expressions"></a></h3>
   <div class="algorithm" data-algorithm="generate a regular expression and name list">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="generate-a-regular-expression-and-name-list">generate a regular expression and name list</dfn> from a given <a data-link-type="dfn" href="#part-list" id="ref-for-part-list②">part list</a> <var>part list</var> and <a data-link-type="dfn" href="#options" id="ref-for-options⑨">options</a> <var>options</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be "<code>^</code>".</p>
     <li data-md>
      <p>Let <var>name list</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>part</var> of <var>part list</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type④">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text③"><code>fixed-text</code></a>":</p>
        <ol>
         <li data-md>
          <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier⑦">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none③"><code>none</code></a>", then append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string①">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value③">value</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Otherwise:</p>
          <div class="note" role="note">
           <p>A "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text④"><code>fixed-text</code></a>" <var>part</var> with a modifier uses a non capturing group.  It uses the following form. </p>
           <p><code>(?:&lt;fixed text>)&lt;modifier></code> </p>
          </div>
          <ol>
           <li data-md>
            <p>Append "<code>(?:</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string②">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value④">value</a> to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append the result of running <a data-link-type="dfn" href="#convert-a-modifier-to-a-string" id="ref-for-convert-a-modifier-to-a-string">convert a modifier to a string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier⑧">modifier</a> to the end of <var>result</var>.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②⓪">Continue</a>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a>: <var>part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name③">name</a> is not the empty string.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">Append</a> <var>part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name④">name</a> to <var>name list</var>.</p>
        <p class="note" role="note">We collect the list of matching group names in a parallel list.  This is largely done for legacy reasons to match <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a>.  We could attempt to convert this to use regular expression named captured groups, but given the complexity of this algorithm there is a real risk of introducing unintended bugs.  In addition, if we ever end up exposing the generated regular expressions to the web we would like to maintain compability with <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a> which has indicated its unlikely to switch to using named capture groups. </p>
       <li data-md>
        <p>Let <var>regexp value</var> be <var>part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value⑤">value</a>.</p>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type⑤">type</a> is "<a data-link-type="dfn" href="#part-type-segment-wildcard" id="ref-for-part-type-segment-wildcard①"><code>segment-wildcard</code></a>", then set <var>regexp value</var> to the result of running <a data-link-type="dfn" href="#generate-a-segment-wildcard-regexp" id="ref-for-generate-a-segment-wildcard-regexp①">generate a segment wildcard regexp</a> given <var>options</var>.</p>
       <li data-md>
        <p>Otherwise if <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type⑥">type</a> is "<a data-link-type="dfn" href="#part-type-full-wildcard" id="ref-for-part-type-full-wildcard①"><code>full-wildcard</code></a>", then set <var>regexp value</var> to <a data-link-type="dfn" href="#full-wildcard-regexp-value" id="ref-for-full-wildcard-regexp-value②">full wildcard regexp value</a>.</p>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①">prefix</a> is the empty string and <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①">suffix</a> is the empty string:</p>
        <div class="note" role="note">
         <p class="allow-2119">If there is no <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix②">prefix</a> or <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix②">suffix</a> then generation depends on the modifier.  If there is no modifier or just the optional modifier, it uses the following simple form: </p>
         <p><code>(&lt;regexp value>)&lt;modifier></code> </p>
         <p>If there is a repeating modifier, however, we will use the more complex form: </p>
         <p><code>((?:&lt;regexp value>)&lt;modifier>)</code> </p>
        </div>
        <ol>
         <li data-md>
          <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier⑨">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none④"><code>none</code></a>" or "<a data-link-type="dfn" href="#part-modifier-optional" id="ref-for-part-modifier-optional①"><code>optional</code></a>", then:</p>
          <ol>
           <li data-md>
            <p>Append "<code>(</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append <var>regexp value</var> to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append the result of running <a data-link-type="dfn" href="#convert-a-modifier-to-a-string" id="ref-for-convert-a-modifier-to-a-string①">convert a modifier to a string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①⓪">modifier</a> to the end of <var>result</var>.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Append "<code>((?:</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append <var>regexp value</var> to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append the result of running <a data-link-type="dfn" href="#convert-a-modifier-to-a-string" id="ref-for-convert-a-modifier-to-a-string②">convert a modifier to a string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①①">modifier</a> to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②①">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①②">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none⑤"><code>none</code></a>" or "<a data-link-type="dfn" href="#part-modifier-optional" id="ref-for-part-modifier-optional②"><code>optional</code></a>":</p>
        <div class="note" role="note">
         <p>This section handles non-repeating parts with a <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix③">prefix</a> and/or <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix③">suffix</a>.  There is an inner capturing group that contains the primary <var>regexp value</var>.  The inner group is then combined with the <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix④">prefix</a> and/or <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix④">suffix</a> in an outer non-capturing group.  Finally the modifier is applied.  The resulting form is as follows. </p>
         <p><code>(?:&lt;prefix>(&lt;regexp value>)&lt;suffix>)&lt;modifier></code> </p>
        </div>
        <ol>
         <li data-md>
          <p>Append "<code>(?:</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string③">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix⑤">prefix</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append "<code>(</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append <var>regexp value</var> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string④">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix⑤">suffix</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append the result of running <a data-link-type="dfn" href="#convert-a-modifier-to-a-string" id="ref-for-convert-a-modifier-to-a-string③">convert a modifier to a string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①③">modifier</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②②">Continue</a>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①④">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-zero-or-more" id="ref-for-part-modifier-zero-or-more①"><code>zero-or-more</code></a>" or "<a data-link-type="dfn" href="#part-modifier-one-or-more" id="ref-for-part-modifier-one-or-more①"><code>one-or-more</code></a>".</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: <var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix⑥">prefix</a> is not the empty string or <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix⑥">suffix</a> is not the empty string.</p>
        <div class="note" role="note">
         <p class="allow-2119">Repeating parts with a <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix⑦">prefix</a> and/or <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix⑦">suffix</a> are dramatically more complicated.  We want to exclude the initial <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix⑧">prefix</a> and the final <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix⑧">suffix</a>, but include them between any repeated elements.  To achieve this we provide a separate initial expression that excludes the <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix⑨">prefix</a>.  Then the expression is duplicated with the <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①⓪">prefix</a>/<a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix⑨">suffix</a> values included in an optional repeating element.  If zero values are permitted then a final optional modifier may be appended.  The resulting form is as follows. </p>
         <p><code>(?:&lt;prefix>((?:&lt;regexp value>)(?:&lt;suffix>&lt;prefix>(?:&lt;regexp value>))*)&lt;suffix>)?</code> </p>
        </div>
       <li data-md>
        <p>Append "<code>(?:</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string⑤">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①①">prefix</a> to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append "<code>((?:</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append <var>regexp value</var> to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append "<code>)(?:</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string⑥">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①⓪">suffix</a> to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string⑦">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①②">prefix</a> to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append "<code>(?:</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append <var>regexp value</var> to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append "<code>))*)</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#escape-a-regexp-string" id="ref-for-escape-a-regexp-string⑧">escape a regexp string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①①">suffix</a> to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①⑤">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-zero-or-more" id="ref-for-part-modifier-zero-or-more②"><code>zero-or-more</code></a>" then append "<code>?</code>" to the end of <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Append "<code>$</code>" to the end of <var>result</var>.</p>
     <li data-md>
      <p>Return (<var>result</var>, <var>name list</var>).</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="escape a regexp string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="escape-a-regexp-string">escape a regexp string</dfn> given a string <var>input</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①①">Assert</a>: <var>input</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string" id="ref-for-ascii-string">ASCII string</a>.</p>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>index</var> be 0.</p>
     <li data-md>
      <p>While <var>index</var> is less than <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>c</var> be <var>input</var>[<var>index</var>].</p>
       <li data-md>
        <p>Increment <var>index</var> by 1.</p>
       <li data-md>
        <p>If <var>c</var> is one of:</p>
        <ul>
         <li>U+002E (<code>.</code>);
         <li>U+002B (<code>+</code>);
         <li>U+002A (<code>*</code>);
         <li>U+003F (<code>?</code>);
         <li>U+005E (<code>^</code>);
         <li>U+0024 (<code>$</code>);
         <li>U+007B (<code>{</code>);
         <li>U+007D (<code>}</code>);
         <li>U+0028 (<code>(</code>);
         <li>U+0029 (<code>)</code>);
         <li>U+005B (<code>[</code>);
         <li>U+005D (<code>]</code>);
         <li>U+007C (<code>|</code>);
         <li>U+002F (<code>/</code>); or
         <li>U+005C (<code>\</code>),
        </ul>
        <p>then append "<code>\</code>" to the end of <var>result</var>. </p>
       <li data-md>
        <p>Append <var>c</var> to the end of <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.3" id="converting-part-lists-to-pattern-strings"><span class="secno">2.3. </span><span class="content">Converting Part Lists to Pattern Strings</span><a class="self-link" href="#converting-part-lists-to-pattern-strings"></a></h3>
   <div class="algorithm" data-algorithm="generate a pattern string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="generate-a-pattern-string">generate a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string①②">pattern string</a></dfn> from a given <a data-link-type="dfn" href="#part-list" id="ref-for-part-list③">part list</a> <var>part list</var> and <a data-link-type="dfn" href="#options" id="ref-for-options①⓪">options</a> <var>options</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>index list</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-get-the-indices" id="ref-for-list-get-the-indices">getting the indices</a> for <var>part list</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>index</var> of <var>index list</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>part</var> be <var>part list</var>[<var>index</var>].</p>
       <li data-md>
        <p>Let <var>previous part</var> be <var>part list</var>[<var>index</var> - 1] if <var>index</var> is greater than 0, otherwise let it be null.</p>
       <li data-md>
        <p>Let <var>next part</var> be <var>part list</var>[<var>index</var> + 1] if <var>index</var> is less than <var>index list</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑦">size</a> - 1, otherwise let it be null.</p>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type⑦">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text⑤"><code>fixed-text</code></a>" then:</p>
        <ol>
         <li data-md>
          <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①⑥">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none⑥"><code>none</code></a>" then:</p>
          <ol>
           <li data-md>
            <p>Append the result of running <a data-link-type="dfn" href="#escape-a-pattern-string" id="ref-for-escape-a-pattern-string">escape a pattern string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value⑥">value</a> to the end of <var>result</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②③">Continue</a>.</p>
          </ol>
         <li data-md>
          <p>Append "<code>{</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append the result of running <a data-link-type="dfn" href="#escape-a-pattern-string" id="ref-for-escape-a-pattern-string①">escape a pattern string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value⑦">value</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append "<code>}</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append the result of running <a data-link-type="dfn" href="#convert-a-modifier-to-a-string" id="ref-for-convert-a-modifier-to-a-string④">convert a modifier to a string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①⑦">modifier</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②④">Continue</a>.</p>
        </ol>
       <li data-md>
        <p>Let <var>custom name</var> be true if <var>part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name⑤">name</a>[0] is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-digit" id="ref-for-ascii-digit">ASCII digit</a>; otherwise false.</p>
       <li data-md>
        <p>Let <var>needs grouping</var> be true if at least one of the following are true, otherwise let it be false:</p>
        <ul>
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①②">suffix</a> is not the empty string.
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①③">prefix</a> is not the empty string and is not <var>options</var>’s <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point⑤">prefix code point</a>.
        </ul>
       <li data-md>
        <p>If all of the following are true:</p>
        <ul>
         <li><var>needs grouping</var> is false; and
         <li><var>custom name</var> is true; and
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type⑧">type</a> is "<a data-link-type="dfn" href="#part-type-segment-wildcard" id="ref-for-part-type-segment-wildcard②"><code>segment-wildcard</code></a>"; and
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①⑧">modifier</a> is "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none⑦"><code>none</code></a>"; and
         <li><var>next part</var> is not null; and
         <li><var>next part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①④">prefix</a> is the empty string; and
         <li><var>next part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①③">suffix</a> is the empty string
        </ul>
         then: 
        <ol>
         <li data-md>
          <p>If <var>next part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type⑨">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text⑥"><code>fixed-text</code></a>":</p>
          <ol>
           <li data-md>
            <p>Set <var>needs grouping</var> to true if the result of running <a data-link-type="dfn" href="#is-a-valid-name-code-point" id="ref-for-is-a-valid-name-code-point①">is a valid name code point</a> given <var>next part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value⑧">value</a>'s first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point①">code point</a> and the boolean false is true.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Set <var>needs grouping</var> to true if <var>next part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name⑥">name</a>[0] is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-digit" id="ref-for-ascii-digit①">ASCII digit</a>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If all of the following are true:</p>
        <ul>
         <li><var>needs grouping</var> is false; and
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①⑤">prefix</a> is the empty string; and
         <li><var>previous part</var> is not null; and
         <li><var>previous part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①⓪">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text⑦"><code>fixed-text</code></a>"; and
         <li><var>previous part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value⑨">value</a>'s last <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point②">code point</a> is <var>options</var>’s <a data-link-type="dfn" href="#options-prefix-code-point" id="ref-for-options-prefix-code-point⑥">prefix code point</a>.
        </ul>
         then set <var>needs grouping</var> to true. 
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①②">Assert</a>: <var>part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name⑦">name</a> is not the empty string or null.</p>
       <li data-md>
        <p>If <var>needs grouping</var> is true, then append "<code>{</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#escape-a-pattern-string" id="ref-for-escape-a-pattern-string②">escape a pattern string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①⑥">prefix</a> to the end of <var>result</var>.</p>
       <li data-md>
        <p>If <var>custom name</var> is true:</p>
        <ol>
         <li data-md>
          <p>Append "<code>:</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append <var>part</var>’s <a data-link-type="dfn" href="#part-name" id="ref-for-part-name⑧">name</a> to the end of <var>result</var>.</p>
        </ol>
       <li data-md>
        <p>If <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①①">type</a> is "<a data-link-type="dfn" href="#part-type-regexp" id="ref-for-part-type-regexp①"><code>regexp</code></a>" then:</p>
        <ol>
         <li data-md>
          <p>Append "<code>(</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append <var>part</var>’s <a data-link-type="dfn" href="#part-value" id="ref-for-part-value①⓪">value</a> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise if <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①②">type</a> is "<a data-link-type="dfn" href="#part-type-segment-wildcard" id="ref-for-part-type-segment-wildcard③"><code>segment-wildcard</code></a>" and <var>custom name</var> is false:</p>
        <ol>
         <li data-md>
          <p>Append "<code>(</code>" to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append the result of running <a data-link-type="dfn" href="#generate-a-segment-wildcard-regexp" id="ref-for-generate-a-segment-wildcard-regexp②">generate a segment wildcard regexp</a> given <var>options</var> to the end of <var>result</var>.</p>
         <li data-md>
          <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise if <var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①③">type</a> is "<a data-link-type="dfn" href="#part-type-full-wildcard" id="ref-for-part-type-full-wildcard②"><code>full-wildcard</code></a>":</p>
        <ol>
         <li data-md>
          <p>If <var>custom name</var> is false and one of the following is true:</p>
          <ul>
           <li><var>previous part</var> is null; or
           <li><var>previous part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①④">type</a> is "<a data-link-type="dfn" href="#part-type-fixed-text" id="ref-for-part-type-fixed-text⑧"><code>fixed-text</code></a>"; or
           <li><var>previous part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier①⑨">modifier</a> is not "<a data-link-type="dfn" href="#part-modifier-none" id="ref-for-part-modifier-none⑧"><code>none</code></a>"; or
           <li><var>needs grouping</var> is true; or
           <li><var>part</var>’s <a data-link-type="dfn" href="#part-prefix" id="ref-for-part-prefix①⑦">prefix</a> is not the empty string
          </ul>
           then append "<code>*</code>" to the end of <var>result</var>. 
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Append "<code>(</code>" to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append <a data-link-type="dfn" href="#full-wildcard-regexp-value" id="ref-for-full-wildcard-regexp-value③">full wildcard regexp value</a> to the end of <var>result</var>.</p>
           <li data-md>
            <p>Append "<code>)</code>" to the end of <var>result</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If all of the following are true:</p>
        <ul>
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-type" id="ref-for-part-type①⑤">type</a> is "<a data-link-type="dfn" href="#part-type-segment-wildcard" id="ref-for-part-type-segment-wildcard④"><code>segment-wildcard</code></a>"; and
         <li><var>custom name</var> is true; and
         <li><var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①④">suffix</a> is not the empty string; and
         <li>The result of running <a data-link-type="dfn" href="#is-a-valid-name-code-point" id="ref-for-is-a-valid-name-code-point②">is a valid name code point</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①⑤">suffix</a>'s first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point③">code point</a> and the boolean false is true
        </ul>
         then append U+005C (<code>\</code>) to the end of <var>result</var>. 
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#escape-a-pattern-string" id="ref-for-escape-a-pattern-string③">escape a pattern string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-suffix" id="ref-for-part-suffix①⑥">suffix</a> to the end of <var>result</var>.</p>
       <li data-md>
        <p>If <var>needs grouping</var> is true, then append "<code>}</code>" to the end of <var>result</var>.</p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="#convert-a-modifier-to-a-string" id="ref-for-convert-a-modifier-to-a-string⑤">convert a modifier to a string</a> given <var>part</var>’s <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier②⓪">modifier</a> to the end of <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="escape a pattern string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="escape-a-pattern-string">escape a pattern string</dfn> given a string <var>input</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①③">Assert</a>: <var>input</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string" id="ref-for-ascii-string①">ASCII string</a>.</p>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p>Let <var>index</var> be 0.</p>
     <li data-md>
      <p>While <var>index</var> is less than <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>c</var> be <var>input</var>[<var>index</var>].</p>
       <li data-md>
        <p>Increment <var>index</var> by 1.</p>
       <li data-md>
        <p>If <var>c</var> is one of:</p>
        <ul>
         <li>U+002B (<code>+</code>);
         <li>U+002A (<code>*</code>);
         <li>U+003F (<code>?</code>);
         <li>U+003A (<code>:</code>);
         <li>U+007B (<code>{</code>);
         <li>U+007D (<code>}</code>);
         <li>U+0028 (<code>(</code>);
         <li>U+0029 (<code>)</code>); or
         <li>U+005C (<code>\</code>),
        </ul>
        <p>then append U+005C (<code>\</code>) to the end of <var>result</var>. </p>
       <li data-md>
        <p>Append <var>c</var> to the end of <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="convert a modifier to a string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-a-modifier-to-a-string">convert a modifier to a string</dfn> given a <a data-link-type="dfn" href="#part-modifier" id="ref-for-part-modifier②①">modifier</a> <var>modifier</var>: 
    <ol>
     <li data-md>
      <p>If <var>modifier</var> is "<a data-link-type="dfn" href="#part-modifier-zero-or-more" id="ref-for-part-modifier-zero-or-more③"><code>zero-or-more</code></a>", then return "<code>*</code>".</p>
     <li data-md>
      <p>If <var>modifier</var> is "<a data-link-type="dfn" href="#part-modifier-optional" id="ref-for-part-modifier-optional③"><code>optional</code></a>", then return "<code>?</code>".</p>
     <li data-md>
      <p>If <var>modifier</var> is "<a data-link-type="dfn" href="#part-modifier-one-or-more" id="ref-for-part-modifier-one-or-more②"><code>one-or-more</code></a>", then return "<code>+</code>".</p>
     <li data-md>
      <p>Return the empty string.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="canon"><span class="secno">3. </span><span class="content">Canonicalization</span><a class="self-link" href="#canon"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="canon-encoding-callbacks"><span class="secno">3.1. </span><span class="content">Encoding Callbacks</span><a class="self-link" href="#canon-encoding-callbacks"></a></h3>
   <div class="algorithm" data-algorithm="canonicalize a protocol">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-protocol">canonicalize a protocol</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL record</a>.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser④">basic URL parser</a> given <var>value</var> followed by "<code>://dummy.test</code>", with <var>dummyURL</var> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url">url</a></i>.</p>
      <p class="note" role="note">Note, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override">state override</a> is not used here because it enforces restrictions that are only appropriate for the <code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#dom-url-protocol" id="ref-for-dom-url-protocol">protocol</a></code> setter.  Instead we use the protocol to parse a dummy URL using the normal parsing entry point.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a username">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-username">canonicalize a username</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL record</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#set-the-username" id="ref-for-set-the-username">Set the username</a> given <var>dummyURL</var> and <var>value</var>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-username" id="ref-for-concept-url-username①">username</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a password">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-password">canonicalize a password</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL record</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#set-the-password" id="ref-for-set-the-password">Set the password</a> given <var>dummyURL</var> and <var>value</var>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-password" id="ref-for-concept-url-password①">password</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a hostname">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-hostname">canonicalize a hostname</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL record</a>.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser⑤">basic URL parser</a> given <var>value</var> with <var>dummyURL</var> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url①">url</a></i> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#hostname-state" id="ref-for-hostname-state">hostname state</a> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override①">state override</a></i>.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host①">host</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize an IPv6 hostname">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-an-ipv6-hostname">canonicalize an IPv6 hostname</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be the empty string.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>code point</var> in <var>value</var> interpreted as a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point④">code points</a>:</p>
      <ol>
       <li data-md>
        <p>If all of the following are true:</p>
        <ul>
         <li><var>code point</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-hex-digit" id="ref-for-ascii-hex-digit">ASCII hex digit</a>;
         <li><var>code point</var> is not U+005B (<code>[</code>);
         <li><var>code point</var> is not U+005D (<code>]</code>); and
         <li><var>code point</var> is not U+003A (<code>:</code>),
        </ul>
        <p>then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code>. </p>
       <li data-md>
        <p>Append the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-lowercase" id="ref-for-ascii-lowercase">ASCII lowercase</a> given <var>code point</var> to the end of <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a port">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-port">canonicalize a port</dfn> given a string <var>portValue</var> and optionally a string <var>protocolValue</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL record</a>.</p>
     <li data-md>
      <p>If <var>protocolValue</var> was given, then set <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> to <var>protocolValue</var>.</p>
      <p class="note" role="note">Note, we set the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL record</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme③">scheme</a> in order for the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser⑥">basic URL parser</a> to recognize and normalize default port values.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser⑦">basic URL parser</a> given <var>portValue</var> with <var>dummyURL</var> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url②">url</a></i> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#port-state" id="ref-for-port-state">port state</a> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override②">state override</a></i>.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port①">port</a> or empty string if it is null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a pathname">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-pathname">canonicalize a pathname</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, then return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>leading slash</var> be true if the first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point⑤">code point</a> in <var>value</var> is U+002F (<code>/</code>) and otherwise false.</p>
     <li data-md>
      <p>Let <var>modified value</var> be "<code>/-</code>" if <var>leading slash</var> is false and otherwise the empty string.</p>
      <div class="note" role="note">
       <p>The URL parser will automatically prepend a leading slash to the canonicalized pathname.  This does not work here unfortunately.  This algorithm is called for pieces of the pathname, instead of the entire pathname, when used as an encoding callback.  Therefore we disable the prepending of the slash by inserting our own. An additional character is also inserted here in order to avoid inadvertantly collapsing a leading dot due to the fake leading slash being interpreted as a "<code>/.</code>" sequence.  These inserted characters are then removed from the result below. </p>
       <p>Note, implementations are free to simply disable slash prepending in their URL parsing code instead of paying the performance penalty of inserting and removing characters in this algorithm. </p>
      </div>
     <li data-md>
      <p>Append <var>value</var> to the end of <var>modified value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL record</a>.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser⑧">basic URL parser</a> given <var>modified value</var> with <var>dummyURL</var> as <a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url③">url</a> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#path-start-state" id="ref-for-path-start-state">path start state</a> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override③">state override</a></i>.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>result</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-path-serializer" id="ref-for-url-path-serializer①">URL path serializing</a> <var>dummyURL</var>.</p>
     <li data-md>
      <p>If <var>leading slash</var> is false, then set <var>result</var> to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-substring-to-the-end-of-the-string" id="ref-for-code-point-substring-to-the-end-of-the-string">code point substring</a> from 2 to the end of the string within <var>result</var>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize an opaque pathname">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-an-opaque-pathname">canonicalize an opaque pathname</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL record</a>.</p>
     <li data-md>
      <p>Set <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path">path</a> to the empty string.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser⑨">URL parsing</a> given <var>value</var> with <var>dummyURL</var> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url④">url</a></i> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#cannot-be-a-base-url-path-state" id="ref-for-cannot-be-a-base-url-path-state">opaque path state</a> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override④">state override</a></i>.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①②">TypeError</a></code>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-path-serializer" id="ref-for-url-path-serializer②">URL path serializing</a> <var>dummyURL</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a search">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-search">canonicalize a search</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL record</a>.</p>
     <li data-md>
      <p>Set <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query①">query</a> to the empty string.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser①⓪">basic URL parser</a> given <var>value</var> with <var>dummyURL</var> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url⑤">url</a></i> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#query-state" id="ref-for-query-state">query state</a> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override⑤">state override</a></i>.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①③">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query②">query</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="canonicalize a hash">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="canonicalize-a-hash">canonicalize a hash</dfn> given a string <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is the empty string, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>dummyURL</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL record</a>.</p>
     <li data-md>
      <p>Set <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">fragment</a> to the empty string.</p>
     <li data-md>
      <p>Let <var>parseResult</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser" id="ref-for-concept-basic-url-parser①①">basic URL parser</a> given <var>value</var> with <var>dummyURL</var> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-url" id="ref-for-basic-url-parser-url⑥">url</a></i> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#fragment-state" id="ref-for-fragment-state">fragment state</a> as <i><a data-link-type="dfn" href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="ref-for-basic-url-parser-state-override⑥">state override</a></i>.</p>
     <li data-md>
      <p>If <var>parseResult</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①④">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <var>dummyURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment②">fragment</a>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.2" id="canon-processing-for-init"><span class="secno">3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit⑦">URLPatternInit</a></code> Processing</span><a class="self-link" href="#canon-processing-for-init"></a></h3>
   <div class="algorithm" data-algorithm="process a URLPatternInit">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-a-urlpatterninit">process a URLPatternInit</dfn> given a <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit⑧">URLPatternInit</a></code> <var>init</var>, a string <var>type</var>, a string or null <var>protocol</var>, a string or null <var>username</var>, a string or null <var>password</var>, a string or null <var>hostname</var>, a string or null <var>port</var>, a string or null <var>pathname</var>, a string or null <var>search</var>, and a string or null <var>hash</var>: 
    <ol>
     <li data-md>
      <p>Let <var>result</var> be the result of creating a new <code class="idl"><a data-link-type="idl" href="#dictdef-urlpatterninit" id="ref-for-dictdef-urlpatterninit⑨">URLPatternInit</a></code>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol④">protocol</a></code>"] to <var>protocol</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username③">username</a></code>"] to <var>username</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password③">password</a></code>"] to <var>password</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname⑤">hostname</a></code>"] to <var>hostname</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port⑤">port</a></code>"] to <var>port</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname⑤">pathname</a></code>"] to <var>pathname</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search③">search</a></code>"] to <var>search</var>.</p>
     <li data-md>
      <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash③">hash</a></code>"] to <var>hash</var>.</p>
     <li data-md>
      <p>Let <var>baseURL</var> be null.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-baseurl" id="ref-for-dom-urlpatterninit-baseurl③">baseURL</a></code>"] is not null:</p>
      <ol>
       <li data-md>
        <p>Set <var>baseURL</var> to the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">parsing</a> <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-baseurl" id="ref-for-dom-urlpatterninit-baseurl④">baseURL</a></code>"].</p>
       <li data-md>
        <p>If <var>baseURL</var> is failure, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑤">TypeError</a></code>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol⑤">protocol</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme④">scheme</a> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username④">username</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string①">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-username" id="ref-for-concept-url-username②">username</a> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password④">password</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string②">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-password" id="ref-for-concept-url-password②">password</a> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname⑥">hostname</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string③">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host②">host</a> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port⑥">port</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string④">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port②">port</a> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname⑥">pathname</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string⑤">processing a base URL string</a> given the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-path-serializer" id="ref-for-url-path-serializer③">URL path serializing</a> <var>baseURL</var> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search④">search</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string⑥">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query③">query</a> and <var>type</var>.</p>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash④">hash</a></code>"] to the result of <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string⑦">processing a base URL string</a> given <var>baseURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment③">fragment</a> and <var>type</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol⑥">protocol</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol⑦">protocol</a></code>"] to the result of <a data-link-type="dfn" href="#process-protocol-for-init" id="ref-for-process-protocol-for-init">process protocol for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol⑧">protocol</a></code>"] and <var>type</var>.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username⑤">username</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username⑥">username</a></code>"] to the result of <a data-link-type="dfn" href="#process-username-for-init" id="ref-for-process-username-for-init">process username for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-username" id="ref-for-dom-urlpatterninit-username⑦">username</a></code>"] and <var>type</var>.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password⑤">password</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password⑥">password</a></code>"] to the result of <a data-link-type="dfn" href="#process-password-for-init" id="ref-for-process-password-for-init">process password for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-password" id="ref-for-dom-urlpatterninit-password⑦">password</a></code>"] and <var>type</var>.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname⑦">hostname</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname⑧">hostname</a></code>"] to the result of <a data-link-type="dfn" href="#process-hostname-for-init" id="ref-for-process-hostname-for-init">process hostname for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hostname" id="ref-for-dom-urlpatterninit-hostname⑨">hostname</a></code>"] and <var>type</var>.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port⑦">port</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port⑧">port</a></code>"] to the result of <a data-link-type="dfn" href="#process-port-for-init" id="ref-for-process-port-for-init">process port for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-port" id="ref-for-dom-urlpatterninit-port⑨">port</a></code>"], <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol⑨">protocol</a></code>"], and <var>type</var>.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname⑦">pathname</a></code>"] is not null:</p>
      <ol>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname⑧">pathname</a></code>"] to <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname⑨">pathname</a></code>"].</p>
       <li data-md>
        <p>If the following are all true:</p>
        <ul>
         <li><var>baseURL</var> is not null;
         <li><var>baseURL</var> has an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-opaque-path" id="ref-for-url-opaque-path">opaque path</a>; and
         <li>the result of running <a data-link-type="dfn" href="#is-an-absolute-pathname" id="ref-for-is-an-absolute-pathname">is an absolute pathname</a> given <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname①⓪">pathname</a></code>"] and <var>type</var> is false, 
        </ul>
        <p>then: </p>
        <ol>
         <li data-md>
          <p>Let <var>baseURLPath</var> be the result of running <a data-link-type="dfn" href="#process-a-base-url-string" id="ref-for-process-a-base-url-string⑧">process a base URL string</a> given the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-path-serializer" id="ref-for-url-path-serializer④">URL path serializing</a> <var>baseURL</var> and <var>type</var>.</p>
         <li data-md>
          <p>Let <var>slash index</var> be the index of the last U+002F (<code>/</code>) code point found in <var>baseURLPath</var>, interpreted as a sequence of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point" id="ref-for-code-point⑥">code points</a>, or null if there are no instances of the code point.</p>
         <li data-md>
          <p>If <var>slash index</var> is not null:</p>
          <ol>
           <li data-md>
            <p>Let <var>new pathname</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-substring-by-positions" id="ref-for-code-point-substring-by-positions①">code point substring</a> from 0 to <var>slash index</var> + 1 within <var>baseURLPath</var>.</p>
           <li data-md>
            <p>Append <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname①①">pathname</a></code>"] to the end of <var>new pathname</var>.</p>
           <li data-md>
            <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname①②">pathname</a></code>"] to <var>new pathname</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname①③">pathname</a></code>"] to the result of <a data-link-type="dfn" href="#process-pathname-for-init" id="ref-for-process-pathname-for-init">process pathname for init</a> given <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-pathname" id="ref-for-dom-urlpatterninit-pathname①④">pathname</a></code>"], <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol①⓪">protocol</a></code>"], and <var>type</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search⑤">search</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search⑥">search</a></code>"] to the result of <a data-link-type="dfn" href="#process-search-for-init" id="ref-for-process-search-for-init">process search for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-search" id="ref-for-dom-urlpatterninit-search⑦">search</a></code>"] and <var>type</var>.</p>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash⑤">hash</a></code>"] is not null then set <var>result</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash⑥">hash</a></code>"] to the result of <a data-link-type="dfn" href="#process-hash-for-init" id="ref-for-process-hash-for-init">process hash for init</a> given <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-hash" id="ref-for-dom-urlpatterninit-hash⑦">hash</a></code>"] and <var>type</var>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process a base URL string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-a-base-url-string">process a base URL string</dfn> given a string <var>input</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①④">Assert</a>: <var>input</var> is not null.</p>
     <li data-md>
      <p>If <var>type</var> is not "<code>pattern</code>" return <var>input</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#escape-a-pattern-string" id="ref-for-escape-a-pattern-string④">escaping a pattern string</a> given <var>input</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is an absolute pathname">
     To run <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-an-absolute-pathname">is an absolute pathname</dfn> given a <a data-link-type="dfn" href="#pattern-string" id="ref-for-pattern-string①③">pattern string</a> <var>input</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>If <var>input</var> is the empty string, then return false.</p>
     <li data-md>
      <p>If <var>input</var>[0] is U+002F (<code>/</code>), then return true.</p>
     <li data-md>
      <p>If <var>type</var> is "<code>url</code>", then return false.</p>
     <li data-md>
      <p>If <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length⑦">code point length</a> is less than 2, then return false.</p>
     <li data-md>
      <p>If <var>input</var>[0] is U+005C (<code>\</code>) and <var>input</var>[1] is U+002F (<code>/</code>), then return true.</p>
     <li data-md>
      <p>If <var>input</var>[0] is U+007B (<code>{</code>) and <var>input</var>[1] is U+002F (<code>/</code>), then return true.</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process protocol for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-protocol-for-init">process protocol for init</dfn> given a string <var>value</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>Let <var>strippedValue</var> be the given <var>value</var> with a single trailing U+003A (<code>:</code>) removed, if any.</p>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>strippedValue</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-protocol" id="ref-for-canonicalize-a-protocol②">canonicalize a protocol</a> given <var>strippedValue</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process username for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-username-for-init">process username for init</dfn> given a string <var>value</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>value</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-username" id="ref-for-canonicalize-a-username①">canonicalize a username</a> given <var>value</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process password for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-password-for-init">process password for init</dfn> given a string <var>value</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>value</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-password" id="ref-for-canonicalize-a-password①">canonicalize a password</a> given <var>value</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process hostname for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-hostname-for-init">process hostname for init</dfn> given a string <var>value</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>value</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-hostname" id="ref-for-canonicalize-a-hostname①">canonicalize a hostname</a> given <var>value</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process port for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-port-for-init">process port for init</dfn> given a string <var>portValue</var>, a string <var>protocolValue</var>, and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>portValue</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-port" id="ref-for-canonicalize-a-port①">canonicalize a port</a> given <var>portValue</var> and <var>protocolValue</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process pathname for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-pathname-for-init">process pathname for init</dfn> given a string <var>pathnameValue</var>, a string <var>protocolValue</var>, and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>pathnameValue</var>.</p>
     <li data-md>
      <p>If <var>protocolValue</var> is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#special-scheme" id="ref-for-special-scheme③">special scheme</a> or the empty string, then return the result of running <a data-link-type="dfn" href="#canonicalize-a-pathname" id="ref-for-canonicalize-a-pathname①">canonicalize a pathname</a> given <var>pathnameValue</var>.</p>
      <p class="note" role="note">If the <var>protocolValue</var> is the empty string then no value was provided for <code class="idl"><a data-link-type="idl" href="#dom-urlpatterninit-protocol" id="ref-for-dom-urlpatterninit-protocol①①">protocol</a></code> in the constructor dictionary.  Normally we do not special case empty string dictionary values, but in this case we treat it as a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#special-scheme" id="ref-for-special-scheme④">special scheme</a> in order to default to the most common pathname canonicalization. </p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-an-opaque-pathname" id="ref-for-canonicalize-an-opaque-pathname①">canonicalize an opaque pathname</a> given <var>pathnameValue</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process search for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-search-for-init">process search for init</dfn> given a string <var>value</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>Let <var>strippedValue</var> be the given <var>value</var> with a single leading U+003F (<code>?</code>) removed, if any.</p>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>strippedValue</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-search" id="ref-for-canonicalize-a-search①">canonicalize a search</a> given <var>strippedValue</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process hash for init">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-hash-for-init">process hash for init</dfn> given a string <var>value</var> and a string <var>type</var>: 
    <ol>
     <li data-md>
      <p>Let <var>strippedValue</var> be the given <var>value</var> with a single leading U+0023 (<code>#</code>) removed, if any.</p>
     <li data-md>
      <p>If <var>type</var> is "<code>pattern</code>" then return <var>strippedValue</var>.</p>
     <li data-md>
      <p>Return the result of running <a data-link-type="dfn" href="#canonicalize-a-hash" id="ref-for-canonicalize-a-hash①">canonicalize a hash</a> given <var>strippedValue</var>.</p>
    </ol>
   </div>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#add-a-part">add a part</a><span>, in § 2.1.5</span>
   <li><a href="#add-a-token">add a token</a><span>, in § 2.1.2</span>
   <li><a href="#add-a-token-with-default-length">add a token with default length</a><span>, in § 2.1.2</span>
   <li><a href="#add-a-token-with-default-position-and-length">add a token with default position and length</a><span>, in § 2.1.2</span>
   <li><a href="#token-type-asterisk">asterisk</a><span>, in § 2.1.1</span>
   <li><a href="#constructor-string-parser-state-authority">authority</a><span>, in § 1.2</span>
   <li><a href="#dom-urlpatterninit-baseurl">baseURL</a><span>, in § 1</span>
   <li><a href="#canonicalize-a-hash">canonicalize a hash</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-hostname">canonicalize a hostname</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-an-ipv6-hostname">canonicalize an IPv6 hostname</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-an-opaque-pathname">canonicalize an opaque pathname</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-password">canonicalize a password</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-pathname">canonicalize a pathname</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-port">canonicalize a port</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-protocol">canonicalize a protocol</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-search">canonicalize a search</a><span>, in § 3.1</span>
   <li><a href="#canonicalize-a-username">canonicalize a username</a><span>, in § 3.1</span>
   <li><a href="#change-state">change state</a><span>, in § 1.2</span>
   <li><a href="#token-type-char">char</a><span>, in § 2.1.1</span>
   <li><a href="#token-type-close">close</a><span>, in § 2.1.1</span>
   <li><a href="#tokenizer-code-point">code point</a><span>, in § 2.1.2</span>
   <li><a href="#compile-a-component">compile a component</a><span>, in § 1.1</span>
   <li><a href="#component">component</a><span>, in § 1.1</span>
   <li><a href="#constructor-string-parser-component-start">component start</a><span>, in § 1.2</span>
   <li><a href="#compute-protocol-matches-a-special-scheme-flag">compute protocol matches a special scheme flag</a><span>, in § 1.2</span>
   <li><a href="#dom-urlpattern-urlpattern-input-options">constructor()</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern-input-options">constructor(input)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern">constructor(input, baseURL)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern">constructor(input, baseURL, options)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern-input-options">constructor(input, options)</a><span>, in § 1</span>
   <li><a href="#constructor-string-parser">constructor string parser</a><span>, in § 1.2</span>
   <li><a href="#consume-a-required-token">consume a required token</a><span>, in § 2.1.5</span>
   <li><a href="#consume-text">consume text</a><span>, in § 2.1.5</span>
   <li><a href="#convert-a-modifier-to-a-string">convert a modifier to a string</a><span>, in § 2.3</span>
   <li><a href="#create-a-component-match-result">create a component match result</a><span>, in § 1.1</span>
   <li><a href="#default-options">default options</a><span>, in § 1.1</span>
   <li><a href="#options-delimiter-code-point">delimiter code point</a><span>, in § 2.1.4</span>
   <li><a href="#constructor-string-parser-state-done">done</a><span>, in § 1.2</span>
   <li>
    encoding callback
    <ul>
     <li><a href="#encoding-callback">definition of</a><span>, in § 2.1.5</span>
     <li><a href="#pattern-parser-encoding-callback">dfn for pattern parser</a><span>, in § 2.1.5</span>
    </ul>
   <li><a href="#token-type-end">end</a><span>, in § 2.1.1</span>
   <li><a href="#escape-a-pattern-string">escape a pattern string</a><span>, in § 2.3</span>
   <li><a href="#escape-a-regexp-string">escape a regexp string</a><span>, in § 2.2</span>
   <li><a href="#token-type-escaped-char">escaped-char</a><span>, in § 2.1.1</span>
   <li><a href="#dom-urlpattern-exec">exec()</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-exec">exec(input)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-exec">exec(input, baseURL)</a><span>, in § 1</span>
   <li><a href="#part-type-fixed-text">fixed-text</a><span>, in § 2.1.3</span>
   <li><a href="#part-type-full-wildcard">full-wildcard</a><span>, in § 2.1.3</span>
   <li><a href="#full-wildcard-regexp-value">full wildcard regexp value</a><span>, in § 2.1.5</span>
   <li><a href="#generate-a-pattern-string">generate a pattern string</a><span>, in § 2.3</span>
   <li><a href="#generate-a-regular-expression-and-name-list">generate a regular expression and name list</a><span>, in § 2.2</span>
   <li><a href="#generate-a-segment-wildcard-regexp">generate a segment wildcard regexp</a><span>, in § 2.1.5</span>
   <li><a href="#get-a-safe-token">get a safe token</a><span>, in § 1.2</span>
   <li><a href="#get-the-next-code-point">get the next code point</a><span>, in § 2.1.2</span>
   <li><a href="#constructor-string-parser-group-depth">group depth</a><span>, in § 1.2</span>
   <li><a href="#component-group-name-list">group name list</a><span>, in § 1.1</span>
   <li><a href="#dom-urlpatterncomponentresult-groups">groups</a><span>, in § 1</span>
   <li>
    hash
    <ul>
     <li><a href="#dom-urlpattern-hash">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-hash">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-hash">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-hash">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-hash-component">hash component</a><span>, in § 1</span>
   <li>
    hostname
    <ul>
     <li><a href="#dom-urlpattern-hostname">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-hostname">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-hostname">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-hostname">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-hostname-component">hostname component</a><span>, in § 1</span>
   <li><a href="#constructor-string-parser-hostname-ipv6-bracket-depth">hostname IPv6 bracket depth</a><span>, in § 1.2</span>
   <li><a href="#hostname-options">hostname options</a><span>, in § 1.1</span>
   <li><a href="#hostname-pattern-is-an-ipv6-address">hostname pattern is an IPv6 address</a><span>, in § 1.1</span>
   <li><a href="#options-ignore-case">ignore case</a><span>, in § 2.1.4</span>
   <li><a href="#dom-urlpatternoptions-ignorecase">ignoreCase</a><span>, in § 1</span>
   <li>
    index
    <ul>
     <li><a href="#pattern-parser-index">dfn for pattern parser</a><span>, in § 2.1.5</span>
     <li><a href="#token-index">dfn for token</a><span>, in § 2.1.1</span>
     <li><a href="#tokenizer-index">dfn for tokenizer</a><span>, in § 2.1.2</span>
    </ul>
   <li><a href="#constructor-string-parser-state-init">init</a><span>, in § 1.2</span>
   <li><a href="#urlpattern-initialize">initialize</a><span>, in § 1</span>
   <li>
    input
    <ul>
     <li><a href="#constructor-string-parser-input">dfn for constructor string parser</a><span>, in § 1.2</span>
     <li><a href="#tokenizer-input">dfn for tokenizer</a><span>, in § 2.1.2</span>
     <li><a href="#dom-urlpatterncomponentresult-input">dict-member for URLPatternComponentResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#dom-urlpatternresult-inputs">inputs</a><span>, in § 1</span>
   <li><a href="#token-type-invalid-char">invalid-char</a><span>, in § 2.1.1</span>
   <li><a href="#is-a-duplicate-name">is a duplicate name</a><span>, in § 2.1.5</span>
   <li><a href="#is-a-group-close">is a group close</a><span>, in § 1.2</span>
   <li><a href="#is-a-group-open">is a group open</a><span>, in § 1.2</span>
   <li><a href="#is-a-hash-prefix">is a hash prefix</a><span>, in § 1.2</span>
   <li><a href="#is-an-absolute-pathname">is an absolute pathname</a><span>, in § 3.2</span>
   <li><a href="#is-an-identity-terminator">is an identity terminator</a><span>, in § 1.2</span>
   <li><a href="#is-an-ipv6-close">is an IPv6 close</a><span>, in § 1.2</span>
   <li><a href="#is-an-ipv6-open">is an IPv6 open</a><span>, in § 1.2</span>
   <li><a href="#is-a-non-special-pattern-char">is a non-special pattern char</a><span>, in § 1.2</span>
   <li><a href="#is-a-password-prefix">is a password prefix</a><span>, in § 1.2</span>
   <li><a href="#is-a-pathname-start">is a pathname start</a><span>, in § 1.2</span>
   <li><a href="#is-a-port-prefix">is a port prefix</a><span>, in § 1.2</span>
   <li><a href="#is-a-protocol-suffix">is a protocol suffix</a><span>, in § 1.2</span>
   <li><a href="#is-ascii">is ASCII</a><span>, in § 2.1.2</span>
   <li><a href="#is-a-search-prefix">is a search prefix</a><span>, in § 1.2</span>
   <li><a href="#is-a-valid-name-code-point">is a valid name code point</a><span>, in § 2.1.2</span>
   <li><a href="#tokenize-policy-lenient">lenient</a><span>, in § 2.1.2</span>
   <li><a href="#make-a-component-string">make a component string</a><span>, in § 1.2</span>
   <li><a href="#match">match</a><span>, in § 1.1</span>
   <li><a href="#maybe-add-a-part-from-the-pending-fixed-value">maybe add a part from the pending fixed value</a><span>, in § 2.1.5</span>
   <li><a href="#part-modifier">modifier</a><span>, in § 2.1.3</span>
   <li>
    name
    <ul>
     <li><a href="#part-name">dfn for part</a><span>, in § 2.1.3</span>
     <li><a href="#token-type-name">dfn for token/type</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#tokenizer-next-index">next index</a><span>, in § 2.1.2</span>
   <li><a href="#next-is-authority-slashes">next is authority slashes</a><span>, in § 1.2</span>
   <li><a href="#pattern-parser-next-numeric-name">next numeric name</a><span>, in § 2.1.5</span>
   <li><a href="#part-modifier-none">none</a><span>, in § 2.1.3</span>
   <li><a href="#part-modifier-one-or-more">one-or-more</a><span>, in § 2.1.3</span>
   <li><a href="#token-type-open">open</a><span>, in § 2.1.1</span>
   <li><a href="#part-modifier-optional">optional</a><span>, in § 2.1.3</span>
   <li><a href="#options">options</a><span>, in § 2.1.4</span>
   <li><a href="#token-type-other-modifier">other-modifier</a><span>, in § 2.1.1</span>
   <li><a href="#parse-a-constructor-string">parse a constructor string</a><span>, in § 1.2</span>
   <li><a href="#parse-a-pattern-string">parse a pattern string</a><span>, in § 2.1.5</span>
   <li><a href="#part">part</a><span>, in § 2.1.3</span>
   <li>
    part list
    <ul>
     <li><a href="#part-list">definition of</a><span>, in § 2.1.3</span>
     <li><a href="#pattern-parser-part-list">dfn for pattern parser</a><span>, in § 2.1.5</span>
    </ul>
   <li>
    password
    <ul>
     <li><a href="#dom-urlpattern-password">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-password">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-password">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-password">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-password-component">password component</a><span>, in § 1</span>
   <li>
    pathname
    <ul>
     <li><a href="#dom-urlpattern-pathname">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-pathname">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-pathname">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-pathname">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-pathname-component">pathname component</a><span>, in § 1</span>
   <li><a href="#pathname-options">pathname options</a><span>, in § 1.1</span>
   <li><a href="#pattern-parser">pattern parser</a><span>, in § 2.1.5</span>
   <li>
    pattern string
    <ul>
     <li><a href="#pattern-string">definition of</a><span>, in § 2</span>
     <li><a href="#component-pattern-string">dfn for component</a><span>, in § 1.1</span>
    </ul>
   <li><a href="#pattern-parser-pending-fixed-value">pending fixed value</a><span>, in § 2.1.5</span>
   <li><a href="#tokenizer-policy">policy</a><span>, in § 2.1.2</span>
   <li>
    port
    <ul>
     <li><a href="#dom-urlpattern-port">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-port">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-port">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-port">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-port-component">port component</a><span>, in § 1</span>
   <li><a href="#part-prefix">prefix</a><span>, in § 2.1.3</span>
   <li><a href="#options-prefix-code-point">prefix code point</a><span>, in § 2.1.4</span>
   <li><a href="#process-a-base-url-string">process a base URL string</a><span>, in § 3.2</span>
   <li><a href="#process-a-tokenizing-error">process a tokenizing error</a><span>, in § 2.1.2</span>
   <li><a href="#process-a-urlpatterninit">process a URLPatternInit</a><span>, in § 3.2</span>
   <li><a href="#process-hash-for-init">process hash for init</a><span>, in § 3.2</span>
   <li><a href="#process-hostname-for-init">process hostname for init</a><span>, in § 3.2</span>
   <li><a href="#process-password-for-init">process password for init</a><span>, in § 3.2</span>
   <li><a href="#process-pathname-for-init">process pathname for init</a><span>, in § 3.2</span>
   <li><a href="#process-port-for-init">process port for init</a><span>, in § 3.2</span>
   <li><a href="#process-protocol-for-init">process protocol for init</a><span>, in § 3.2</span>
   <li><a href="#process-search-for-init">process search for init</a><span>, in § 3.2</span>
   <li><a href="#process-username-for-init">process username for init</a><span>, in § 3.2</span>
   <li>
    protocol
    <ul>
     <li><a href="#dom-urlpattern-protocol">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-protocol">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-protocol">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-protocol">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-protocol-component">protocol component</a><span>, in § 1</span>
   <li><a href="#protocol-component-matches-a-special-scheme">protocol component matches a special scheme</a><span>, in § 1.1</span>
   <li><a href="#constructor-string-parser-protocol-matches-a-special-scheme-flag">protocol matches a special scheme flag</a><span>, in § 1.2</span>
   <li>
    regexp
    <ul>
     <li><a href="#part-type-regexp">dfn for part/type</a><span>, in § 2.1.3</span>
     <li><a href="#token-type-regexp">dfn for token/type</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#component-regular-expression">regular expression</a><span>, in § 1.1</span>
   <li><a href="#constructor-string-parser-result">result</a><span>, in § 1.2</span>
   <li><a href="#rewind">rewind</a><span>, in § 1.2</span>
   <li><a href="#rewind-and-set-state">rewind and set state</a><span>, in § 1.2</span>
   <li>
    search
    <ul>
     <li><a href="#dom-urlpattern-search">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-search">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-search">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-search">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-search-component">search component</a><span>, in § 1</span>
   <li><a href="#seek-and-get-the-next-code-point">seek and get the next code point</a><span>, in § 2.1.2</span>
   <li><a href="#part-type-segment-wildcard">segment-wildcard</a><span>, in § 2.1.3</span>
   <li><a href="#pattern-parser-segment-wildcard-regexp">segment wildcard regexp</a><span>, in § 2.1.5</span>
   <li><a href="#constructor-string-parser-state">state</a><span>, in § 1.2</span>
   <li><a href="#tokenize-policy-strict">strict</a><span>, in § 2.1.2</span>
   <li><a href="#part-suffix">suffix</a><span>, in § 2.1.3</span>
   <li><a href="#dom-urlpattern-test">test()</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-test">test(input)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-test">test(input, baseURL)</a><span>, in § 1</span>
   <li><a href="#token">token</a><span>, in § 2.1.1</span>
   <li><a href="#constructor-string-parser-token-increment">token increment</a><span>, in § 1.2</span>
   <li><a href="#constructor-string-parser-token-index">token index</a><span>, in § 1.2</span>
   <li><a href="#tokenize">tokenize</a><span>, in § 2.1.2</span>
   <li><a href="#tokenize-policy">tokenize policy</a><span>, in § 2.1.2</span>
   <li><a href="#tokenizer">tokenizer</a><span>, in § 2.1.2</span>
   <li>
    token list
    <ul>
     <li><a href="#token-list">definition of</a><span>, in § 2.1.1</span>
     <li><a href="#constructor-string-parser-token-list">dfn for constructor string parser</a><span>, in § 1.2</span>
     <li><a href="#pattern-parser-token-list">dfn for pattern parser</a><span>, in § 2.1.5</span>
     <li><a href="#tokenizer-token-list">dfn for tokenizer</a><span>, in § 2.1.2</span>
    </ul>
   <li><a href="#try-to-consume-a-modifier-token">try to consume a modifier token</a><span>, in § 2.1.5</span>
   <li><a href="#try-to-consume-a-regexp-or-wildcard-token">try to consume a regexp or wildcard token</a><span>, in § 2.1.5</span>
   <li><a href="#try-to-consume-a-token">try to consume a token</a><span>, in § 2.1.5</span>
   <li>
    type
    <ul>
     <li><a href="#part-type">dfn for part</a><span>, in § 2.1.3</span>
     <li><a href="#token-type">dfn for token</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#urlpattern">URLPattern</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern-input-options">URLPattern()</a><span>, in § 1</span>
   <li><a href="#dictdef-urlpatterncomponentresult">URLPatternComponentResult</a><span>, in § 1</span>
   <li><a href="#dictdef-urlpatterninit">URLPatternInit</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern-input-options">URLPattern(input)</a><span>, in § 1</span>
   <li><a href="#typedefdef-urlpatterninput">URLPatternInput</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern">URLPattern(input, baseURL)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern">URLPattern(input, baseURL, options)</a><span>, in § 1</span>
   <li><a href="#dom-urlpattern-urlpattern-input-options">URLPattern(input, options)</a><span>, in § 1</span>
   <li><a href="#dictdef-urlpatternoptions">URLPatternOptions</a><span>, in § 1</span>
   <li><a href="#dictdef-urlpatternresult">URLPatternResult</a><span>, in § 1</span>
   <li>
    username
    <ul>
     <li><a href="#dom-urlpattern-username">attribute for URLPattern</a><span>, in § 1</span>
     <li><a href="#constructor-string-parser-state-username">dfn for constructor string parser/state</a><span>, in § 1.2</span>
     <li><a href="#dom-urlpatterninit-username">dict-member for URLPatternInit</a><span>, in § 1</span>
     <li><a href="#dom-urlpatternresult-username">dict-member for URLPatternResult</a><span>, in § 1</span>
    </ul>
   <li><a href="#urlpattern-username-component">username component</a><span>, in § 1</span>
   <li>
    value
    <ul>
     <li><a href="#part-value">dfn for part</a><span>, in § 2.1.3</span>
     <li><a href="#token-value">dfn for token</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#pattern-string-well-formed">well formed</a><span>, in § 2</span>
   <li><a href="#part-modifier-zero-or-more">zero-or-more</a><span>, in § 2.1.3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ad13e46e">Get</span>
     <li><span class="dfn-paneled" id="22ce0910">RegExp</span>
     <li><span class="dfn-paneled" id="0bd3419a">RegExpBuiltinExec</span>
     <li><span class="dfn-paneled" id="313fc258">RegExpCreate</span>
     <li><span class="dfn-paneled" id="4074ac0f">ToString</span>
     <li><span class="dfn-paneled" id="0aeda639">identifierpart</span>
     <li><span class="dfn-paneled" id="d90e07e9">identifierstart</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append</span>
     <li><span class="dfn-paneled" id="ddc587b1">ascii code point</span>
     <li><span class="dfn-paneled" id="3b38c2fe">ascii digit</span>
     <li><span class="dfn-paneled" id="57ca97cc">ascii hex digit</span>
     <li><span class="dfn-paneled" id="6f2dfa22">ascii lowercase</span>
     <li><span class="dfn-paneled" id="2d5a2765">ascii string</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="915aff5e">code point</span>
     <li><span class="dfn-paneled" id="4ef39030">code point length</span>
     <li><span class="dfn-paneled" id="bb1f9628">code point substring</span>
     <li><span class="dfn-paneled" id="cfd05055">code point substring by positions</span>
     <li><span class="dfn-paneled" id="b8906bbb">code point substring to the end of the string</span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="16d07e10">for each</span>
     <li><span class="dfn-paneled" id="b1f287e4">get the indices</span>
     <li><span class="dfn-paneled" id="0fa357c3">length</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="762869d3">scalar value string</span>
     <li><span class="dfn-paneled" id="0204d188">size</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="cbdc89b4">while</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9ed8b710">basic url parser</span>
     <li><span class="dfn-paneled" id="12553145">default port</span>
     <li><span class="dfn-paneled" id="ed948033">fragment</span>
     <li><span class="dfn-paneled" id="6e6a0222">fragment state</span>
     <li><span class="dfn-paneled" id="b85ee3be">host</span>
     <li><span class="dfn-paneled" id="b109065e">hostname state</span>
     <li><span class="dfn-paneled" id="947ae08a">opaque path</span>
     <li><span class="dfn-paneled" id="b66461d9">opaque path state</span>
     <li><span class="dfn-paneled" id="a1288f2a">password</span>
     <li><span class="dfn-paneled" id="c0868016">path</span>
     <li><span class="dfn-paneled" id="0f760980">path start state</span>
     <li><span class="dfn-paneled" id="852ada56">port</span>
     <li><span class="dfn-paneled" id="8933b8ab">port state</span>
     <li><span class="dfn-paneled" id="6efe9c33">protocol</span>
     <li><span class="dfn-paneled" id="3ab2ec8b">query</span>
     <li><span class="dfn-paneled" id="9298e5e9">query state</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="c59c07d7">set the password</span>
     <li><span class="dfn-paneled" id="a1358bae">set the username</span>
     <li><span class="dfn-paneled" id="4e67ebef">special scheme</span>
     <li><span class="dfn-paneled" id="8a0e7b76">state override</span>
     <li><span class="dfn-paneled" id="707a1e84">url</span>
     <li><span class="dfn-paneled" id="ca3ca4ae">url parser</span>
     <li><span class="dfn-paneled" id="5e76075f">url path serializing</span>
     <li><span class="dfn-paneled" id="a8c7461b">url record</span>
     <li><span class="dfn-paneled" id="218c9455">username</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="7787d359">record</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-urlpatterninit"><c- n>URLPatternInit</c-></a>) <a href="#typedefdef-urlpatterninput"><code><c- g>URLPatternInput</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#urlpattern"><code><c- g>URLPattern</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-urlpattern-urlpattern"><c- g>constructor</c-></a>(<a data-link-type="idl-name" href="#typedefdef-urlpatterninput"><c- n>URLPatternInput</c-></a> <a href="#dom-urlpattern-urlpattern-input-baseurl-options-input"><code><c- g>input</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-urlpattern-urlpattern-input-baseurl-options-baseurl"><code><c- g>baseURL</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-urlpatternoptions"><c- n>URLPatternOptions</c-></a> <a href="#dom-urlpattern-urlpattern-input-baseurl-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="constructor" href="#dom-urlpattern-urlpattern-input-options"><c- g>constructor</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-urlpatterninput"><c- n>URLPatternInput</c-></a> <a href="#dom-urlpattern-urlpattern-input-options-input"><code><c- g>input</c-></code></a> = {}, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-urlpatternoptions"><c- n>URLPatternOptions</c-></a> <a href="#dom-urlpattern-urlpattern-input-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-urlpattern-test"><c- g>test</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-urlpatterninput"><c- n>URLPatternInput</c-></a> <a href="#dom-urlpattern-test-input-baseurl-input"><code><c- g>input</c-></code></a> = {}, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-urlpattern-test-input-baseurl-baseurl"><code><c- g>baseURL</c-></code></a>);

  <a data-link-type="idl-name" href="#dictdef-urlpatternresult"><c- n>URLPatternResult</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-urlpattern-exec"><c- g>exec</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-urlpatterninput"><c- n>URLPatternInput</c-></a> <a href="#dom-urlpattern-exec-input-baseurl-input"><code><c- g>input</c-></code></a> = {}, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-urlpattern-exec-input-baseurl-baseurl"><code><c- g>baseURL</c-></code></a>);

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-protocol"><c- g>protocol</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-username"><c- g>username</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-password"><c- g>password</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-hostname"><c- g>hostname</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-port"><c- g>port</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-pathname"><c- g>pathname</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-search"><c- g>search</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-urlpattern-hash"><c- g>hash</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-urlpatterninit"><code><c- g>URLPatternInit</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-protocol"><code><c- g>protocol</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-username"><code><c- g>username</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-password"><code><c- g>password</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-hostname"><code><c- g>hostname</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-port"><code><c- g>port</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-pathname"><code><c- g>pathname</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-search"><code><c- g>search</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-hash"><code><c- g>hash</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterninit-baseurl"><code><c- g>baseURL</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-urlpatternoptions"><code><c- g>URLPatternOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-urlpatternoptions-ignorecase"><code><c- g>ignoreCase</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-urlpatternresult"><code><c- g>URLPatternResult</c-></code></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-urlpatterninput"><c- n>URLPatternInput</c-></a>> <a data-type="sequence<URLPatternInput> " href="#dom-urlpatternresult-inputs"><code><c- g>inputs</c-></code></a>;

  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-protocol"><code><c- g>protocol</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-username"><code><c- g>username</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-password"><code><c- g>password</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-hostname"><code><c- g>hostname</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-port"><code><c- g>port</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-pathname"><code><c- g>pathname</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-search"><code><c- g>search</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-urlpatterncomponentresult"><c- n>URLPatternComponentResult</c-></a> <a data-type="URLPatternComponentResult " href="#dom-urlpatternresult-hash"><code><c- g>hash</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-urlpatterncomponentresult"><code><c- g>URLPatternComponentResult</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-urlpatterncomponentresult-input"><code><c- g>input</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a data-type="record<USVString, (USVString or undefined)> " href="#dom-urlpatterncomponentresult-groups"><code><c- g>groups</c-></code></a>;
};

</pre>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-urlpattern">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/URLPattern" title="The URLPattern() constructor returns a new URLPattern object representing the url pattern defined by the parameters.">URLPattern/URLPattern</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-exec">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/exec" title="The exec() method of the URLPattern interface takes a URL or object of URL parts, and returns either an object containing the results of matching the URL to the pattern, or null if the URL does not match the pattern.">URLPattern/exec</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-hash">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/hash" title="The hash property of the URLPattern interface is a string containing the pattern used to match the fragment part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/hash</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-hostname">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/hostname" title="The hostname property of the URLPattern interface is a string containing the pattern used to match the hostname part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/hostname</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-password">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/password" title="The password property of the URLPattern interface is a string containing the pattern used to match the password part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/password</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-pathname">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/pathname" title="The pathname property of the URLPattern interface is a string containing the pattern used to match the pathname part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/pathname</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-port">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/port" title="The port property of the URLPattern interface is a string containing the pattern used to match the port part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/port</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-protocol">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/protocol" title="The protocol property of the URLPattern interface is a string containing the pattern used to match the protocol part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/protocol</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-search">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/search" title="The search property of the URLPattern interface is a string containing the pattern used to match the search part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/search</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-test">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/test" title="The test() method of the URLPattern interface takes a URL or object of URL parts, and returns a boolean indicating if the given input matches the current pattern.">URLPattern/test</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-urlpattern-username">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern/username" title="The username property of the URLPattern interface is a string containing the pattern used to match the username part of a URL. This value may differ from the input to the constructor due to normalization.">URLPattern/username</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="urlpattern">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLPattern" title="The URLPattern interface matches URLs or parts of URLs against a pattern. The pattern can contain capturing groups that extract parts of the matched URL.">URLPattern</a></p>
    <p class="less-than-two-engines-text">In only one current engine.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome yes"><span>Chrome</span><span>95+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>95+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['ad13e46e'] = {"dfnID": "ad13e46e", "url": "https://tc39.es/ecma262/#sec-get-o-p", "dfnText": "Get", "refSections": [{"refs": [{"id": "ref-for-sec-get-o-p"}, {"id": "ref-for-sec-get-o-p\u2460"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['22ce0910'] = {"dfnID": "22ce0910", "url": "https://tc39.es/ecma262/#sec-regexp-regular-expression-objects", "dfnText": "RegExp", "refSections": [{"refs": [{"id": "ref-for-sec-regexp-regular-expression-objects"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['0bd3419a'] = {"dfnID": "0bd3419a", "url": "https://tc39.es/ecma262/#sec-regexpbuiltinexec", "dfnText": "RegExpBuiltinExec", "refSections": [{"refs": [{"id": "ref-for-sec-regexpbuiltinexec"}, {"id": "ref-for-sec-regexpbuiltinexec\u2460"}, {"id": "ref-for-sec-regexpbuiltinexec\u2461"}, {"id": "ref-for-sec-regexpbuiltinexec\u2462"}, {"id": "ref-for-sec-regexpbuiltinexec\u2463"}, {"id": "ref-for-sec-regexpbuiltinexec\u2464"}, {"id": "ref-for-sec-regexpbuiltinexec\u2465"}, {"id": "ref-for-sec-regexpbuiltinexec\u2466"}, {"id": "ref-for-sec-regexpbuiltinexec\u2467"}, {"id": "ref-for-sec-regexpbuiltinexec\u2468"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['313fc258'] = {"dfnID": "313fc258", "url": "https://tc39.es/ecma262/#sec-regexpcreate", "dfnText": "RegExpCreate", "refSections": [{"refs": [{"id": "ref-for-sec-regexpcreate"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['4074ac0f'] = {"dfnID": "4074ac0f", "url": "https://tc39.es/ecma262/#sec-tostring", "dfnText": "ToString", "refSections": [{"refs": [{"id": "ref-for-sec-tostring"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['0aeda639'] = {"dfnID": "0aeda639", "url": "https://tc39.es/ecma262/#prod-IdentifierPart", "dfnText": "identifierpart", "refSections": [{"refs": [{"id": "ref-for-prod-IdentifierPart"}], "title": "2.1.2. Tokenizing"}], "external": true};
window.dfnpanelData['d90e07e9'] = {"dfnID": "d90e07e9", "url": "https://tc39.es/ecma262/#prod-IdentifierStart", "dfnText": "identifierstart", "refSections": [{"refs": [{"id": "ref-for-prod-IdentifierStart"}], "title": "2.1.2. Tokenizing"}], "external": true};
window.dfnpanelData['53275e46'] = {"dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append", "refSections": [{"refs": [{"id": "ref-for-list-append"}, {"id": "ref-for-list-append\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-list-append\u2461"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-list-append\u2462"}, {"id": "ref-for-list-append\u2463"}, {"id": "ref-for-list-append\u2464"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-list-append\u2465"}], "title": "2.2. Converting Part Lists to Regular Expressions"}], "external": true};
window.dfnpanelData['ddc587b1'] = {"dfnID": "ddc587b1", "url": "https://infra.spec.whatwg.org/#ascii-code-point", "dfnText": "ascii code point", "refSections": [{"refs": [{"id": "ref-for-ascii-code-point"}, {"id": "ref-for-ascii-code-point\u2460"}], "title": "2.1.4. Options"}], "external": true};
window.dfnpanelData['3b38c2fe'] = {"dfnID": "3b38c2fe", "url": "https://infra.spec.whatwg.org/#ascii-digit", "dfnText": "ascii digit", "refSections": [{"refs": [{"id": "ref-for-ascii-digit"}, {"id": "ref-for-ascii-digit\u2460"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": true};
window.dfnpanelData['57ca97cc'] = {"dfnID": "57ca97cc", "url": "https://infra.spec.whatwg.org/#ascii-hex-digit", "dfnText": "ascii hex digit", "refSections": [{"refs": [{"id": "ref-for-ascii-hex-digit"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['6f2dfa22'] = {"dfnID": "6f2dfa22", "url": "https://infra.spec.whatwg.org/#ascii-lowercase", "dfnText": "ascii lowercase", "refSections": [{"refs": [{"id": "ref-for-ascii-lowercase"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['2d5a2765'] = {"dfnID": "2d5a2765", "url": "https://infra.spec.whatwg.org/#ascii-string", "dfnText": "ascii string", "refSections": [{"refs": [{"id": "ref-for-ascii-string"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-ascii-string\u2460"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": true};
window.dfnpanelData['77b4c09a'] = {"dfnID": "77b4c09a", "url": "https://infra.spec.whatwg.org/#assert", "dfnText": "assert", "refSections": [{"refs": [{"id": "ref-for-assert"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-assert\u2460"}, {"id": "ref-for-assert\u2461"}, {"id": "ref-for-assert\u2462"}, {"id": "ref-for-assert\u2463"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-assert\u2464"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-assert\u2465"}, {"id": "ref-for-assert\u2466"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-assert\u2467"}, {"id": "ref-for-assert\u2468"}, {"id": "ref-for-assert\u2460\u24ea"}, {"id": "ref-for-assert\u2460\u2460"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-assert\u2460\u2461"}, {"id": "ref-for-assert\u2460\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}, {"refs": [{"id": "ref-for-assert\u2460\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['7b0d918d'] = {"dfnID": "7b0d918d", "url": "https://infra.spec.whatwg.org/#iteration-break", "dfnText": "break", "refSections": [{"refs": [{"id": "ref-for-iteration-break"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-iteration-break\u2460"}, {"id": "ref-for-iteration-break\u2461"}, {"id": "ref-for-iteration-break\u2462"}, {"id": "ref-for-iteration-break\u2463"}, {"id": "ref-for-iteration-break\u2464"}, {"id": "ref-for-iteration-break\u2465"}, {"id": "ref-for-iteration-break\u2466"}, {"id": "ref-for-iteration-break\u2467"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-iteration-break\u2468"}], "title": "2.1.5. Parsing"}], "external": true};
window.dfnpanelData['915aff5e'] = {"dfnID": "915aff5e", "url": "https://infra.spec.whatwg.org/#code-point", "dfnText": "code point", "refSections": [{"refs": [{"id": "ref-for-code-point"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-code-point\u2460"}, {"id": "ref-for-code-point\u2461"}, {"id": "ref-for-code-point\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}, {"refs": [{"id": "ref-for-code-point\u2463"}, {"id": "ref-for-code-point\u2464"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-code-point\u2465"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['4ef39030'] = {"dfnID": "4ef39030", "url": "https://infra.spec.whatwg.org/#string-code-point-length", "dfnText": "code point length", "refSections": [{"refs": [{"id": "ref-for-string-code-point-length"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-string-code-point-length\u2460"}, {"id": "ref-for-string-code-point-length\u2461"}, {"id": "ref-for-string-code-point-length\u2462"}, {"id": "ref-for-string-code-point-length\u2463"}, {"id": "ref-for-string-code-point-length\u2464"}, {"id": "ref-for-string-code-point-length\u2465"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-string-code-point-length\u2466"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['bb1f9628'] = {"dfnID": "bb1f9628", "url": "https://infra.spec.whatwg.org/#code-point-substring", "dfnText": "code point substring", "refSections": [{"refs": [{"id": "ref-for-code-point-substring"}], "title": "2.1.2. Tokenizing"}], "external": true};
window.dfnpanelData['cfd05055'] = {"dfnID": "cfd05055", "url": "https://infra.spec.whatwg.org/#code-point-substring-by-positions", "dfnText": "code point substring by positions", "refSections": [{"refs": [{"id": "ref-for-code-point-substring-by-positions"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-code-point-substring-by-positions\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['b8906bbb'] = {"dfnID": "b8906bbb", "url": "https://infra.spec.whatwg.org/#code-point-substring-to-the-end-of-the-string", "dfnText": "code point substring to the end of the string", "refSections": [{"refs": [{"id": "ref-for-code-point-substring-to-the-end-of-the-string"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['f937b7b6'] = {"dfnID": "f937b7b6", "url": "https://infra.spec.whatwg.org/#iteration-continue", "dfnText": "continue", "refSections": [{"refs": [{"id": "ref-for-iteration-continue"}, {"id": "ref-for-iteration-continue\u2460"}, {"id": "ref-for-iteration-continue\u2461"}, {"id": "ref-for-iteration-continue\u2462"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-iteration-continue\u2463"}, {"id": "ref-for-iteration-continue\u2464"}, {"id": "ref-for-iteration-continue\u2465"}, {"id": "ref-for-iteration-continue\u2466"}, {"id": "ref-for-iteration-continue\u2467"}, {"id": "ref-for-iteration-continue\u2468"}, {"id": "ref-for-iteration-continue\u2460\u24ea"}, {"id": "ref-for-iteration-continue\u2460\u2460"}, {"id": "ref-for-iteration-continue\u2460\u2461"}, {"id": "ref-for-iteration-continue\u2460\u2462"}, {"id": "ref-for-iteration-continue\u2460\u2463"}, {"id": "ref-for-iteration-continue\u2460\u2464"}, {"id": "ref-for-iteration-continue\u2460\u2465"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2466"}, {"id": "ref-for-iteration-continue\u2460\u2467"}, {"id": "ref-for-iteration-continue\u2460\u2468"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-iteration-continue\u2461\u24ea"}, {"id": "ref-for-iteration-continue\u2461\u2460"}, {"id": "ref-for-iteration-continue\u2461\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-iteration-continue\u2461\u2462"}, {"id": "ref-for-iteration-continue\u2461\u2463"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": true};
window.dfnpanelData['16d07e10'] = {"dfnID": "16d07e10", "url": "https://infra.spec.whatwg.org/#list-iterate", "dfnText": "for each", "refSections": [{"refs": [{"id": "ref-for-list-iterate"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-list-iterate\u2460"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-list-iterate\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-list-iterate\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}, {"refs": [{"id": "ref-for-list-iterate\u2463"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['b1f287e4'] = {"dfnID": "b1f287e4", "url": "https://infra.spec.whatwg.org/#list-get-the-indices", "dfnText": "get the indices", "refSections": [{"refs": [{"id": "ref-for-list-get-the-indices"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": true};
window.dfnpanelData['0fa357c3'] = {"dfnID": "0fa357c3", "url": "https://infra.spec.whatwg.org/#string-length", "dfnText": "length", "refSections": [{"refs": [{"id": "ref-for-string-length"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-string-length\u2460"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}, {"id": "ref-for-list\u2460"}, {"id": "ref-for-list\u2461"}, {"id": "ref-for-list\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-list\u2463"}], "title": "2.1.1. Tokens"}, {"refs": [{"id": "ref-for-list\u2464"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-list\u2465"}], "title": "2.1.3. Parts"}, {"refs": [{"id": "ref-for-list\u2466"}, {"id": "ref-for-list\u2467"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-list\u2468"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-list\u2460\u24ea"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['762869d3'] = {"dfnID": "762869d3", "url": "https://infra.spec.whatwg.org/#scalar-value-string", "dfnText": "scalar value string", "refSections": [{"refs": [{"id": "ref-for-scalar-value-string"}], "title": "1. The URLPattern class "}], "external": true};
window.dfnpanelData['0204d188'] = {"dfnID": "0204d188", "url": "https://infra.spec.whatwg.org/#list-size", "dfnText": "size", "refSections": [{"refs": [{"id": "ref-for-list-size"}, {"id": "ref-for-list-size\u2460"}, {"id": "ref-for-list-size\u2461"}, {"id": "ref-for-list-size\u2462"}, {"id": "ref-for-list-size\u2463"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-list-size\u2464"}, {"id": "ref-for-list-size\u2465"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-list-size\u2466"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": true};
window.dfnpanelData['984221ca'] = {"dfnID": "984221ca", "url": "https://infra.spec.whatwg.org/#struct", "dfnText": "struct", "refSections": [{"refs": [{"id": "ref-for-struct"}, {"id": "ref-for-struct\u2460"}, {"id": "ref-for-struct\u2461"}, {"id": "ref-for-struct\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-struct\u2463"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-struct\u2464"}, {"id": "ref-for-struct\u2465"}], "title": "2.1.1. Tokens"}, {"refs": [{"id": "ref-for-struct\u2466"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-struct\u2467"}], "title": "2.1.3. Parts"}, {"refs": [{"id": "ref-for-struct\u2468"}], "title": "2.1.4. Options"}, {"refs": [{"id": "ref-for-struct\u2460\u24ea"}], "title": "2.1.5. Parsing"}], "external": true};
window.dfnpanelData['cbdc89b4'] = {"dfnID": "cbdc89b4", "url": "https://infra.spec.whatwg.org/#iteration-while", "dfnText": "while", "refSections": [{"refs": [{"id": "ref-for-iteration-while"}], "title": "1.2. Constructor String Parsing"}], "external": true};
window.dfnpanelData['9ed8b710'] = {"dfnID": "9ed8b710", "url": "https://url.spec.whatwg.org/#concept-basic-url-parser", "dfnText": "basic url parser", "refSections": [{"refs": [{"id": "ref-for-concept-basic-url-parser"}, {"id": "ref-for-concept-basic-url-parser\u2460"}, {"id": "ref-for-concept-basic-url-parser\u2461"}, {"id": "ref-for-concept-basic-url-parser\u2462"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-concept-basic-url-parser\u2463"}, {"id": "ref-for-concept-basic-url-parser\u2464"}, {"id": "ref-for-concept-basic-url-parser\u2465"}, {"id": "ref-for-concept-basic-url-parser\u2466"}, {"id": "ref-for-concept-basic-url-parser\u2467"}, {"id": "ref-for-concept-basic-url-parser\u2468"}, {"id": "ref-for-concept-basic-url-parser\u2460\u24ea"}, {"id": "ref-for-concept-basic-url-parser\u2460\u2460"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['12553145'] = {"dfnID": "12553145", "url": "https://url.spec.whatwg.org/#default-port", "dfnText": "default port", "refSections": [{"refs": [{"id": "ref-for-default-port"}], "title": "1. The URLPattern class "}], "external": true};
window.dfnpanelData['ed948033'] = {"dfnID": "ed948033", "url": "https://url.spec.whatwg.org/#concept-url-fragment", "dfnText": "fragment", "refSections": [{"refs": [{"id": "ref-for-concept-url-fragment"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-fragment\u2460"}, {"id": "ref-for-concept-url-fragment\u2461"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-fragment\u2462"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['6e6a0222'] = {"dfnID": "6e6a0222", "url": "https://url.spec.whatwg.org/#fragment-state", "dfnText": "fragment state", "refSections": [{"refs": [{"id": "ref-for-fragment-state"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['b85ee3be'] = {"dfnID": "b85ee3be", "url": "https://url.spec.whatwg.org/#concept-url-host", "dfnText": "host", "refSections": [{"refs": [{"id": "ref-for-concept-url-host"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-host\u2460"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-host\u2461"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['b109065e'] = {"dfnID": "b109065e", "url": "https://url.spec.whatwg.org/#hostname-state", "dfnText": "hostname state", "refSections": [{"refs": [{"id": "ref-for-hostname-state"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['947ae08a'] = {"dfnID": "947ae08a", "url": "https://url.spec.whatwg.org/#url-opaque-path", "dfnText": "opaque path", "refSections": [{"refs": [{"id": "ref-for-url-opaque-path"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['b66461d9'] = {"dfnID": "b66461d9", "url": "https://url.spec.whatwg.org/#cannot-be-a-base-url-path-state", "dfnText": "opaque path state", "refSections": [{"refs": [{"id": "ref-for-cannot-be-a-base-url-path-state"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['a1288f2a'] = {"dfnID": "a1288f2a", "url": "https://url.spec.whatwg.org/#concept-url-password", "dfnText": "password", "refSections": [{"refs": [{"id": "ref-for-concept-url-password"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-password\u2460"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-password\u2461"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['c0868016'] = {"dfnID": "c0868016", "url": "https://url.spec.whatwg.org/#concept-url-path", "dfnText": "path", "refSections": [{"refs": [{"id": "ref-for-concept-url-path"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['0f760980'] = {"dfnID": "0f760980", "url": "https://url.spec.whatwg.org/#path-start-state", "dfnText": "path start state", "refSections": [{"refs": [{"id": "ref-for-path-start-state"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['852ada56'] = {"dfnID": "852ada56", "url": "https://url.spec.whatwg.org/#concept-url-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-concept-url-port"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-port\u2460"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-port\u2461"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['8933b8ab'] = {"dfnID": "8933b8ab", "url": "https://url.spec.whatwg.org/#port-state", "dfnText": "port state", "refSections": [{"refs": [{"id": "ref-for-port-state"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['6efe9c33'] = {"dfnID": "6efe9c33", "url": "https://url.spec.whatwg.org/#dom-url-protocol", "dfnText": "protocol", "refSections": [{"refs": [{"id": "ref-for-dom-url-protocol"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['3ab2ec8b'] = {"dfnID": "3ab2ec8b", "url": "https://url.spec.whatwg.org/#concept-url-query", "dfnText": "query", "refSections": [{"refs": [{"id": "ref-for-concept-url-query"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-query\u2460"}, {"id": "ref-for-concept-url-query\u2461"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-query\u2462"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['9298e5e9'] = {"dfnID": "9298e5e9", "url": "https://url.spec.whatwg.org/#query-state", "dfnText": "query state", "refSections": [{"refs": [{"id": "ref-for-query-state"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['3a711be7'] = {"dfnID": "3a711be7", "url": "https://url.spec.whatwg.org/#concept-url-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-url-scheme"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2460"}, {"id": "ref-for-concept-url-scheme\u2461"}, {"id": "ref-for-concept-url-scheme\u2462"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['c59c07d7'] = {"dfnID": "c59c07d7", "url": "https://url.spec.whatwg.org/#set-the-password", "dfnText": "set the password", "refSections": [{"refs": [{"id": "ref-for-set-the-password"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['a1358bae'] = {"dfnID": "a1358bae", "url": "https://url.spec.whatwg.org/#set-the-username", "dfnText": "set the username", "refSections": [{"refs": [{"id": "ref-for-set-the-username"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['4e67ebef'] = {"dfnID": "4e67ebef", "url": "https://url.spec.whatwg.org/#special-scheme", "dfnText": "special scheme", "refSections": [{"refs": [{"id": "ref-for-special-scheme"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-special-scheme\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-special-scheme\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-special-scheme\u2462"}, {"id": "ref-for-special-scheme\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['8a0e7b76'] = {"dfnID": "8a0e7b76", "url": "https://url.spec.whatwg.org/#basic-url-parser-state-override", "dfnText": "state override", "refSections": [{"refs": [{"id": "ref-for-basic-url-parser-state-override"}, {"id": "ref-for-basic-url-parser-state-override\u2460"}, {"id": "ref-for-basic-url-parser-state-override\u2461"}, {"id": "ref-for-basic-url-parser-state-override\u2462"}, {"id": "ref-for-basic-url-parser-state-override\u2463"}, {"id": "ref-for-basic-url-parser-state-override\u2464"}, {"id": "ref-for-basic-url-parser-state-override\u2465"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['707a1e84'] = {"dfnID": "707a1e84", "url": "https://url.spec.whatwg.org/#basic-url-parser-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-basic-url-parser-url"}, {"id": "ref-for-basic-url-parser-url\u2460"}, {"id": "ref-for-basic-url-parser-url\u2461"}, {"id": "ref-for-basic-url-parser-url\u2462"}, {"id": "ref-for-basic-url-parser-url\u2463"}, {"id": "ref-for-basic-url-parser-url\u2464"}, {"id": "ref-for-basic-url-parser-url\u2465"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['ca3ca4ae'] = {"dfnID": "ca3ca4ae", "url": "https://url.spec.whatwg.org/#concept-url-parser", "dfnText": "url parser", "refSections": [{"refs": [{"id": "ref-for-concept-url-parser"}, {"id": "ref-for-concept-url-parser\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-parser\u2461"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['5e76075f'] = {"dfnID": "5e76075f", "url": "https://url.spec.whatwg.org/#url-path-serializer", "dfnText": "url path serializing", "refSections": [{"refs": [{"id": "ref-for-url-path-serializer"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-url-path-serializer\u2460"}, {"id": "ref-for-url-path-serializer\u2461"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-url-path-serializer\u2462"}, {"id": "ref-for-url-path-serializer\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['a8c7461b'] = {"dfnID": "a8c7461b", "url": "https://url.spec.whatwg.org/#concept-url", "dfnText": "url record", "refSections": [{"refs": [{"id": "ref-for-concept-url"}, {"id": "ref-for-concept-url\u2460"}, {"id": "ref-for-concept-url\u2461"}, {"id": "ref-for-concept-url\u2462"}, {"id": "ref-for-concept-url\u2463"}, {"id": "ref-for-concept-url\u2464"}, {"id": "ref-for-concept-url\u2465"}, {"id": "ref-for-concept-url\u2466"}, {"id": "ref-for-concept-url\u2467"}, {"id": "ref-for-concept-url\u2468"}], "title": "3.1. Encoding Callbacks"}], "external": true};
window.dfnpanelData['218c9455'] = {"dfnID": "218c9455", "url": "https://url.spec.whatwg.org/#concept-url-username", "dfnText": "username", "refSections": [{"refs": [{"id": "ref-for-concept-url-username"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-concept-url-username\u2460"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-concept-url-username\u2461"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "1. The URLPattern class "}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}, {"id": "ref-for-exceptiondef-typeerror\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2461"}, {"id": "ref-for-exceptiondef-typeerror\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2463"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2464"}, {"id": "ref-for-exceptiondef-typeerror\u2465"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2466"}, {"id": "ref-for-exceptiondef-typeerror\u2467"}, {"id": "ref-for-exceptiondef-typeerror\u2468"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u24ea"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2461"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2462"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2463"}], "title": "3.1. Encoding Callbacks"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460\u2464"}], "title": "3.2. URLPatternInit Processing"}], "external": true};
window.dfnpanelData['b0d7f3c3'] = {"dfnID": "b0d7f3c3", "url": "https://webidl.spec.whatwg.org/#idl-USVString", "dfnText": "USVString", "refSections": [{"refs": [{"id": "ref-for-idl-USVString"}, {"id": "ref-for-idl-USVString\u2460"}, {"id": "ref-for-idl-USVString\u2461"}, {"id": "ref-for-idl-USVString\u2462"}, {"id": "ref-for-idl-USVString\u2463"}, {"id": "ref-for-idl-USVString\u2464"}, {"id": "ref-for-idl-USVString\u2465"}, {"id": "ref-for-idl-USVString\u2466"}, {"id": "ref-for-idl-USVString\u2467"}, {"id": "ref-for-idl-USVString\u2468"}, {"id": "ref-for-idl-USVString\u2460\u24ea"}, {"id": "ref-for-idl-USVString\u2460\u2460"}, {"id": "ref-for-idl-USVString\u2460\u2461"}, {"id": "ref-for-idl-USVString\u2460\u2462"}, {"id": "ref-for-idl-USVString\u2460\u2463"}, {"id": "ref-for-idl-USVString\u2460\u2464"}, {"id": "ref-for-idl-USVString\u2460\u2465"}, {"id": "ref-for-idl-USVString\u2460\u2466"}, {"id": "ref-for-idl-USVString\u2460\u2467"}, {"id": "ref-for-idl-USVString\u2460\u2468"}, {"id": "ref-for-idl-USVString\u2461\u24ea"}, {"id": "ref-for-idl-USVString\u2461\u2460"}, {"id": "ref-for-idl-USVString\u2461\u2461"}, {"id": "ref-for-idl-USVString\u2461\u2462"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-idl-USVString\u2461\u2463"}, {"id": "ref-for-idl-USVString\u2461\u2464"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}, {"id": "ref-for-idl-boolean\u2460"}], "title": "1. The URLPattern class "}], "external": true};
window.dfnpanelData['7787d359'] = {"dfnID": "7787d359", "url": "https://webidl.spec.whatwg.org/#idl-record", "dfnText": "record", "refSections": [{"refs": [{"id": "ref-for-idl-record"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-idl-record\u2460"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}], "title": "1. The URLPattern class "}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}, {"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}, {"id": "ref-for-this\u2462"}, {"id": "ref-for-this\u2463"}, {"id": "ref-for-this\u2464"}, {"id": "ref-for-this\u2465"}, {"id": "ref-for-this\u2466"}, {"id": "ref-for-this\u2467"}, {"id": "ref-for-this\u2468"}, {"id": "ref-for-this\u2460\u24ea"}, {"id": "ref-for-this\u2460\u2460"}], "title": "1. The URLPattern class "}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-idl-undefined\u2460"}], "title": "1.1. Internals"}], "external": true};
window.dfnpanelData['typedefdef-urlpatterninput'] = {"dfnID": "typedefdef-urlpatterninput", "url": "#typedefdef-urlpatterninput", "dfnText": "URLPatternInput", "refSections": [{"refs": [{"id": "ref-for-typedefdef-urlpatterninput"}, {"id": "ref-for-typedefdef-urlpatterninput\u2460"}, {"id": "ref-for-typedefdef-urlpatterninput\u2461"}, {"id": "ref-for-typedefdef-urlpatterninput\u2462"}, {"id": "ref-for-typedefdef-urlpatterninput\u2463"}, {"id": "ref-for-typedefdef-urlpatterninput\u2464"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-typedefdef-urlpatterninput\u2465"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern'] = {"dfnID": "urlpattern", "url": "#urlpattern", "dfnText": "URLPattern", "refSections": [{"refs": [{"id": "ref-for-urlpattern"}, {"id": "ref-for-urlpattern\u2460"}, {"id": "ref-for-urlpattern\u2461"}, {"id": "ref-for-urlpattern\u2462"}, {"id": "ref-for-urlpattern\u2463"}, {"id": "ref-for-urlpattern\u2464"}, {"id": "ref-for-urlpattern\u2465"}, {"id": "ref-for-urlpattern\u2466"}, {"id": "ref-for-urlpattern\u2467"}, {"id": "ref-for-urlpattern\u2468"}, {"id": "ref-for-urlpattern\u2460\u24ea"}, {"id": "ref-for-urlpattern\u2460\u2460"}, {"id": "ref-for-urlpattern\u2460\u2461"}, {"id": "ref-for-urlpattern\u2460\u2462"}, {"id": "ref-for-urlpattern\u2460\u2463"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern\u2460\u2464"}, {"id": "ref-for-urlpattern\u2460\u2465"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dictdef-urlpatterninit'] = {"dfnID": "dictdef-urlpatterninit", "url": "#dictdef-urlpatterninit", "dfnText": "URLPatternInit", "refSections": [{"refs": [{"id": "ref-for-dictdef-urlpatterninit"}, {"id": "ref-for-dictdef-urlpatterninit\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dictdef-urlpatterninit\u2461"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dictdef-urlpatterninit\u2462"}, {"id": "ref-for-dictdef-urlpatterninit\u2463"}, {"id": "ref-for-dictdef-urlpatterninit\u2464"}, {"id": "ref-for-dictdef-urlpatterninit\u2465"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dictdef-urlpatterninit\u2466"}, {"id": "ref-for-dictdef-urlpatterninit\u2467"}, {"id": "ref-for-dictdef-urlpatterninit\u2468"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-protocol'] = {"dfnID": "dom-urlpatterninit-protocol", "url": "#dom-urlpatterninit-protocol", "dfnText": "protocol", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-protocol"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2460"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-protocol\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-protocol\u2463"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2464"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2465"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2466"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2467"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2468"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2460\u24ea"}, {"id": "ref-for-dom-urlpatterninit-protocol\u2460\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-username'] = {"dfnID": "dom-urlpatterninit-username", "url": "#dom-urlpatterninit-username", "dfnText": "username", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-username"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-username\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-username\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-username\u2462"}, {"id": "ref-for-dom-urlpatterninit-username\u2463"}, {"id": "ref-for-dom-urlpatterninit-username\u2464"}, {"id": "ref-for-dom-urlpatterninit-username\u2465"}, {"id": "ref-for-dom-urlpatterninit-username\u2466"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-password'] = {"dfnID": "dom-urlpatterninit-password", "url": "#dom-urlpatterninit-password", "dfnText": "password", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-password"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-password\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-password\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-password\u2462"}, {"id": "ref-for-dom-urlpatterninit-password\u2463"}, {"id": "ref-for-dom-urlpatterninit-password\u2464"}, {"id": "ref-for-dom-urlpatterninit-password\u2465"}, {"id": "ref-for-dom-urlpatterninit-password\u2466"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-hostname'] = {"dfnID": "dom-urlpatterninit-hostname", "url": "#dom-urlpatterninit-hostname", "dfnText": "hostname", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-hostname"}, {"id": "ref-for-dom-urlpatterninit-hostname\u2460"}, {"id": "ref-for-dom-urlpatterninit-hostname\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-hostname\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-hostname\u2463"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-hostname\u2464"}, {"id": "ref-for-dom-urlpatterninit-hostname\u2465"}, {"id": "ref-for-dom-urlpatterninit-hostname\u2466"}, {"id": "ref-for-dom-urlpatterninit-hostname\u2467"}, {"id": "ref-for-dom-urlpatterninit-hostname\u2468"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-port'] = {"dfnID": "dom-urlpatterninit-port", "url": "#dom-urlpatterninit-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-port"}, {"id": "ref-for-dom-urlpatterninit-port\u2460"}, {"id": "ref-for-dom-urlpatterninit-port\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-port\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-port\u2463"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-port\u2464"}, {"id": "ref-for-dom-urlpatterninit-port\u2465"}, {"id": "ref-for-dom-urlpatterninit-port\u2466"}, {"id": "ref-for-dom-urlpatterninit-port\u2467"}, {"id": "ref-for-dom-urlpatterninit-port\u2468"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-pathname'] = {"dfnID": "dom-urlpatterninit-pathname", "url": "#dom-urlpatterninit-pathname", "dfnText": "pathname", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-pathname"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-pathname\u2461"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-pathname\u2462"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2463"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-pathname\u2464"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2465"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2466"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2467"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2468"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2460\u24ea"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2460\u2460"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2460\u2461"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2460\u2462"}, {"id": "ref-for-dom-urlpatterninit-pathname\u2460\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-search'] = {"dfnID": "dom-urlpatterninit-search", "url": "#dom-urlpatterninit-search", "dfnText": "search", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-search"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-search\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-search\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-search\u2462"}, {"id": "ref-for-dom-urlpatterninit-search\u2463"}, {"id": "ref-for-dom-urlpatterninit-search\u2464"}, {"id": "ref-for-dom-urlpatterninit-search\u2465"}, {"id": "ref-for-dom-urlpatterninit-search\u2466"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-hash'] = {"dfnID": "dom-urlpatterninit-hash", "url": "#dom-urlpatterninit-hash", "dfnText": "hash", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-hash"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-hash\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-hash\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-dom-urlpatterninit-hash\u2462"}, {"id": "ref-for-dom-urlpatterninit-hash\u2463"}, {"id": "ref-for-dom-urlpatterninit-hash\u2464"}, {"id": "ref-for-dom-urlpatterninit-hash\u2465"}, {"id": "ref-for-dom-urlpatterninit-hash\u2466"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dom-urlpatterninit-baseurl'] = {"dfnID": "dom-urlpatterninit-baseurl", "url": "#dom-urlpatterninit-baseurl", "dfnText": "baseURL", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterninit-baseurl"}, {"id": "ref-for-dom-urlpatterninit-baseurl\u2460"}, {"id": "ref-for-dom-urlpatterninit-baseurl\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpatterninit-baseurl\u2462"}, {"id": "ref-for-dom-urlpatterninit-baseurl\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['dictdef-urlpatternoptions'] = {"dfnID": "dictdef-urlpatternoptions", "url": "#dictdef-urlpatternoptions", "dfnText": "URLPatternOptions", "refSections": [{"refs": [{"id": "ref-for-dictdef-urlpatternoptions"}, {"id": "ref-for-dictdef-urlpatternoptions\u2460"}, {"id": "ref-for-dictdef-urlpatternoptions\u2461"}, {"id": "ref-for-dictdef-urlpatternoptions\u2462"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpatternoptions-ignorecase'] = {"dfnID": "dom-urlpatternoptions-ignorecase", "url": "#dom-urlpatternoptions-ignorecase", "dfnText": "ignoreCase", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternoptions-ignorecase"}, {"id": "ref-for-dom-urlpatternoptions-ignorecase\u2460"}, {"id": "ref-for-dom-urlpatternoptions-ignorecase\u2461"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dictdef-urlpatternresult'] = {"dfnID": "dictdef-urlpatternresult", "url": "#dictdef-urlpatternresult", "dfnText": "URLPatternResult", "refSections": [{"refs": [{"id": "ref-for-dictdef-urlpatternresult"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dictdef-urlpatternresult\u2460"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-inputs'] = {"dfnID": "dom-urlpatternresult-inputs", "url": "#dom-urlpatternresult-inputs", "dfnText": "inputs", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-inputs"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-protocol'] = {"dfnID": "dom-urlpatternresult-protocol", "url": "#dom-urlpatternresult-protocol", "dfnText": "protocol", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-protocol"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-username'] = {"dfnID": "dom-urlpatternresult-username", "url": "#dom-urlpatternresult-username", "dfnText": "username", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-username"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-password'] = {"dfnID": "dom-urlpatternresult-password", "url": "#dom-urlpatternresult-password", "dfnText": "password", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-password"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-hostname'] = {"dfnID": "dom-urlpatternresult-hostname", "url": "#dom-urlpatternresult-hostname", "dfnText": "hostname", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-hostname"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-port'] = {"dfnID": "dom-urlpatternresult-port", "url": "#dom-urlpatternresult-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-port"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-pathname'] = {"dfnID": "dom-urlpatternresult-pathname", "url": "#dom-urlpatternresult-pathname", "dfnText": "pathname", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-pathname"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-search'] = {"dfnID": "dom-urlpatternresult-search", "url": "#dom-urlpatternresult-search", "dfnText": "search", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-search"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatternresult-hash'] = {"dfnID": "dom-urlpatternresult-hash", "url": "#dom-urlpatternresult-hash", "dfnText": "hash", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatternresult-hash"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dictdef-urlpatterncomponentresult'] = {"dfnID": "dictdef-urlpatterncomponentresult", "url": "#dictdef-urlpatterncomponentresult", "dfnText": "URLPatternComponentResult", "refSections": [{"refs": [{"id": "ref-for-dictdef-urlpatterncomponentresult"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2460"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2461"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2462"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2463"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2464"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2465"}, {"id": "ref-for-dictdef-urlpatterncomponentresult\u2466"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dictdef-urlpatterncomponentresult\u2467"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatterncomponentresult-input'] = {"dfnID": "dom-urlpatterncomponentresult-input", "url": "#dom-urlpatterncomponentresult-input", "dfnText": "input", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterncomponentresult-input"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpatterncomponentresult-groups'] = {"dfnID": "dom-urlpatterncomponentresult-groups", "url": "#dom-urlpatterncomponentresult-groups", "dfnText": "groups", "refSections": [{"refs": [{"id": "ref-for-dom-urlpatterncomponentresult-groups"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-protocol-component'] = {"dfnID": "urlpattern-protocol-component", "url": "#urlpattern-protocol-component", "dfnText": "protocol component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-protocol-component"}, {"id": "ref-for-urlpattern-protocol-component\u2460"}, {"id": "ref-for-urlpattern-protocol-component\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-protocol-component\u2462"}, {"id": "ref-for-urlpattern-protocol-component\u2463"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-username-component'] = {"dfnID": "urlpattern-username-component", "url": "#urlpattern-username-component", "dfnText": "username component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-username-component"}, {"id": "ref-for-urlpattern-username-component\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-username-component\u2461"}, {"id": "ref-for-urlpattern-username-component\u2462"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-password-component'] = {"dfnID": "urlpattern-password-component", "url": "#urlpattern-password-component", "dfnText": "password component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-password-component"}, {"id": "ref-for-urlpattern-password-component\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-password-component\u2461"}, {"id": "ref-for-urlpattern-password-component\u2462"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-hostname-component'] = {"dfnID": "urlpattern-hostname-component", "url": "#urlpattern-hostname-component", "dfnText": "hostname component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-hostname-component"}, {"id": "ref-for-urlpattern-hostname-component\u2460"}, {"id": "ref-for-urlpattern-hostname-component\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-hostname-component\u2462"}, {"id": "ref-for-urlpattern-hostname-component\u2463"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-port-component'] = {"dfnID": "urlpattern-port-component", "url": "#urlpattern-port-component", "dfnText": "port component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-port-component"}, {"id": "ref-for-urlpattern-port-component\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-port-component\u2461"}, {"id": "ref-for-urlpattern-port-component\u2462"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-pathname-component'] = {"dfnID": "urlpattern-pathname-component", "url": "#urlpattern-pathname-component", "dfnText": "pathname component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-pathname-component"}, {"id": "ref-for-urlpattern-pathname-component\u2460"}, {"id": "ref-for-urlpattern-pathname-component\u2461"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-pathname-component\u2462"}, {"id": "ref-for-urlpattern-pathname-component\u2463"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-search-component'] = {"dfnID": "urlpattern-search-component", "url": "#urlpattern-search-component", "dfnText": "search component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-search-component"}, {"id": "ref-for-urlpattern-search-component\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-search-component\u2461"}, {"id": "ref-for-urlpattern-search-component\u2462"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['urlpattern-hash-component'] = {"dfnID": "urlpattern-hash-component", "url": "#urlpattern-hash-component", "dfnText": "hash component", "refSections": [{"refs": [{"id": "ref-for-urlpattern-hash-component"}, {"id": "ref-for-urlpattern-hash-component\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-urlpattern-hash-component\u2461"}, {"id": "ref-for-urlpattern-hash-component\u2462"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['dom-urlpattern-urlpattern'] = {"dfnID": "dom-urlpattern-urlpattern", "url": "#dom-urlpattern-urlpattern", "dfnText": "new URLPattern(input, baseURL, options)", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-urlpattern"}, {"id": "ref-for-dom-urlpattern-urlpattern\u2460"}, {"id": "ref-for-dom-urlpattern-urlpattern\u2461"}, {"id": "ref-for-dom-urlpattern-urlpattern\u2462"}, {"id": "ref-for-dom-urlpattern-urlpattern\u2463"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-urlpattern-input-options'] = {"dfnID": "dom-urlpattern-urlpattern-input-options", "url": "#dom-urlpattern-urlpattern-input-options", "dfnText": "new URLPattern(input, options)", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-urlpattern-input-options"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['urlpattern-initialize'] = {"dfnID": "urlpattern-initialize", "url": "#urlpattern-initialize", "dfnText": "initialize", "refSections": [{"refs": [{"id": "ref-for-urlpattern-initialize"}, {"id": "ref-for-urlpattern-initialize\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-protocol'] = {"dfnID": "dom-urlpattern-protocol", "url": "#dom-urlpattern-protocol", "dfnText": "protocol", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-protocol"}, {"id": "ref-for-dom-urlpattern-protocol\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-username'] = {"dfnID": "dom-urlpattern-username", "url": "#dom-urlpattern-username", "dfnText": "username", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-username"}, {"id": "ref-for-dom-urlpattern-username\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-password'] = {"dfnID": "dom-urlpattern-password", "url": "#dom-urlpattern-password", "dfnText": "password", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-password"}, {"id": "ref-for-dom-urlpattern-password\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-hostname'] = {"dfnID": "dom-urlpattern-hostname", "url": "#dom-urlpattern-hostname", "dfnText": "hostname", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-hostname"}, {"id": "ref-for-dom-urlpattern-hostname\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-port'] = {"dfnID": "dom-urlpattern-port", "url": "#dom-urlpattern-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-port"}, {"id": "ref-for-dom-urlpattern-port\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-pathname'] = {"dfnID": "dom-urlpattern-pathname", "url": "#dom-urlpattern-pathname", "dfnText": "pathname", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-pathname"}, {"id": "ref-for-dom-urlpattern-pathname\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-search'] = {"dfnID": "dom-urlpattern-search", "url": "#dom-urlpattern-search", "dfnText": "search", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-search"}, {"id": "ref-for-dom-urlpattern-search\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpattern-search\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['dom-urlpattern-hash'] = {"dfnID": "dom-urlpattern-hash", "url": "#dom-urlpattern-hash", "dfnText": "hash", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-hash"}, {"id": "ref-for-dom-urlpattern-hash\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-dom-urlpattern-hash\u2461"}, {"id": "ref-for-dom-urlpattern-hash\u2462"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['dom-urlpattern-test'] = {"dfnID": "dom-urlpattern-test", "url": "#dom-urlpattern-test", "dfnText": "test(input, baseURL)", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-test"}, {"id": "ref-for-dom-urlpattern-test\u2460"}, {"id": "ref-for-dom-urlpattern-test\u2461"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['dom-urlpattern-exec'] = {"dfnID": "dom-urlpattern-exec", "url": "#dom-urlpattern-exec", "dfnText": "exec(input, baseURL)", "refSections": [{"refs": [{"id": "ref-for-dom-urlpattern-exec"}, {"id": "ref-for-dom-urlpattern-exec\u2460"}, {"id": "ref-for-dom-urlpattern-exec\u2461"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['component'] = {"dfnID": "component", "url": "#component", "dfnText": "component", "refSections": [{"refs": [{"id": "ref-for-component"}, {"id": "ref-for-component\u2460"}, {"id": "ref-for-component\u2461"}, {"id": "ref-for-component\u2462"}, {"id": "ref-for-component\u2463"}, {"id": "ref-for-component\u2464"}, {"id": "ref-for-component\u2465"}, {"id": "ref-for-component\u2466"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-component\u2467"}, {"id": "ref-for-component\u2468"}, {"id": "ref-for-component\u2460\u24ea"}, {"id": "ref-for-component\u2460\u2460"}, {"id": "ref-for-component\u2460\u2461"}, {"id": "ref-for-component\u2460\u2462"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['component-pattern-string'] = {"dfnID": "component-pattern-string", "url": "#component-pattern-string", "dfnText": "pattern string", "refSections": [{"refs": [{"id": "ref-for-component-pattern-string"}, {"id": "ref-for-component-pattern-string\u2460"}, {"id": "ref-for-component-pattern-string\u2461"}, {"id": "ref-for-component-pattern-string\u2462"}, {"id": "ref-for-component-pattern-string\u2463"}, {"id": "ref-for-component-pattern-string\u2464"}, {"id": "ref-for-component-pattern-string\u2465"}, {"id": "ref-for-component-pattern-string\u2466"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-component-pattern-string\u2467"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['component-regular-expression'] = {"dfnID": "component-regular-expression", "url": "#component-regular-expression", "dfnText": "regular expression", "refSections": [{"refs": [{"id": "ref-for-component-regular-expression"}, {"id": "ref-for-component-regular-expression\u2460"}, {"id": "ref-for-component-regular-expression\u2461"}, {"id": "ref-for-component-regular-expression\u2462"}, {"id": "ref-for-component-regular-expression\u2463"}, {"id": "ref-for-component-regular-expression\u2464"}, {"id": "ref-for-component-regular-expression\u2465"}, {"id": "ref-for-component-regular-expression\u2466"}, {"id": "ref-for-component-regular-expression\u2467"}, {"id": "ref-for-component-regular-expression\u2468"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['component-group-name-list'] = {"dfnID": "component-group-name-list", "url": "#component-group-name-list", "dfnText": "group name list", "refSections": [{"refs": [{"id": "ref-for-component-group-name-list"}, {"id": "ref-for-component-group-name-list\u2460"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['compile-a-component'] = {"dfnID": "compile-a-component", "url": "#compile-a-component", "dfnText": "compile a component", "refSections": [{"refs": [{"id": "ref-for-compile-a-component"}, {"id": "ref-for-compile-a-component\u2460"}, {"id": "ref-for-compile-a-component\u2461"}, {"id": "ref-for-compile-a-component\u2462"}, {"id": "ref-for-compile-a-component\u2463"}, {"id": "ref-for-compile-a-component\u2464"}, {"id": "ref-for-compile-a-component\u2465"}, {"id": "ref-for-compile-a-component\u2466"}, {"id": "ref-for-compile-a-component\u2467"}, {"id": "ref-for-compile-a-component\u2468"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-compile-a-component\u2460\u24ea"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-compile-a-component\u2460\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['match'] = {"dfnID": "match", "url": "#match", "dfnText": "match", "refSections": [{"refs": [{"id": "ref-for-match"}, {"id": "ref-for-match\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['create-a-component-match-result'] = {"dfnID": "create-a-component-match-result", "url": "#create-a-component-match-result", "dfnText": "create a component match result", "refSections": [{"refs": [{"id": "ref-for-create-a-component-match-result"}, {"id": "ref-for-create-a-component-match-result\u2460"}, {"id": "ref-for-create-a-component-match-result\u2461"}, {"id": "ref-for-create-a-component-match-result\u2462"}, {"id": "ref-for-create-a-component-match-result\u2463"}, {"id": "ref-for-create-a-component-match-result\u2464"}, {"id": "ref-for-create-a-component-match-result\u2465"}, {"id": "ref-for-create-a-component-match-result\u2466"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['default-options'] = {"dfnID": "default-options", "url": "#default-options", "dfnText": "default options", "refSections": [{"refs": [{"id": "ref-for-default-options"}, {"id": "ref-for-default-options\u2460"}, {"id": "ref-for-default-options\u2461"}, {"id": "ref-for-default-options\u2462"}, {"id": "ref-for-default-options\u2463"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-default-options\u2464"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['hostname-options'] = {"dfnID": "hostname-options", "url": "#hostname-options", "dfnText": "hostname options", "refSections": [{"refs": [{"id": "ref-for-hostname-options"}, {"id": "ref-for-hostname-options\u2460"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['pathname-options'] = {"dfnID": "pathname-options", "url": "#pathname-options", "dfnText": "pathname options", "refSections": [{"refs": [{"id": "ref-for-pathname-options"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['protocol-component-matches-a-special-scheme'] = {"dfnID": "protocol-component-matches-a-special-scheme", "url": "#protocol-component-matches-a-special-scheme", "dfnText": "protocol component matches a special scheme", "refSections": [{"refs": [{"id": "ref-for-protocol-component-matches-a-special-scheme"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-protocol-component-matches-a-special-scheme\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['hostname-pattern-is-an-ipv6-address'] = {"dfnID": "hostname-pattern-is-an-ipv6-address", "url": "#hostname-pattern-is-an-ipv6-address", "dfnText": "hostname pattern is an IPv6 address", "refSections": [{"refs": [{"id": "ref-for-hostname-pattern-is-an-ipv6-address"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['constructor-string-parser'] = {"dfnID": "constructor-string-parser", "url": "#constructor-string-parser", "dfnText": "constructor string parser", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser"}, {"id": "ref-for-constructor-string-parser\u2460"}, {"id": "ref-for-constructor-string-parser\u2461"}, {"id": "ref-for-constructor-string-parser\u2462"}, {"id": "ref-for-constructor-string-parser\u2463"}, {"id": "ref-for-constructor-string-parser\u2464"}, {"id": "ref-for-constructor-string-parser\u2465"}, {"id": "ref-for-constructor-string-parser\u2466"}, {"id": "ref-for-constructor-string-parser\u2467"}, {"id": "ref-for-constructor-string-parser\u2468"}, {"id": "ref-for-constructor-string-parser\u2460\u24ea"}, {"id": "ref-for-constructor-string-parser\u2460\u2460"}, {"id": "ref-for-constructor-string-parser\u2460\u2461"}, {"id": "ref-for-constructor-string-parser\u2460\u2462"}, {"id": "ref-for-constructor-string-parser\u2460\u2463"}, {"id": "ref-for-constructor-string-parser\u2460\u2464"}, {"id": "ref-for-constructor-string-parser\u2460\u2465"}, {"id": "ref-for-constructor-string-parser\u2460\u2466"}, {"id": "ref-for-constructor-string-parser\u2460\u2467"}, {"id": "ref-for-constructor-string-parser\u2460\u2468"}, {"id": "ref-for-constructor-string-parser\u2461\u24ea"}, {"id": "ref-for-constructor-string-parser\u2461\u2460"}, {"id": "ref-for-constructor-string-parser\u2461\u2461"}, {"id": "ref-for-constructor-string-parser\u2461\u2462"}, {"id": "ref-for-constructor-string-parser\u2461\u2463"}, {"id": "ref-for-constructor-string-parser\u2461\u2464"}, {"id": "ref-for-constructor-string-parser\u2461\u2465"}, {"id": "ref-for-constructor-string-parser\u2461\u2466"}, {"id": "ref-for-constructor-string-parser\u2461\u2467"}, {"id": "ref-for-constructor-string-parser\u2461\u2468"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-input'] = {"dfnID": "constructor-string-parser-input", "url": "#constructor-string-parser-input", "dfnText": "input", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-input"}, {"id": "ref-for-constructor-string-parser-input\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-token-list'] = {"dfnID": "constructor-string-parser-token-list", "url": "#constructor-string-parser-token-list", "dfnText": "token list", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-token-list"}, {"id": "ref-for-constructor-string-parser-token-list\u2460"}, {"id": "ref-for-constructor-string-parser-token-list\u2461"}, {"id": "ref-for-constructor-string-parser-token-list\u2462"}, {"id": "ref-for-constructor-string-parser-token-list\u2463"}, {"id": "ref-for-constructor-string-parser-token-list\u2464"}, {"id": "ref-for-constructor-string-parser-token-list\u2465"}, {"id": "ref-for-constructor-string-parser-token-list\u2466"}, {"id": "ref-for-constructor-string-parser-token-list\u2467"}, {"id": "ref-for-constructor-string-parser-token-list\u2468"}, {"id": "ref-for-constructor-string-parser-token-list\u2460\u24ea"}, {"id": "ref-for-constructor-string-parser-token-list\u2460\u2460"}, {"id": "ref-for-constructor-string-parser-token-list\u2460\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-result'] = {"dfnID": "constructor-string-parser-result", "url": "#constructor-string-parser-result", "dfnText": "result", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-result"}, {"id": "ref-for-constructor-string-parser-result\u2460"}, {"id": "ref-for-constructor-string-parser-result\u2461"}, {"id": "ref-for-constructor-string-parser-result\u2462"}, {"id": "ref-for-constructor-string-parser-result\u2463"}, {"id": "ref-for-constructor-string-parser-result\u2464"}, {"id": "ref-for-constructor-string-parser-result\u2465"}, {"id": "ref-for-constructor-string-parser-result\u2466"}, {"id": "ref-for-constructor-string-parser-result\u2467"}, {"id": "ref-for-constructor-string-parser-result\u2468"}, {"id": "ref-for-constructor-string-parser-result\u2460\u24ea"}, {"id": "ref-for-constructor-string-parser-result\u2460\u2460"}, {"id": "ref-for-constructor-string-parser-result\u2460\u2461"}, {"id": "ref-for-constructor-string-parser-result\u2460\u2462"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-component-start'] = {"dfnID": "constructor-string-parser-component-start", "url": "#constructor-string-parser-component-start", "dfnText": "component start", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-component-start"}, {"id": "ref-for-constructor-string-parser-component-start\u2460"}, {"id": "ref-for-constructor-string-parser-component-start\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-token-index'] = {"dfnID": "constructor-string-parser-token-index", "url": "#constructor-string-parser-token-index", "dfnText": "token index", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-token-index"}, {"id": "ref-for-constructor-string-parser-token-index\u2460"}, {"id": "ref-for-constructor-string-parser-token-index\u2461"}, {"id": "ref-for-constructor-string-parser-token-index\u2462"}, {"id": "ref-for-constructor-string-parser-token-index\u2463"}, {"id": "ref-for-constructor-string-parser-token-index\u2464"}, {"id": "ref-for-constructor-string-parser-token-index\u2465"}, {"id": "ref-for-constructor-string-parser-token-index\u2466"}, {"id": "ref-for-constructor-string-parser-token-index\u2467"}, {"id": "ref-for-constructor-string-parser-token-index\u2468"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u24ea"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2460"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2461"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2462"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2463"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2464"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2465"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2466"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2467"}, {"id": "ref-for-constructor-string-parser-token-index\u2460\u2468"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u24ea"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2460"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2461"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2462"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2463"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2464"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2465"}, {"id": "ref-for-constructor-string-parser-token-index\u2461\u2466"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-token-increment'] = {"dfnID": "constructor-string-parser-token-increment", "url": "#constructor-string-parser-token-increment", "dfnText": "token increment", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-token-increment"}, {"id": "ref-for-constructor-string-parser-token-increment\u2460"}, {"id": "ref-for-constructor-string-parser-token-increment\u2461"}, {"id": "ref-for-constructor-string-parser-token-increment\u2462"}, {"id": "ref-for-constructor-string-parser-token-increment\u2463"}, {"id": "ref-for-constructor-string-parser-token-increment\u2464"}, {"id": "ref-for-constructor-string-parser-token-increment\u2465"}, {"id": "ref-for-constructor-string-parser-token-increment\u2466"}, {"id": "ref-for-constructor-string-parser-token-increment\u2467"}, {"id": "ref-for-constructor-string-parser-token-increment\u2468"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-group-depth'] = {"dfnID": "constructor-string-parser-group-depth", "url": "#constructor-string-parser-group-depth", "dfnText": "group depth", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-group-depth"}, {"id": "ref-for-constructor-string-parser-group-depth\u2460"}, {"id": "ref-for-constructor-string-parser-group-depth\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-hostname-ipv6-bracket-depth'] = {"dfnID": "constructor-string-parser-hostname-ipv6-bracket-depth", "url": "#constructor-string-parser-hostname-ipv6-bracket-depth", "dfnText": "hostname IPv6 bracket depth", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-hostname-ipv6-bracket-depth"}, {"id": "ref-for-constructor-string-parser-hostname-ipv6-bracket-depth\u2460"}, {"id": "ref-for-constructor-string-parser-hostname-ipv6-bracket-depth\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-protocol-matches-a-special-scheme-flag'] = {"dfnID": "constructor-string-parser-protocol-matches-a-special-scheme-flag", "url": "#constructor-string-parser-protocol-matches-a-special-scheme-flag", "dfnText": "protocol matches a special scheme flag", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-protocol-matches-a-special-scheme-flag"}, {"id": "ref-for-constructor-string-parser-protocol-matches-a-special-scheme-flag\u2460"}, {"id": "ref-for-constructor-string-parser-protocol-matches-a-special-scheme-flag\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state'] = {"dfnID": "constructor-string-parser-state", "url": "#constructor-string-parser-state", "dfnText": "state", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state"}, {"id": "ref-for-constructor-string-parser-state\u2460"}, {"id": "ref-for-constructor-string-parser-state\u2461"}, {"id": "ref-for-constructor-string-parser-state\u2462"}, {"id": "ref-for-constructor-string-parser-state\u2463"}, {"id": "ref-for-constructor-string-parser-state\u2464"}, {"id": "ref-for-constructor-string-parser-state\u2465"}, {"id": "ref-for-constructor-string-parser-state\u2466"}, {"id": "ref-for-constructor-string-parser-state\u2467"}, {"id": "ref-for-constructor-string-parser-state\u2468"}, {"id": "ref-for-constructor-string-parser-state\u2460\u24ea"}, {"id": "ref-for-constructor-string-parser-state\u2460\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-init'] = {"dfnID": "constructor-string-parser-state-init", "url": "#constructor-string-parser-state-init", "dfnText": "init", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-init"}, {"id": "ref-for-constructor-string-parser-state-init\u2460"}, {"id": "ref-for-constructor-string-parser-state-init\u2461"}, {"id": "ref-for-constructor-string-parser-state-init\u2462"}, {"id": "ref-for-constructor-string-parser-state-init\u2463"}, {"id": "ref-for-constructor-string-parser-state-init\u2464"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-protocol'] = {"dfnID": "constructor-string-parser-state-protocol", "url": "#constructor-string-parser-state-protocol", "dfnText": "protocol", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-protocol"}, {"id": "ref-for-constructor-string-parser-state-protocol\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-authority'] = {"dfnID": "constructor-string-parser-state-authority", "url": "#constructor-string-parser-state-authority", "dfnText": "authority", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-authority"}, {"id": "ref-for-constructor-string-parser-state-authority\u2460"}, {"id": "ref-for-constructor-string-parser-state-authority\u2461"}, {"id": "ref-for-constructor-string-parser-state-authority\u2462"}, {"id": "ref-for-constructor-string-parser-state-authority\u2463"}, {"id": "ref-for-constructor-string-parser-state-authority\u2464"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-username'] = {"dfnID": "constructor-string-parser-state-username", "url": "#constructor-string-parser-state-username", "dfnText": "username", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-username"}, {"id": "ref-for-constructor-string-parser-state-username\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-password'] = {"dfnID": "constructor-string-parser-state-password", "url": "#constructor-string-parser-state-password", "dfnText": "password", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-password"}, {"id": "ref-for-constructor-string-parser-state-password\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-hostname'] = {"dfnID": "constructor-string-parser-state-hostname", "url": "#constructor-string-parser-state-hostname", "dfnText": "hostname", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-hostname"}, {"id": "ref-for-constructor-string-parser-state-hostname\u2460"}, {"id": "ref-for-constructor-string-parser-state-hostname\u2461"}, {"id": "ref-for-constructor-string-parser-state-hostname\u2462"}, {"id": "ref-for-constructor-string-parser-state-hostname\u2463"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-port'] = {"dfnID": "constructor-string-parser-state-port", "url": "#constructor-string-parser-state-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-port"}, {"id": "ref-for-constructor-string-parser-state-port\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-pathname'] = {"dfnID": "constructor-string-parser-state-pathname", "url": "#constructor-string-parser-state-pathname", "dfnText": "pathname", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-pathname"}, {"id": "ref-for-constructor-string-parser-state-pathname\u2460"}, {"id": "ref-for-constructor-string-parser-state-pathname\u2461"}, {"id": "ref-for-constructor-string-parser-state-pathname\u2462"}, {"id": "ref-for-constructor-string-parser-state-pathname\u2463"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-search'] = {"dfnID": "constructor-string-parser-state-search", "url": "#constructor-string-parser-state-search", "dfnText": "search", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-search"}, {"id": "ref-for-constructor-string-parser-state-search\u2460"}, {"id": "ref-for-constructor-string-parser-state-search\u2461"}, {"id": "ref-for-constructor-string-parser-state-search\u2462"}, {"id": "ref-for-constructor-string-parser-state-search\u2463"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-hash'] = {"dfnID": "constructor-string-parser-state-hash", "url": "#constructor-string-parser-state-hash", "dfnText": "hash", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-hash"}, {"id": "ref-for-constructor-string-parser-state-hash\u2460"}, {"id": "ref-for-constructor-string-parser-state-hash\u2461"}, {"id": "ref-for-constructor-string-parser-state-hash\u2462"}, {"id": "ref-for-constructor-string-parser-state-hash\u2463"}, {"id": "ref-for-constructor-string-parser-state-hash\u2464"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['constructor-string-parser-state-done'] = {"dfnID": "constructor-string-parser-state-done", "url": "#constructor-string-parser-state-done", "dfnText": "done", "refSections": [{"refs": [{"id": "ref-for-constructor-string-parser-state-done"}, {"id": "ref-for-constructor-string-parser-state-done\u2460"}, {"id": "ref-for-constructor-string-parser-state-done\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['parse-a-constructor-string'] = {"dfnID": "parse-a-constructor-string", "url": "#parse-a-constructor-string", "dfnText": "parse a constructor string", "refSections": [{"refs": [{"id": "ref-for-parse-a-constructor-string"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['change-state'] = {"dfnID": "change-state", "url": "#change-state", "dfnText": "change state", "refSections": [{"refs": [{"id": "ref-for-change-state"}, {"id": "ref-for-change-state\u2460"}, {"id": "ref-for-change-state\u2461"}, {"id": "ref-for-change-state\u2462"}, {"id": "ref-for-change-state\u2463"}, {"id": "ref-for-change-state\u2464"}, {"id": "ref-for-change-state\u2465"}, {"id": "ref-for-change-state\u2466"}, {"id": "ref-for-change-state\u2467"}, {"id": "ref-for-change-state\u2468"}, {"id": "ref-for-change-state\u2460\u24ea"}, {"id": "ref-for-change-state\u2460\u2460"}, {"id": "ref-for-change-state\u2460\u2461"}, {"id": "ref-for-change-state\u2460\u2462"}, {"id": "ref-for-change-state\u2460\u2463"}, {"id": "ref-for-change-state\u2460\u2464"}, {"id": "ref-for-change-state\u2460\u2465"}, {"id": "ref-for-change-state\u2460\u2466"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['rewind'] = {"dfnID": "rewind", "url": "#rewind", "dfnText": "rewind", "refSections": [{"refs": [{"id": "ref-for-rewind"}, {"id": "ref-for-rewind\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['rewind-and-set-state'] = {"dfnID": "rewind-and-set-state", "url": "#rewind-and-set-state", "dfnText": "rewind and set state", "refSections": [{"refs": [{"id": "ref-for-rewind-and-set-state"}, {"id": "ref-for-rewind-and-set-state\u2460"}, {"id": "ref-for-rewind-and-set-state\u2461"}, {"id": "ref-for-rewind-and-set-state\u2462"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['get-a-safe-token'] = {"dfnID": "get-a-safe-token", "url": "#get-a-safe-token", "dfnText": "get a safe token", "refSections": [{"refs": [{"id": "ref-for-get-a-safe-token"}, {"id": "ref-for-get-a-safe-token\u2460"}, {"id": "ref-for-get-a-safe-token\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-non-special-pattern-char'] = {"dfnID": "is-a-non-special-pattern-char", "url": "#is-a-non-special-pattern-char", "dfnText": "is a non-special pattern char", "refSections": [{"refs": [{"id": "ref-for-is-a-non-special-pattern-char"}, {"id": "ref-for-is-a-non-special-pattern-char\u2460"}, {"id": "ref-for-is-a-non-special-pattern-char\u2461"}, {"id": "ref-for-is-a-non-special-pattern-char\u2462"}, {"id": "ref-for-is-a-non-special-pattern-char\u2463"}, {"id": "ref-for-is-a-non-special-pattern-char\u2464"}, {"id": "ref-for-is-a-non-special-pattern-char\u2465"}, {"id": "ref-for-is-a-non-special-pattern-char\u2466"}, {"id": "ref-for-is-a-non-special-pattern-char\u2467"}, {"id": "ref-for-is-a-non-special-pattern-char\u2468"}, {"id": "ref-for-is-a-non-special-pattern-char\u2460\u24ea"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-protocol-suffix'] = {"dfnID": "is-a-protocol-suffix", "url": "#is-a-protocol-suffix", "dfnText": "is a protocol suffix", "refSections": [{"refs": [{"id": "ref-for-is-a-protocol-suffix"}, {"id": "ref-for-is-a-protocol-suffix\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['next-is-authority-slashes'] = {"dfnID": "next-is-authority-slashes", "url": "#next-is-authority-slashes", "dfnText": "next is authority slashes", "refSections": [{"refs": [{"id": "ref-for-next-is-authority-slashes"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-an-identity-terminator'] = {"dfnID": "is-an-identity-terminator", "url": "#is-an-identity-terminator", "dfnText": "is an identity terminator", "refSections": [{"refs": [{"id": "ref-for-is-an-identity-terminator"}, {"id": "ref-for-is-an-identity-terminator\u2460"}, {"id": "ref-for-is-an-identity-terminator\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-password-prefix'] = {"dfnID": "is-a-password-prefix", "url": "#is-a-password-prefix", "dfnText": "is a password prefix", "refSections": [{"refs": [{"id": "ref-for-is-a-password-prefix"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-port-prefix'] = {"dfnID": "is-a-port-prefix", "url": "#is-a-port-prefix", "dfnText": "is a port prefix", "refSections": [{"refs": [{"id": "ref-for-is-a-port-prefix"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-pathname-start'] = {"dfnID": "is-a-pathname-start", "url": "#is-a-pathname-start", "dfnText": "is a pathname start", "refSections": [{"refs": [{"id": "ref-for-is-a-pathname-start"}, {"id": "ref-for-is-a-pathname-start\u2460"}, {"id": "ref-for-is-a-pathname-start\u2461"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-search-prefix'] = {"dfnID": "is-a-search-prefix", "url": "#is-a-search-prefix", "dfnText": "is a search prefix", "refSections": [{"refs": [{"id": "ref-for-is-a-search-prefix"}, {"id": "ref-for-is-a-search-prefix\u2460"}, {"id": "ref-for-is-a-search-prefix\u2461"}, {"id": "ref-for-is-a-search-prefix\u2462"}, {"id": "ref-for-is-a-search-prefix\u2463"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-hash-prefix'] = {"dfnID": "is-a-hash-prefix", "url": "#is-a-hash-prefix", "dfnText": "is a hash prefix", "refSections": [{"refs": [{"id": "ref-for-is-a-hash-prefix"}, {"id": "ref-for-is-a-hash-prefix\u2460"}, {"id": "ref-for-is-a-hash-prefix\u2461"}, {"id": "ref-for-is-a-hash-prefix\u2462"}, {"id": "ref-for-is-a-hash-prefix\u2463"}, {"id": "ref-for-is-a-hash-prefix\u2464"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-group-open'] = {"dfnID": "is-a-group-open", "url": "#is-a-group-open", "dfnText": "is a group open", "refSections": [{"refs": [{"id": "ref-for-is-a-group-open"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-a-group-close'] = {"dfnID": "is-a-group-close", "url": "#is-a-group-close", "dfnText": "is a group close", "refSections": [{"refs": [{"id": "ref-for-is-a-group-close"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-an-ipv6-open'] = {"dfnID": "is-an-ipv6-open", "url": "#is-an-ipv6-open", "dfnText": "is an IPv6 open", "refSections": [{"refs": [{"id": "ref-for-is-an-ipv6-open"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['is-an-ipv6-close'] = {"dfnID": "is-an-ipv6-close", "url": "#is-an-ipv6-close", "dfnText": "is an IPv6 close", "refSections": [{"refs": [{"id": "ref-for-is-an-ipv6-close"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['make-a-component-string'] = {"dfnID": "make-a-component-string", "url": "#make-a-component-string", "dfnText": "make a component string", "refSections": [{"refs": [{"id": "ref-for-make-a-component-string"}, {"id": "ref-for-make-a-component-string\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['compute-protocol-matches-a-special-scheme-flag'] = {"dfnID": "compute-protocol-matches-a-special-scheme-flag", "url": "#compute-protocol-matches-a-special-scheme-flag", "dfnText": "compute protocol matches a special scheme flag", "refSections": [{"refs": [{"id": "ref-for-compute-protocol-matches-a-special-scheme-flag"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['pattern-string'] = {"dfnID": "pattern-string", "url": "#pattern-string", "dfnText": "pattern string", "refSections": [{"refs": [{"id": "ref-for-pattern-string"}, {"id": "ref-for-pattern-string\u2460"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-pattern-string\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-pattern-string\u2462"}, {"id": "ref-for-pattern-string\u2463"}, {"id": "ref-for-pattern-string\u2464"}, {"id": "ref-for-pattern-string\u2465"}], "title": "2.1.1. Tokens"}, {"refs": [{"id": "ref-for-pattern-string\u2466"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-pattern-string\u2467"}], "title": "2.1.3. Parts"}, {"refs": [{"id": "ref-for-pattern-string\u2468"}], "title": "2.1.4. Options"}, {"refs": [{"id": "ref-for-pattern-string\u2460\u24ea"}, {"id": "ref-for-pattern-string\u2460\u2460"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-pattern-string\u2460\u2461"}], "title": "2.3. Converting Part Lists to Pattern Strings"}, {"refs": [{"id": "ref-for-pattern-string\u2460\u2462"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['pattern-string-well-formed'] = {"dfnID": "pattern-string-well-formed", "url": "#pattern-string-well-formed", "dfnText": "well formed", "refSections": [{"refs": [{"id": "ref-for-pattern-string-well-formed"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-pattern-string-well-formed\u2460"}], "title": "1.2. Constructor String Parsing"}], "external": false};
window.dfnpanelData['token-list'] = {"dfnID": "token-list", "url": "#token-list", "dfnText": "token list", "refSections": [{"refs": [{"id": "ref-for-token-list"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-list\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-list\u2461"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token'] = {"dfnID": "token", "url": "#token", "dfnText": "token", "refSections": [{"refs": [{"id": "ref-for-token"}, {"id": "ref-for-token\u2460"}, {"id": "ref-for-token\u2461"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token\u2462"}, {"id": "ref-for-token\u2463"}, {"id": "ref-for-token\u2464"}, {"id": "ref-for-token\u2465"}, {"id": "ref-for-token\u2466"}, {"id": "ref-for-token\u2467"}, {"id": "ref-for-token\u2468"}, {"id": "ref-for-token\u2460\u24ea"}, {"id": "ref-for-token\u2460\u2460"}, {"id": "ref-for-token\u2460\u2461"}, {"id": "ref-for-token\u2460\u2462"}, {"id": "ref-for-token\u2460\u2463"}, {"id": "ref-for-token\u2460\u2464"}, {"id": "ref-for-token\u2460\u2465"}, {"id": "ref-for-token\u2460\u2466"}, {"id": "ref-for-token\u2460\u2467"}], "title": "2.1.1. Tokens"}, {"refs": [{"id": "ref-for-token\u2460\u2468"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token\u2461\u24ea"}, {"id": "ref-for-token\u2461\u2460"}, {"id": "ref-for-token\u2461\u2461"}, {"id": "ref-for-token\u2461\u2462"}, {"id": "ref-for-token\u2461\u2463"}, {"id": "ref-for-token\u2461\u2464"}, {"id": "ref-for-token\u2461\u2465"}, {"id": "ref-for-token\u2461\u2466"}, {"id": "ref-for-token\u2461\u2467"}, {"id": "ref-for-token\u2461\u2468"}, {"id": "ref-for-token\u2462\u24ea"}, {"id": "ref-for-token\u2462\u2460"}, {"id": "ref-for-token\u2462\u2461"}, {"id": "ref-for-token\u2462\u2462"}, {"id": "ref-for-token\u2462\u2463"}, {"id": "ref-for-token\u2462\u2464"}, {"id": "ref-for-token\u2462\u2465"}, {"id": "ref-for-token\u2462\u2466"}, {"id": "ref-for-token\u2462\u2467"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type'] = {"dfnID": "token-type", "url": "#token-type", "dfnText": "type", "refSections": [{"refs": [{"id": "ref-for-token-type"}, {"id": "ref-for-token-type\u2460"}, {"id": "ref-for-token-type\u2461"}, {"id": "ref-for-token-type\u2462"}, {"id": "ref-for-token-type\u2463"}, {"id": "ref-for-token-type\u2464"}, {"id": "ref-for-token-type\u2465"}, {"id": "ref-for-token-type\u2466"}, {"id": "ref-for-token-type\u2467"}, {"id": "ref-for-token-type\u2468"}, {"id": "ref-for-token-type\u2460\u24ea"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type\u2460\u2460"}, {"id": "ref-for-token-type\u2460\u2461"}, {"id": "ref-for-token-type\u2460\u2462"}, {"id": "ref-for-token-type\u2460\u2463"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type\u2460\u2464"}, {"id": "ref-for-token-type\u2460\u2465"}, {"id": "ref-for-token-type\u2460\u2466"}, {"id": "ref-for-token-type\u2460\u2467"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-open'] = {"dfnID": "token-type-open", "url": "#token-type-open", "dfnText": "open", "refSections": [{"refs": [{"id": "ref-for-token-type-open"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-open\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-open\u2461"}, {"id": "ref-for-token-type-open\u2462"}, {"id": "ref-for-token-type-open\u2463"}, {"id": "ref-for-token-type-open\u2464"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-close'] = {"dfnID": "token-type-close", "url": "#token-type-close", "dfnText": "close", "refSections": [{"refs": [{"id": "ref-for-token-type-close"}, {"id": "ref-for-token-type-close\u2460"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-close\u2461"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-close\u2462"}, {"id": "ref-for-token-type-close\u2463"}, {"id": "ref-for-token-type-close\u2464"}, {"id": "ref-for-token-type-close\u2465"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-regexp'] = {"dfnID": "token-type-regexp", "url": "#token-type-regexp", "dfnText": "regexp", "refSections": [{"refs": [{"id": "ref-for-token-type-regexp"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-regexp\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-regexp\u2461"}, {"id": "ref-for-token-type-regexp\u2462"}, {"id": "ref-for-token-type-regexp\u2463"}, {"id": "ref-for-token-type-regexp\u2464"}, {"id": "ref-for-token-type-regexp\u2465"}, {"id": "ref-for-token-type-regexp\u2466"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-name'] = {"dfnID": "token-type-name", "url": "#token-type-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-token-type-name"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-name\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-name\u2461"}, {"id": "ref-for-token-type-name\u2462"}, {"id": "ref-for-token-type-name\u2463"}, {"id": "ref-for-token-type-name\u2464"}, {"id": "ref-for-token-type-name\u2465"}, {"id": "ref-for-token-type-name\u2466"}, {"id": "ref-for-token-type-name\u2467"}, {"id": "ref-for-token-type-name\u2468"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-char'] = {"dfnID": "token-type-char", "url": "#token-type-char", "dfnText": "char", "refSections": [{"refs": [{"id": "ref-for-token-type-char"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-char\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-char\u2461"}, {"id": "ref-for-token-type-char\u2462"}, {"id": "ref-for-token-type-char\u2463"}, {"id": "ref-for-token-type-char\u2464"}, {"id": "ref-for-token-type-char\u2465"}, {"id": "ref-for-token-type-char\u2466"}, {"id": "ref-for-token-type-char\u2467"}, {"id": "ref-for-token-type-char\u2468"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-escaped-char'] = {"dfnID": "token-type-escaped-char", "url": "#token-type-escaped-char", "dfnText": "escaped-char", "refSections": [{"refs": [{"id": "ref-for-token-type-escaped-char"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-escaped-char\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-escaped-char\u2461"}, {"id": "ref-for-token-type-escaped-char\u2462"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-other-modifier'] = {"dfnID": "token-type-other-modifier", "url": "#token-type-other-modifier", "dfnText": "other-modifier", "refSections": [{"refs": [{"id": "ref-for-token-type-other-modifier"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-other-modifier\u2460"}, {"id": "ref-for-token-type-other-modifier\u2461"}, {"id": "ref-for-token-type-other-modifier\u2462"}, {"id": "ref-for-token-type-other-modifier\u2463"}, {"id": "ref-for-token-type-other-modifier\u2464"}, {"id": "ref-for-token-type-other-modifier\u2465"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-asterisk'] = {"dfnID": "token-type-asterisk", "url": "#token-type-asterisk", "dfnText": "asterisk", "refSections": [{"refs": [{"id": "ref-for-token-type-asterisk"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-asterisk\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-asterisk\u2461"}, {"id": "ref-for-token-type-asterisk\u2462"}, {"id": "ref-for-token-type-asterisk\u2463"}, {"id": "ref-for-token-type-asterisk\u2464"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-end'] = {"dfnID": "token-type-end", "url": "#token-type-end", "dfnText": "end", "refSections": [{"refs": [{"id": "ref-for-token-type-end"}, {"id": "ref-for-token-type-end\u2460"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-end\u2461"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-type-end\u2462"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['token-type-invalid-char'] = {"dfnID": "token-type-invalid-char", "url": "#token-type-invalid-char", "dfnText": "invalid-char", "refSections": [{"refs": [{"id": "ref-for-token-type-invalid-char"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-type-invalid-char\u2460"}], "title": "2.1.1. Tokens"}, {"refs": [{"id": "ref-for-token-type-invalid-char\u2461"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['token-index'] = {"dfnID": "token-index", "url": "#token-index", "dfnText": "index", "refSections": [{"refs": [{"id": "ref-for-token-index"}, {"id": "ref-for-token-index\u2460"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-index\u2461"}, {"id": "ref-for-token-index\u2462"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['token-value'] = {"dfnID": "token-value", "url": "#token-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-token-value"}, {"id": "ref-for-token-value\u2460"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-token-value\u2461"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-token-value\u2462"}, {"id": "ref-for-token-value\u2463"}, {"id": "ref-for-token-value\u2464"}, {"id": "ref-for-token-value\u2465"}, {"id": "ref-for-token-value\u2466"}, {"id": "ref-for-token-value\u2467"}, {"id": "ref-for-token-value\u2468"}, {"id": "ref-for-token-value\u2460\u24ea"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['tokenize-policy'] = {"dfnID": "tokenize-policy", "url": "#tokenize-policy", "dfnText": "tokenize policy", "refSections": [{"refs": [{"id": "ref-for-tokenize-policy"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-tokenize-policy\u2460"}, {"id": "ref-for-tokenize-policy\u2461"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenize-policy-strict'] = {"dfnID": "tokenize-policy-strict", "url": "#tokenize-policy-strict", "dfnText": "strict", "refSections": [{"refs": [{"id": "ref-for-tokenize-policy-strict"}, {"id": "ref-for-tokenize-policy-strict\u2460"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-tokenize-policy-strict\u2461"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['tokenize-policy-lenient'] = {"dfnID": "tokenize-policy-lenient", "url": "#tokenize-policy-lenient", "dfnText": "lenient", "refSections": [{"refs": [{"id": "ref-for-tokenize-policy-lenient"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-tokenize-policy-lenient\u2460"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer'] = {"dfnID": "tokenizer", "url": "#tokenizer", "dfnText": "tokenizer", "refSections": [{"refs": [{"id": "ref-for-tokenizer"}, {"id": "ref-for-tokenizer\u2460"}, {"id": "ref-for-tokenizer\u2461"}, {"id": "ref-for-tokenizer\u2462"}, {"id": "ref-for-tokenizer\u2463"}, {"id": "ref-for-tokenizer\u2464"}, {"id": "ref-for-tokenizer\u2465"}, {"id": "ref-for-tokenizer\u2466"}, {"id": "ref-for-tokenizer\u2467"}, {"id": "ref-for-tokenizer\u2468"}, {"id": "ref-for-tokenizer\u2460\u24ea"}, {"id": "ref-for-tokenizer\u2460\u2460"}, {"id": "ref-for-tokenizer\u2460\u2461"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer-input'] = {"dfnID": "tokenizer-input", "url": "#tokenizer-input", "dfnText": "input", "refSections": [{"refs": [{"id": "ref-for-tokenizer-input"}, {"id": "ref-for-tokenizer-input\u2460"}, {"id": "ref-for-tokenizer-input\u2461"}, {"id": "ref-for-tokenizer-input\u2462"}, {"id": "ref-for-tokenizer-input\u2463"}, {"id": "ref-for-tokenizer-input\u2464"}, {"id": "ref-for-tokenizer-input\u2465"}, {"id": "ref-for-tokenizer-input\u2466"}, {"id": "ref-for-tokenizer-input\u2467"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer-policy'] = {"dfnID": "tokenizer-policy", "url": "#tokenizer-policy", "dfnText": "policy", "refSections": [{"refs": [{"id": "ref-for-tokenizer-policy"}, {"id": "ref-for-tokenizer-policy\u2460"}, {"id": "ref-for-tokenizer-policy\u2461"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer-token-list'] = {"dfnID": "tokenizer-token-list", "url": "#tokenizer-token-list", "dfnText": "token list", "refSections": [{"refs": [{"id": "ref-for-tokenizer-token-list"}, {"id": "ref-for-tokenizer-token-list\u2460"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer-index'] = {"dfnID": "tokenizer-index", "url": "#tokenizer-index", "dfnText": "index", "refSections": [{"refs": [{"id": "ref-for-tokenizer-index"}, {"id": "ref-for-tokenizer-index\u2460"}, {"id": "ref-for-tokenizer-index\u2461"}, {"id": "ref-for-tokenizer-index\u2462"}, {"id": "ref-for-tokenizer-index\u2463"}, {"id": "ref-for-tokenizer-index\u2464"}, {"id": "ref-for-tokenizer-index\u2465"}, {"id": "ref-for-tokenizer-index\u2466"}, {"id": "ref-for-tokenizer-index\u2467"}, {"id": "ref-for-tokenizer-index\u2468"}, {"id": "ref-for-tokenizer-index\u2460\u24ea"}, {"id": "ref-for-tokenizer-index\u2460\u2460"}, {"id": "ref-for-tokenizer-index\u2460\u2461"}, {"id": "ref-for-tokenizer-index\u2460\u2462"}, {"id": "ref-for-tokenizer-index\u2460\u2463"}, {"id": "ref-for-tokenizer-index\u2460\u2464"}, {"id": "ref-for-tokenizer-index\u2460\u2465"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer-next-index'] = {"dfnID": "tokenizer-next-index", "url": "#tokenizer-next-index", "dfnText": "next index", "refSections": [{"refs": [{"id": "ref-for-tokenizer-next-index"}, {"id": "ref-for-tokenizer-next-index\u2460"}, {"id": "ref-for-tokenizer-next-index\u2461"}, {"id": "ref-for-tokenizer-next-index\u2462"}, {"id": "ref-for-tokenizer-next-index\u2463"}, {"id": "ref-for-tokenizer-next-index\u2464"}, {"id": "ref-for-tokenizer-next-index\u2465"}, {"id": "ref-for-tokenizer-next-index\u2466"}, {"id": "ref-for-tokenizer-next-index\u2467"}, {"id": "ref-for-tokenizer-next-index\u2468"}, {"id": "ref-for-tokenizer-next-index\u2460\u24ea"}, {"id": "ref-for-tokenizer-next-index\u2460\u2460"}, {"id": "ref-for-tokenizer-next-index\u2460\u2461"}, {"id": "ref-for-tokenizer-next-index\u2460\u2462"}, {"id": "ref-for-tokenizer-next-index\u2460\u2463"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenizer-code-point'] = {"dfnID": "tokenizer-code-point", "url": "#tokenizer-code-point", "dfnText": "code point", "refSections": [{"refs": [{"id": "ref-for-tokenizer-code-point"}, {"id": "ref-for-tokenizer-code-point\u2460"}, {"id": "ref-for-tokenizer-code-point\u2461"}, {"id": "ref-for-tokenizer-code-point\u2462"}, {"id": "ref-for-tokenizer-code-point\u2463"}, {"id": "ref-for-tokenizer-code-point\u2464"}, {"id": "ref-for-tokenizer-code-point\u2465"}, {"id": "ref-for-tokenizer-code-point\u2466"}, {"id": "ref-for-tokenizer-code-point\u2467"}, {"id": "ref-for-tokenizer-code-point\u2468"}, {"id": "ref-for-tokenizer-code-point\u2460\u24ea"}, {"id": "ref-for-tokenizer-code-point\u2460\u2460"}, {"id": "ref-for-tokenizer-code-point\u2460\u2461"}, {"id": "ref-for-tokenizer-code-point\u2460\u2462"}, {"id": "ref-for-tokenizer-code-point\u2460\u2463"}, {"id": "ref-for-tokenizer-code-point\u2460\u2464"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['tokenize'] = {"dfnID": "tokenize", "url": "#tokenize", "dfnText": "tokenize", "refSections": [{"refs": [{"id": "ref-for-tokenize"}, {"id": "ref-for-tokenize\u2460"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-tokenize\u2461"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['get-the-next-code-point'] = {"dfnID": "get-the-next-code-point", "url": "#get-the-next-code-point", "dfnText": "get the next code point", "refSections": [{"refs": [{"id": "ref-for-get-the-next-code-point"}, {"id": "ref-for-get-the-next-code-point\u2460"}, {"id": "ref-for-get-the-next-code-point\u2461"}, {"id": "ref-for-get-the-next-code-point\u2462"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['seek-and-get-the-next-code-point'] = {"dfnID": "seek-and-get-the-next-code-point", "url": "#seek-and-get-the-next-code-point", "dfnText": "seek and get the next code point", "refSections": [{"refs": [{"id": "ref-for-seek-and-get-the-next-code-point"}, {"id": "ref-for-seek-and-get-the-next-code-point\u2460"}, {"id": "ref-for-seek-and-get-the-next-code-point\u2461"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['add-a-token'] = {"dfnID": "add-a-token", "url": "#add-a-token", "dfnText": "add a token", "refSections": [{"refs": [{"id": "ref-for-add-a-token"}, {"id": "ref-for-add-a-token\u2460"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['add-a-token-with-default-length'] = {"dfnID": "add-a-token-with-default-length", "url": "#add-a-token-with-default-length", "dfnText": "add a token with default length", "refSections": [{"refs": [{"id": "ref-for-add-a-token-with-default-length"}, {"id": "ref-for-add-a-token-with-default-length\u2460"}, {"id": "ref-for-add-a-token-with-default-length\u2461"}, {"id": "ref-for-add-a-token-with-default-length\u2462"}, {"id": "ref-for-add-a-token-with-default-length\u2463"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['add-a-token-with-default-position-and-length'] = {"dfnID": "add-a-token-with-default-position-and-length", "url": "#add-a-token-with-default-position-and-length", "dfnText": "add a token with default position and length", "refSections": [{"refs": [{"id": "ref-for-add-a-token-with-default-position-and-length"}, {"id": "ref-for-add-a-token-with-default-position-and-length\u2460"}, {"id": "ref-for-add-a-token-with-default-position-and-length\u2461"}, {"id": "ref-for-add-a-token-with-default-position-and-length\u2462"}, {"id": "ref-for-add-a-token-with-default-position-and-length\u2463"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['process-a-tokenizing-error'] = {"dfnID": "process-a-tokenizing-error", "url": "#process-a-tokenizing-error", "dfnText": "process a tokenizing error", "refSections": [{"refs": [{"id": "ref-for-process-a-tokenizing-error"}, {"id": "ref-for-process-a-tokenizing-error\u2460"}, {"id": "ref-for-process-a-tokenizing-error\u2461"}, {"id": "ref-for-process-a-tokenizing-error\u2462"}, {"id": "ref-for-process-a-tokenizing-error\u2463"}, {"id": "ref-for-process-a-tokenizing-error\u2464"}, {"id": "ref-for-process-a-tokenizing-error\u2465"}, {"id": "ref-for-process-a-tokenizing-error\u2466"}, {"id": "ref-for-process-a-tokenizing-error\u2467"}, {"id": "ref-for-process-a-tokenizing-error\u2468"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['is-a-valid-name-code-point'] = {"dfnID": "is-a-valid-name-code-point", "url": "#is-a-valid-name-code-point", "dfnText": "is a valid name code point", "refSections": [{"refs": [{"id": "ref-for-is-a-valid-name-code-point"}], "title": "2.1.2. Tokenizing"}, {"refs": [{"id": "ref-for-is-a-valid-name-code-point\u2460"}, {"id": "ref-for-is-a-valid-name-code-point\u2461"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['is-ascii'] = {"dfnID": "is-ascii", "url": "#is-ascii", "dfnText": "is ASCII", "refSections": [{"refs": [{"id": "ref-for-is-ascii"}, {"id": "ref-for-is-ascii\u2460"}], "title": "2.1.2. Tokenizing"}], "external": false};
window.dfnpanelData['part-list'] = {"dfnID": "part-list", "url": "#part-list", "dfnText": "part list", "refSections": [{"refs": [{"id": "ref-for-part-list"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-part-list\u2460"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-list\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-list\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part'] = {"dfnID": "part", "url": "#part", "dfnText": "part", "refSections": [{"refs": [{"id": "ref-for-part"}, {"id": "ref-for-part\u2460"}, {"id": "ref-for-part\u2461"}, {"id": "ref-for-part\u2462"}, {"id": "ref-for-part\u2463"}, {"id": "ref-for-part\u2464"}, {"id": "ref-for-part\u2465"}, {"id": "ref-for-part\u2466"}, {"id": "ref-for-part\u2467"}, {"id": "ref-for-part\u2468"}, {"id": "ref-for-part\u2460\u24ea"}, {"id": "ref-for-part\u2460\u2460"}, {"id": "ref-for-part\u2460\u2461"}, {"id": "ref-for-part\u2460\u2462"}, {"id": "ref-for-part\u2460\u2463"}], "title": "2.1.3. Parts"}, {"refs": [{"id": "ref-for-part\u2460\u2464"}, {"id": "ref-for-part\u2460\u2465"}, {"id": "ref-for-part\u2460\u2466"}, {"id": "ref-for-part\u2460\u2467"}, {"id": "ref-for-part\u2460\u2468"}, {"id": "ref-for-part\u2461\u24ea"}, {"id": "ref-for-part\u2461\u2460"}, {"id": "ref-for-part\u2461\u2461"}, {"id": "ref-for-part\u2461\u2462"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['part-type'] = {"dfnID": "part-type", "url": "#part-type", "dfnText": "type", "refSections": [{"refs": [{"id": "ref-for-part-type"}, {"id": "ref-for-part-type\u2460"}, {"id": "ref-for-part-type\u2461"}, {"id": "ref-for-part-type\u2462"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-type\u2463"}, {"id": "ref-for-part-type\u2464"}, {"id": "ref-for-part-type\u2465"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-type\u2466"}, {"id": "ref-for-part-type\u2467"}, {"id": "ref-for-part-type\u2468"}, {"id": "ref-for-part-type\u2460\u24ea"}, {"id": "ref-for-part-type\u2460\u2460"}, {"id": "ref-for-part-type\u2460\u2461"}, {"id": "ref-for-part-type\u2460\u2462"}, {"id": "ref-for-part-type\u2460\u2463"}, {"id": "ref-for-part-type\u2460\u2464"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-type-fixed-text'] = {"dfnID": "part-type-fixed-text", "url": "#part-type-fixed-text", "dfnText": "fixed-text", "refSections": [{"refs": [{"id": "ref-for-part-type-fixed-text"}, {"id": "ref-for-part-type-fixed-text\u2460"}, {"id": "ref-for-part-type-fixed-text\u2461"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-type-fixed-text\u2462"}, {"id": "ref-for-part-type-fixed-text\u2463"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-type-fixed-text\u2464"}, {"id": "ref-for-part-type-fixed-text\u2465"}, {"id": "ref-for-part-type-fixed-text\u2466"}, {"id": "ref-for-part-type-fixed-text\u2467"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-type-regexp'] = {"dfnID": "part-type-regexp", "url": "#part-type-regexp", "dfnText": "regexp", "refSections": [{"refs": [{"id": "ref-for-part-type-regexp"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-type-regexp\u2460"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-type-segment-wildcard'] = {"dfnID": "part-type-segment-wildcard", "url": "#part-type-segment-wildcard", "dfnText": "segment-wildcard", "refSections": [{"refs": [{"id": "ref-for-part-type-segment-wildcard"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-type-segment-wildcard\u2460"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-type-segment-wildcard\u2461"}, {"id": "ref-for-part-type-segment-wildcard\u2462"}, {"id": "ref-for-part-type-segment-wildcard\u2463"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-type-full-wildcard'] = {"dfnID": "part-type-full-wildcard", "url": "#part-type-full-wildcard", "dfnText": "full-wildcard", "refSections": [{"refs": [{"id": "ref-for-part-type-full-wildcard"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-type-full-wildcard\u2460"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-type-full-wildcard\u2461"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-value'] = {"dfnID": "part-value", "url": "#part-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-part-value"}, {"id": "ref-for-part-value\u2460"}, {"id": "ref-for-part-value\u2461"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-value\u2462"}, {"id": "ref-for-part-value\u2463"}, {"id": "ref-for-part-value\u2464"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-value\u2465"}, {"id": "ref-for-part-value\u2466"}, {"id": "ref-for-part-value\u2467"}, {"id": "ref-for-part-value\u2468"}, {"id": "ref-for-part-value\u2460\u24ea"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-modifier'] = {"dfnID": "part-modifier", "url": "#part-modifier", "dfnText": "modifier", "refSections": [{"refs": [{"id": "ref-for-part-modifier"}, {"id": "ref-for-part-modifier\u2460"}, {"id": "ref-for-part-modifier\u2461"}, {"id": "ref-for-part-modifier\u2462"}], "title": "2.1.3. Parts"}, {"refs": [{"id": "ref-for-part-modifier\u2463"}, {"id": "ref-for-part-modifier\u2464"}, {"id": "ref-for-part-modifier\u2465"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-modifier\u2466"}, {"id": "ref-for-part-modifier\u2467"}, {"id": "ref-for-part-modifier\u2468"}, {"id": "ref-for-part-modifier\u2460\u24ea"}, {"id": "ref-for-part-modifier\u2460\u2460"}, {"id": "ref-for-part-modifier\u2460\u2461"}, {"id": "ref-for-part-modifier\u2460\u2462"}, {"id": "ref-for-part-modifier\u2460\u2463"}, {"id": "ref-for-part-modifier\u2460\u2464"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-modifier\u2460\u2465"}, {"id": "ref-for-part-modifier\u2460\u2466"}, {"id": "ref-for-part-modifier\u2460\u2467"}, {"id": "ref-for-part-modifier\u2460\u2468"}, {"id": "ref-for-part-modifier\u2461\u24ea"}, {"id": "ref-for-part-modifier\u2461\u2460"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-modifier-none'] = {"dfnID": "part-modifier-none", "url": "#part-modifier-none", "dfnText": "none", "refSections": [{"refs": [{"id": "ref-for-part-modifier-none"}, {"id": "ref-for-part-modifier-none\u2460"}, {"id": "ref-for-part-modifier-none\u2461"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-modifier-none\u2462"}, {"id": "ref-for-part-modifier-none\u2463"}, {"id": "ref-for-part-modifier-none\u2464"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-modifier-none\u2465"}, {"id": "ref-for-part-modifier-none\u2466"}, {"id": "ref-for-part-modifier-none\u2467"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-modifier-optional'] = {"dfnID": "part-modifier-optional", "url": "#part-modifier-optional", "dfnText": "optional", "refSections": [{"refs": [{"id": "ref-for-part-modifier-optional"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-modifier-optional\u2460"}, {"id": "ref-for-part-modifier-optional\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-modifier-optional\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-modifier-zero-or-more'] = {"dfnID": "part-modifier-zero-or-more", "url": "#part-modifier-zero-or-more", "dfnText": "zero-or-more", "refSections": [{"refs": [{"id": "ref-for-part-modifier-zero-or-more"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-modifier-zero-or-more\u2460"}, {"id": "ref-for-part-modifier-zero-or-more\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-modifier-zero-or-more\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-modifier-one-or-more'] = {"dfnID": "part-modifier-one-or-more", "url": "#part-modifier-one-or-more", "dfnText": "one-or-more", "refSections": [{"refs": [{"id": "ref-for-part-modifier-one-or-more"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-modifier-one-or-more\u2460"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-modifier-one-or-more\u2461"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-name'] = {"dfnID": "part-name", "url": "#part-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-part-name"}, {"id": "ref-for-part-name\u2460"}, {"id": "ref-for-part-name\u2461"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-name\u2462"}, {"id": "ref-for-part-name\u2463"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-name\u2464"}, {"id": "ref-for-part-name\u2465"}, {"id": "ref-for-part-name\u2466"}, {"id": "ref-for-part-name\u2467"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-prefix'] = {"dfnID": "part-prefix", "url": "#part-prefix", "dfnText": "prefix", "refSections": [{"refs": [{"id": "ref-for-part-prefix"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-prefix\u2460"}, {"id": "ref-for-part-prefix\u2461"}, {"id": "ref-for-part-prefix\u2462"}, {"id": "ref-for-part-prefix\u2463"}, {"id": "ref-for-part-prefix\u2464"}, {"id": "ref-for-part-prefix\u2465"}, {"id": "ref-for-part-prefix\u2466"}, {"id": "ref-for-part-prefix\u2467"}, {"id": "ref-for-part-prefix\u2468"}, {"id": "ref-for-part-prefix\u2460\u24ea"}, {"id": "ref-for-part-prefix\u2460\u2460"}, {"id": "ref-for-part-prefix\u2460\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-prefix\u2460\u2462"}, {"id": "ref-for-part-prefix\u2460\u2463"}, {"id": "ref-for-part-prefix\u2460\u2464"}, {"id": "ref-for-part-prefix\u2460\u2465"}, {"id": "ref-for-part-prefix\u2460\u2466"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['part-suffix'] = {"dfnID": "part-suffix", "url": "#part-suffix", "dfnText": "suffix", "refSections": [{"refs": [{"id": "ref-for-part-suffix"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-part-suffix\u2460"}, {"id": "ref-for-part-suffix\u2461"}, {"id": "ref-for-part-suffix\u2462"}, {"id": "ref-for-part-suffix\u2463"}, {"id": "ref-for-part-suffix\u2464"}, {"id": "ref-for-part-suffix\u2465"}, {"id": "ref-for-part-suffix\u2466"}, {"id": "ref-for-part-suffix\u2467"}, {"id": "ref-for-part-suffix\u2468"}, {"id": "ref-for-part-suffix\u2460\u24ea"}, {"id": "ref-for-part-suffix\u2460\u2460"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-part-suffix\u2460\u2461"}, {"id": "ref-for-part-suffix\u2460\u2462"}, {"id": "ref-for-part-suffix\u2460\u2463"}, {"id": "ref-for-part-suffix\u2460\u2464"}, {"id": "ref-for-part-suffix\u2460\u2465"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['options'] = {"dfnID": "options", "url": "#options", "dfnText": "options", "refSections": [{"refs": [{"id": "ref-for-options"}, {"id": "ref-for-options\u2460"}, {"id": "ref-for-options\u2461"}, {"id": "ref-for-options\u2462"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-options\u2463"}, {"id": "ref-for-options\u2464"}, {"id": "ref-for-options\u2465"}], "title": "2.1.4. Options"}, {"refs": [{"id": "ref-for-options\u2466"}, {"id": "ref-for-options\u2467"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-options\u2468"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-options\u2460\u24ea"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['options-delimiter-code-point'] = {"dfnID": "options-delimiter-code-point", "url": "#options-delimiter-code-point", "dfnText": "delimiter code point", "refSections": [{"refs": [{"id": "ref-for-options-delimiter-code-point"}, {"id": "ref-for-options-delimiter-code-point\u2460"}, {"id": "ref-for-options-delimiter-code-point\u2461"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-options-delimiter-code-point\u2462"}, {"id": "ref-for-options-delimiter-code-point\u2463"}], "title": "2.1.4. Options"}, {"refs": [{"id": "ref-for-options-delimiter-code-point\u2464"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['options-prefix-code-point'] = {"dfnID": "options-prefix-code-point", "url": "#options-prefix-code-point", "dfnText": "prefix code point", "refSections": [{"refs": [{"id": "ref-for-options-prefix-code-point"}, {"id": "ref-for-options-prefix-code-point\u2460"}, {"id": "ref-for-options-prefix-code-point\u2461"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-options-prefix-code-point\u2462"}], "title": "2.1.4. Options"}, {"refs": [{"id": "ref-for-options-prefix-code-point\u2463"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-options-prefix-code-point\u2464"}, {"id": "ref-for-options-prefix-code-point\u2465"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['options-ignore-case'] = {"dfnID": "options-ignore-case", "url": "#options-ignore-case", "dfnText": "ignore case", "refSections": [{"refs": [{"id": "ref-for-options-ignore-case"}, {"id": "ref-for-options-ignore-case\u2460"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-options-ignore-case\u2461"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['encoding-callback'] = {"dfnID": "encoding-callback", "url": "#encoding-callback", "dfnText": "encoding callback", "refSections": [{"refs": [{"id": "ref-for-encoding-callback"}], "title": "1.1. Internals"}, {"refs": [{"id": "ref-for-encoding-callback\u2460"}, {"id": "ref-for-encoding-callback\u2461"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser'] = {"dfnID": "pattern-parser", "url": "#pattern-parser", "dfnText": "pattern parser", "refSections": [{"refs": [{"id": "ref-for-pattern-parser"}, {"id": "ref-for-pattern-parser\u2460"}, {"id": "ref-for-pattern-parser\u2461"}, {"id": "ref-for-pattern-parser\u2462"}, {"id": "ref-for-pattern-parser\u2463"}, {"id": "ref-for-pattern-parser\u2464"}, {"id": "ref-for-pattern-parser\u2465"}, {"id": "ref-for-pattern-parser\u2466"}, {"id": "ref-for-pattern-parser\u2467"}, {"id": "ref-for-pattern-parser\u2468"}, {"id": "ref-for-pattern-parser\u2460\u24ea"}, {"id": "ref-for-pattern-parser\u2460\u2460"}, {"id": "ref-for-pattern-parser\u2460\u2461"}, {"id": "ref-for-pattern-parser\u2460\u2462"}, {"id": "ref-for-pattern-parser\u2460\u2463"}, {"id": "ref-for-pattern-parser\u2460\u2464"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-token-list'] = {"dfnID": "pattern-parser-token-list", "url": "#pattern-parser-token-list", "dfnText": "token list", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-token-list"}, {"id": "ref-for-pattern-parser-token-list\u2460"}, {"id": "ref-for-pattern-parser-token-list\u2461"}, {"id": "ref-for-pattern-parser-token-list\u2462"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-encoding-callback'] = {"dfnID": "pattern-parser-encoding-callback", "url": "#pattern-parser-encoding-callback", "dfnText": "encoding callback", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-encoding-callback"}, {"id": "ref-for-pattern-parser-encoding-callback\u2460"}, {"id": "ref-for-pattern-parser-encoding-callback\u2461"}, {"id": "ref-for-pattern-parser-encoding-callback\u2462"}, {"id": "ref-for-pattern-parser-encoding-callback\u2463"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-segment-wildcard-regexp'] = {"dfnID": "pattern-parser-segment-wildcard-regexp", "url": "#pattern-parser-segment-wildcard-regexp", "dfnText": "segment wildcard regexp", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-segment-wildcard-regexp"}, {"id": "ref-for-pattern-parser-segment-wildcard-regexp\u2460"}, {"id": "ref-for-pattern-parser-segment-wildcard-regexp\u2461"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-part-list'] = {"dfnID": "pattern-parser-part-list", "url": "#pattern-parser-part-list", "dfnText": "part list", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-part-list"}, {"id": "ref-for-pattern-parser-part-list\u2460"}, {"id": "ref-for-pattern-parser-part-list\u2461"}, {"id": "ref-for-pattern-parser-part-list\u2462"}, {"id": "ref-for-pattern-parser-part-list\u2463"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-pending-fixed-value'] = {"dfnID": "pattern-parser-pending-fixed-value", "url": "#pattern-parser-pending-fixed-value", "dfnText": "pending fixed value", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-pending-fixed-value"}, {"id": "ref-for-pattern-parser-pending-fixed-value\u2460"}, {"id": "ref-for-pattern-parser-pending-fixed-value\u2461"}, {"id": "ref-for-pattern-parser-pending-fixed-value\u2462"}, {"id": "ref-for-pattern-parser-pending-fixed-value\u2463"}, {"id": "ref-for-pattern-parser-pending-fixed-value\u2464"}, {"id": "ref-for-pattern-parser-pending-fixed-value\u2465"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-index'] = {"dfnID": "pattern-parser-index", "url": "#pattern-parser-index", "dfnText": "index", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-index"}, {"id": "ref-for-pattern-parser-index\u2460"}, {"id": "ref-for-pattern-parser-index\u2461"}, {"id": "ref-for-pattern-parser-index\u2462"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['pattern-parser-next-numeric-name'] = {"dfnID": "pattern-parser-next-numeric-name", "url": "#pattern-parser-next-numeric-name", "dfnText": "next numeric name", "refSections": [{"refs": [{"id": "ref-for-pattern-parser-next-numeric-name"}, {"id": "ref-for-pattern-parser-next-numeric-name\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['parse-a-pattern-string'] = {"dfnID": "parse-a-pattern-string", "url": "#parse-a-pattern-string", "dfnText": "parse a pattern string", "refSections": [{"refs": [{"id": "ref-for-parse-a-pattern-string"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['full-wildcard-regexp-value'] = {"dfnID": "full-wildcard-regexp-value", "url": "#full-wildcard-regexp-value", "dfnText": "full wildcard regexp value", "refSections": [{"refs": [{"id": "ref-for-full-wildcard-regexp-value"}, {"id": "ref-for-full-wildcard-regexp-value\u2460"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-full-wildcard-regexp-value\u2461"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-full-wildcard-regexp-value\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['generate-a-segment-wildcard-regexp'] = {"dfnID": "generate-a-segment-wildcard-regexp", "url": "#generate-a-segment-wildcard-regexp", "dfnText": "generate a segment wildcard regexp", "refSections": [{"refs": [{"id": "ref-for-generate-a-segment-wildcard-regexp"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-generate-a-segment-wildcard-regexp\u2460"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-generate-a-segment-wildcard-regexp\u2461"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['try-to-consume-a-token'] = {"dfnID": "try-to-consume-a-token", "url": "#try-to-consume-a-token", "dfnText": "try to consume a token", "refSections": [{"refs": [{"id": "ref-for-try-to-consume-a-token"}, {"id": "ref-for-try-to-consume-a-token\u2460"}, {"id": "ref-for-try-to-consume-a-token\u2461"}, {"id": "ref-for-try-to-consume-a-token\u2462"}, {"id": "ref-for-try-to-consume-a-token\u2463"}, {"id": "ref-for-try-to-consume-a-token\u2464"}, {"id": "ref-for-try-to-consume-a-token\u2465"}, {"id": "ref-for-try-to-consume-a-token\u2466"}, {"id": "ref-for-try-to-consume-a-token\u2467"}, {"id": "ref-for-try-to-consume-a-token\u2468"}, {"id": "ref-for-try-to-consume-a-token\u2460\u24ea"}, {"id": "ref-for-try-to-consume-a-token\u2460\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['try-to-consume-a-modifier-token'] = {"dfnID": "try-to-consume-a-modifier-token", "url": "#try-to-consume-a-modifier-token", "dfnText": "try to consume a modifier token", "refSections": [{"refs": [{"id": "ref-for-try-to-consume-a-modifier-token"}, {"id": "ref-for-try-to-consume-a-modifier-token\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['try-to-consume-a-regexp-or-wildcard-token'] = {"dfnID": "try-to-consume-a-regexp-or-wildcard-token", "url": "#try-to-consume-a-regexp-or-wildcard-token", "dfnText": "try to consume a regexp or wildcard token", "refSections": [{"refs": [{"id": "ref-for-try-to-consume-a-regexp-or-wildcard-token"}, {"id": "ref-for-try-to-consume-a-regexp-or-wildcard-token\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['consume-a-required-token'] = {"dfnID": "consume-a-required-token", "url": "#consume-a-required-token", "dfnText": "consume a required token", "refSections": [{"refs": [{"id": "ref-for-consume-a-required-token"}, {"id": "ref-for-consume-a-required-token\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['consume-text'] = {"dfnID": "consume-text", "url": "#consume-text", "dfnText": "consume text", "refSections": [{"refs": [{"id": "ref-for-consume-text"}, {"id": "ref-for-consume-text\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['maybe-add-a-part-from-the-pending-fixed-value'] = {"dfnID": "maybe-add-a-part-from-the-pending-fixed-value", "url": "#maybe-add-a-part-from-the-pending-fixed-value", "dfnText": "maybe add a part from the pending fixed value", "refSections": [{"refs": [{"id": "ref-for-maybe-add-a-part-from-the-pending-fixed-value"}, {"id": "ref-for-maybe-add-a-part-from-the-pending-fixed-value\u2460"}, {"id": "ref-for-maybe-add-a-part-from-the-pending-fixed-value\u2461"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['add-a-part'] = {"dfnID": "add-a-part", "url": "#add-a-part", "dfnText": "add a part", "refSections": [{"refs": [{"id": "ref-for-add-a-part"}, {"id": "ref-for-add-a-part\u2460"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['is-a-duplicate-name'] = {"dfnID": "is-a-duplicate-name", "url": "#is-a-duplicate-name", "dfnText": "is a duplicate name", "refSections": [{"refs": [{"id": "ref-for-is-a-duplicate-name"}], "title": "2.1.5. Parsing"}], "external": false};
window.dfnpanelData['generate-a-regular-expression-and-name-list'] = {"dfnID": "generate-a-regular-expression-and-name-list", "url": "#generate-a-regular-expression-and-name-list", "dfnText": "generate a regular expression and name list", "refSections": [{"refs": [{"id": "ref-for-generate-a-regular-expression-and-name-list"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['escape-a-regexp-string'] = {"dfnID": "escape-a-regexp-string", "url": "#escape-a-regexp-string", "dfnText": "escape a regexp string", "refSections": [{"refs": [{"id": "ref-for-escape-a-regexp-string"}], "title": "2.1.5. Parsing"}, {"refs": [{"id": "ref-for-escape-a-regexp-string\u2460"}, {"id": "ref-for-escape-a-regexp-string\u2461"}, {"id": "ref-for-escape-a-regexp-string\u2462"}, {"id": "ref-for-escape-a-regexp-string\u2463"}, {"id": "ref-for-escape-a-regexp-string\u2464"}, {"id": "ref-for-escape-a-regexp-string\u2465"}, {"id": "ref-for-escape-a-regexp-string\u2466"}, {"id": "ref-for-escape-a-regexp-string\u2467"}], "title": "2.2. Converting Part Lists to Regular Expressions"}], "external": false};
window.dfnpanelData['generate-a-pattern-string'] = {"dfnID": "generate-a-pattern-string", "url": "#generate-a-pattern-string", "dfnText": "generate a pattern string", "refSections": [{"refs": [{"id": "ref-for-generate-a-pattern-string"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['escape-a-pattern-string'] = {"dfnID": "escape-a-pattern-string", "url": "#escape-a-pattern-string", "dfnText": "escape a pattern string", "refSections": [{"refs": [{"id": "ref-for-escape-a-pattern-string"}, {"id": "ref-for-escape-a-pattern-string\u2460"}, {"id": "ref-for-escape-a-pattern-string\u2461"}, {"id": "ref-for-escape-a-pattern-string\u2462"}], "title": "2.3. Converting Part Lists to Pattern Strings"}, {"refs": [{"id": "ref-for-escape-a-pattern-string\u2463"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['convert-a-modifier-to-a-string'] = {"dfnID": "convert-a-modifier-to-a-string", "url": "#convert-a-modifier-to-a-string", "dfnText": "convert a modifier to a string", "refSections": [{"refs": [{"id": "ref-for-convert-a-modifier-to-a-string"}, {"id": "ref-for-convert-a-modifier-to-a-string\u2460"}, {"id": "ref-for-convert-a-modifier-to-a-string\u2461"}, {"id": "ref-for-convert-a-modifier-to-a-string\u2462"}], "title": "2.2. Converting Part Lists to Regular Expressions"}, {"refs": [{"id": "ref-for-convert-a-modifier-to-a-string\u2463"}, {"id": "ref-for-convert-a-modifier-to-a-string\u2464"}], "title": "2.3. Converting Part Lists to Pattern Strings"}], "external": false};
window.dfnpanelData['canonicalize-a-protocol'] = {"dfnID": "canonicalize-a-protocol", "url": "#canonicalize-a-protocol", "dfnText": "canonicalize a protocol", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-protocol"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-protocol\u2460"}], "title": "1.2. Constructor String Parsing"}, {"refs": [{"id": "ref-for-canonicalize-a-protocol\u2461"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-a-username'] = {"dfnID": "canonicalize-a-username", "url": "#canonicalize-a-username", "dfnText": "canonicalize a username", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-username"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-username\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-a-password'] = {"dfnID": "canonicalize-a-password", "url": "#canonicalize-a-password", "dfnText": "canonicalize a password", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-password"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-password\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-a-hostname'] = {"dfnID": "canonicalize-a-hostname", "url": "#canonicalize-a-hostname", "dfnText": "canonicalize a hostname", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-hostname"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-hostname\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-an-ipv6-hostname'] = {"dfnID": "canonicalize-an-ipv6-hostname", "url": "#canonicalize-an-ipv6-hostname", "dfnText": "canonicalize an IPv6 hostname", "refSections": [{"refs": [{"id": "ref-for-canonicalize-an-ipv6-hostname"}], "title": "1. The URLPattern class "}], "external": false};
window.dfnpanelData['canonicalize-a-port'] = {"dfnID": "canonicalize-a-port", "url": "#canonicalize-a-port", "dfnText": "canonicalize a port", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-port"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-port\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-a-pathname'] = {"dfnID": "canonicalize-a-pathname", "url": "#canonicalize-a-pathname", "dfnText": "canonicalize a pathname", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-pathname"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-pathname\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-an-opaque-pathname'] = {"dfnID": "canonicalize-an-opaque-pathname", "url": "#canonicalize-an-opaque-pathname", "dfnText": "canonicalize an opaque pathname", "refSections": [{"refs": [{"id": "ref-for-canonicalize-an-opaque-pathname"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-an-opaque-pathname\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-a-search'] = {"dfnID": "canonicalize-a-search", "url": "#canonicalize-a-search", "dfnText": "canonicalize a search", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-search"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-search\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['canonicalize-a-hash'] = {"dfnID": "canonicalize-a-hash", "url": "#canonicalize-a-hash", "dfnText": "canonicalize a hash", "refSections": [{"refs": [{"id": "ref-for-canonicalize-a-hash"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-canonicalize-a-hash\u2460"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-a-urlpatterninit'] = {"dfnID": "process-a-urlpatterninit", "url": "#process-a-urlpatterninit", "dfnText": "process a URLPatternInit", "refSections": [{"refs": [{"id": "ref-for-process-a-urlpatterninit"}], "title": "1. The URLPattern class "}, {"refs": [{"id": "ref-for-process-a-urlpatterninit\u2460"}], "title": "1.1. Internals"}], "external": false};
window.dfnpanelData['process-a-base-url-string'] = {"dfnID": "process-a-base-url-string", "url": "#process-a-base-url-string", "dfnText": "process a base URL string", "refSections": [{"refs": [{"id": "ref-for-process-a-base-url-string"}, {"id": "ref-for-process-a-base-url-string\u2460"}, {"id": "ref-for-process-a-base-url-string\u2461"}, {"id": "ref-for-process-a-base-url-string\u2462"}, {"id": "ref-for-process-a-base-url-string\u2463"}, {"id": "ref-for-process-a-base-url-string\u2464"}, {"id": "ref-for-process-a-base-url-string\u2465"}, {"id": "ref-for-process-a-base-url-string\u2466"}, {"id": "ref-for-process-a-base-url-string\u2467"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['is-an-absolute-pathname'] = {"dfnID": "is-an-absolute-pathname", "url": "#is-an-absolute-pathname", "dfnText": "is an absolute pathname", "refSections": [{"refs": [{"id": "ref-for-is-an-absolute-pathname"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-protocol-for-init'] = {"dfnID": "process-protocol-for-init", "url": "#process-protocol-for-init", "dfnText": "process protocol for init", "refSections": [{"refs": [{"id": "ref-for-process-protocol-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-username-for-init'] = {"dfnID": "process-username-for-init", "url": "#process-username-for-init", "dfnText": "process username for init", "refSections": [{"refs": [{"id": "ref-for-process-username-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-password-for-init'] = {"dfnID": "process-password-for-init", "url": "#process-password-for-init", "dfnText": "process password for init", "refSections": [{"refs": [{"id": "ref-for-process-password-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-hostname-for-init'] = {"dfnID": "process-hostname-for-init", "url": "#process-hostname-for-init", "dfnText": "process hostname for init", "refSections": [{"refs": [{"id": "ref-for-process-hostname-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-port-for-init'] = {"dfnID": "process-port-for-init", "url": "#process-port-for-init", "dfnText": "process port for init", "refSections": [{"refs": [{"id": "ref-for-process-port-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-pathname-for-init'] = {"dfnID": "process-pathname-for-init", "url": "#process-pathname-for-init", "dfnText": "process pathname for init", "refSections": [{"refs": [{"id": "ref-for-process-pathname-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-search-for-init'] = {"dfnID": "process-search-for-init", "url": "#process-search-for-init", "dfnText": "process search for init", "refSections": [{"refs": [{"id": "ref-for-process-search-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
window.dfnpanelData['process-hash-for-init'] = {"dfnID": "process-hash-for-init", "url": "#process-hash-for-init", "dfnText": "process hash for init", "refSections": [{"refs": [{"id": "ref-for-process-hash-for-init"}], "title": "3.2. URLPatternInit Processing"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{

function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        const rect = dfn.getBoundingClientRect();
        const top = window.scrollY + rect.top
        panel.style.top = top + "px";
        panel.top = top;
        panel.height = rect.height;
        panel.classList.remove("unpositioned");
        const panelRect = panel.getBoundingClientRect()
        if(main) {
            panel.classList.toggle("overlapping-main", panelRect.left < mainRect.right)
        }
    }
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>